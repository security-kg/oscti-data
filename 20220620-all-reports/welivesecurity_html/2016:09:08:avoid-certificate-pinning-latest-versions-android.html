<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="_b2avZwzr79oru6lM2Ddae1fNpSIbPaP0H0WNkc2x3k"/>
    <meta name="msvalidate.01" content="CE77828A466C2513F660017CFCB6BA13"/>
    <link rel="icon" href="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/favicon.ico">

    

            
    
    <link href="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/build/css/main-8633bd3c28.css" rel="stylesheet">
    <script type="text/javascript"> var appInsights=window.appInsights||function(a){ function b(a){c[a]=function(){var b=arguments;c.queue.push(function(){c[a].apply(c,b)})}}var c={config:a},d=document,e=window;setTimeout(function(){var b=d.createElement("script");b.src=a.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",d.getElementsByTagName("script")[0].parentNode.appendChild(b)});try{c.cookie=d.cookie}catch(a){}c.queue=[];for(var f=["Event","Exception","Metric","PageView","Trace","Dependency"];f.length;)b("track"+f.pop());if(b("setAuthenticatedUserContext"),b("clearAuthenticatedUserContext"),b("startTrackEvent"),b("stopTrackEvent"),b("startTrackPage"),b("stopTrackPage"),b("flush"),!a.disableExceptionTracking){f="onerror",b("_"+f);var g=e[f];e[f]=function(a,b,d,e,h){var i=g&&g(a,b,d,e,h);return!0!==i&&c["_"+f](a,b,d,e,h),i}}return c }({ instrumentationKey:"dcb460fe-684e-4d39-bfcd-d3a6f2710a32" }); window.appInsights=appInsights,appInsights.queue&&0===appInsights.queue.length&&appInsights.trackPageView(); </script>
    <script>
        window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
        'Author': 'Denise Giusto Bilić',
        'ArticleCategory': 'How To',
        'ArticleSection': '(not set)',
        'cookie-bar-hq': true
    });

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PMDGSM');
</script>
<script>(function() {
  var _fbq = window._fbq || (window._fbq = []);
  if (!_fbq.loaded) {
    var fbds = document.createElement('script');
    fbds.async = true;
    fbds.src = '//connect.facebook.net/en_US/fbds.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(fbds, s);
    _fbq.loaded = true;
  }
  _fbq.push(['addPixelId', '1518099328403839']);
})();
window._fbq = window._fbq || [];
window._fbq.push(['track', 'PixelInitialized', {}]);
</script>
<noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/tr?id=1518099328403839&amp;ev=NoScript" /></noscript>
<meta property="fb:pages" content="56844830907" />
<!-- This site is optimized with the Yoast SEO plugin v9.2 - https://yoast.com/wordpress/plugins/seo/ -->
<title>How to avoid certificate pinning in the latest versions of Android | WeLiveSecurity</title>
<meta name="description" content="In this feature, ESET&#039;s Denise Giusto Bilić details how to avoid certificate pinning in the latest versions of Android."/>
<link rel="canonical" href="https://www.welivesecurity.com/2016/09/08/avoid-certificate-pinning-latest-versions-android/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="How to avoid certificate pinning in the latest versions of Android | WeLiveSecurity" />
<meta property="og:description" content="In this feature, ESET&#039;s Denise Giusto Bilić details how to avoid certificate pinning in the latest versions of Android." />
<meta property="og:url" content="https://www.welivesecurity.com/2016/09/08/avoid-certificate-pinning-latest-versions-android/" />
<meta property="og:site_name" content="WeLiveSecurity" />
<meta property="article:section" content="How To" />
<meta property="article:published_time" content="2016-09-08T11:34:48+00:00" />
<meta property="og:image" content="https://www.welivesecurity.com/wp-content/uploads/2016/08/certificate-pinning.jpg" />
<meta property="og:image:secure_url" content="https://www.welivesecurity.com/wp-content/uploads/2016/08/certificate-pinning.jpg" />
<meta property="og:image:width" content="640" />
<meta property="og:image:height" content="490" />
<meta property="og:image:alt" content="certificate pinning" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="In this feature, ESET&#039;s Denise Giusto Bilić details how to avoid certificate pinning in the latest versions of Android." />
<meta name="twitter:title" content="How to avoid certificate pinning in the latest versions of Android | WeLiveSecurity" />
<meta name="twitter:site" content="@welivesecurity" />
<meta name="twitter:image" content="https://www.welivesecurity.com/wp-content/uploads/2016/08/certificate-pinning.jpg" />
<meta name="twitter:creator" content="@welivesecurity" />
<!-- / Yoast SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="WeLiveSecurity RSS 2.0 Feed" href="/rss-configurator/" /><style type="text/css" id="syntaxhighlighteranchor"></style>
        <link id="cookie-style" rel="stylesheet" type="text/css" href="https://assets.esetstatic.com/3PS/cookiebar.min.css">
</head>
<body class="no-js single noimage">
<noscript>
	<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PMDGSM" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="main">
    <header id="site-header" class="container">
        <div class="row">
            <div class="col-md-4 col-sm-12 col-xs-12 pull-right" id="header-nav">
                <div class="row">
                    <div class="col-xs-12 mobile-search-input">
                        <form action="https://www.welivesecurity.com/" class="basic-searchform imc dark col-md-12 col-sm-10 col-xs-12" method="get" role="search">
	<div class="search-input clearfix">
		<input type="text" name="s" value="" placeholder="Search..." class="imc">
		<button class="imc">
			<span class="icomoon icon-icon_search imc"></span>
		</button>
	</div>
</form>	                    </div>
                    <div class="hidden-lg hidden-md col-sm-7 col-xs-8 hidden-xxs">
                        <div class="logo-wrapper clearfix">
    <div class="dark clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-2.svg" alt="by ESET">
        </a>
    </div>
    <div class="light clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-2.svg" alt="by ESET">
        </a>
    </div>
</div>                    </div>
                    <div class="col-md-8 hidden-sm hidden-xs languages">
                        <div class="dropdown">
	<button class="btn btn-default dropdown-toggle" type="button" id="main-language-picker" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
    	<span class="text">In English</span>
    	<span class="icomoon icon-icon_arrow"></span>
  	</button>
  	<ul class="dropdown-menu" aria-labelledby="main-language-picker">
            <li>
        <a href="/br/" title="Em Português">
            Em Português        </a>
    </li>
        <li>
        <a href="/fr/" title="En français">
            En français        </a>
    </li>
        <li>
        <a href="/la-es/" title="En Español">
            En Español        </a>
    </li>
        <li>
        <a href="/deutsch/" title="In Deutsch">
            In Deutsch        </a>
    </li>
      	</ul>
</div>                    </div>
                    <div class="col-md-4 col-sm-2 col-xs-3 menu-trigger">
                        <div class="menu-btn">
	<span class="text">Menu</span>
	<button type="button" id="menu-trigger" class="tcon tcon-menu--xcross" aria-label="toggle menu">
        <span class="wrapper">
            <span class="tcon-menu__lines" aria-hidden="true"></span>
            <span class="tcon-visuallyhidden">toggle menu</span>
        </span>
    </button>
</div>                    </div>
                    <div class="hidden-lg hidden-md hidden-sm hidden-xs col-xs-2 mobile-search imc">
                        <button class="imc">
                            <span class="icomoon icon-icon_search imc"></span>
                        </button>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12 imc" id="main-menu">
                        <nav class="menu clearfix imc">
                            <ul class="col-md-12 col-sm-6 col-xs-6 imc">
                                                                    <li class="">
                                        <a href="/">
                                            All Posts                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="/research">
                                            Research                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="/category/how-to/">
                                            How To                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/media/videos/">
                                            Videos                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/media/podcasts/">
                                            Podcasts                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/papers/conference-papers/">
                                            Conference Materials                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/papers/white-papers/">
                                            White Papers                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/papers/threat-reports/">
                                            Threat Reports                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/papers/magazine/">
                                            Magazine                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://www.welivesecurity.com/our-experts/">
                                            Our Experts                                        </a>
                                    </li>
                                                            </ul>

                            <div class="col-md-12 col-sm-6 col-xs-6 imc">
                                <ul class="languages hidden-lg hidden-md hidden-xxs col-xs-12 imc">
                                        <li>
        <a href="/br/" title="Em Português">
            Em Português        </a>
    </li>
        <li>
        <a href="/fr/" title="En français">
            En français        </a>
    </li>
        <li>
        <a href="/la-es/" title="En Español">
            En Español        </a>
    </li>
        <li>
        <a href="/deutsch/" title="In Deutsch">
            In Deutsch        </a>
    </li>
                                    </ul>
                                <div class="hidden-lg hidden-md col-xs-12 imc">
                                    <form action="https://www.welivesecurity.com/" class="basic-searchform imc dark col-md-12 col-sm-10 col-xs-12" method="get" role="search">
	<div class="search-input clearfix">
		<input type="text" name="s" value="" placeholder="Search..." class="imc">
		<button class="imc">
			<span class="icomoon icon-icon_search imc"></span>
		</button>
	</div>
</form>	                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="menu-overlay col-md-12 col-sm-12 col-xs-12 imc">
                        <div class="inner imc"></div>
                    </div>
                </div>
                <div class="row hidden-sm hidden-xs">
                    <form action="https://www.welivesecurity.com/" class="basic-searchform imc  col-md-12 col-sm-10 col-xs-12" method="get" role="search">
	<div class="search-input clearfix">
		<input type="text" name="s" value="" placeholder="Search..." class="imc">
		<button class="imc">
			<span class="icomoon icon-icon_search imc"></span>
		</button>
	</div>
</form>	                </div>
            </div>
            <div class="col-md-5 hidden-sm hidden-xs pull-left" id="header-logo">
                <div class="logo-wrapper clearfix">
    <div class="dark clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-2.svg" alt="by ESET">
        </a>
    </div>
    <div class="light clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-2.svg" alt="by ESET">
        </a>
    </div>
</div>                <span class="slogan hidden-sm hidden-xs">
						Award-winning news, views, and insight from the ESET <strong>security community</strong> 
					</span>
            </div>
        </div>
    </header>
        <section id="article-detail">
            <div class="hero-noimage">
	<div class="container promo-text">
		<div class="inner clearfix">
			<div class="col-md-11 col-sm-11 col-xs-12 no-padding">
				<h1>How to avoid certificate pinning in the latest versions of Android</h1>
<div class="excerpt">In this feature, ESET's Denise Giusto Bilić offers a detailed overview as to how to avoid certificate pinning in the latest versions of Android.</div>
<div class="post-meta">
    <div class="wls-authors">
                <div class="wls-author with-avatar">
                            <div class="wls-author-avatar">
                    <a href="https://www.welivesecurity.com/author/dgiusto/" title="Denise Giusto Bilić">
                        <img src="https://www.welivesecurity.com/wp-content/uploads/2015/01/denise_giusto_wls-222x179.jpg" alt="Denise Giusto Bilić">
                    </a>
                </div>
                        <div class="wls-author-name">
                <a href="https://www.welivesecurity.com/author/dgiusto/" title="Denise Giusto Bilić">
                    Denise Giusto Bilić                </a>
            </div>
        </div>
            </div>
    <span class="meta">
		<span class="strong">
			<time datetime="2016-09-08 13:34:48">8 Sep 2016 - 01:34PM</time>
		</span>
			</span>
</div>
			</div>
		</div>
	</div>
</div>	

            <div class="content">
                <div class="social-wrapper" id="social-sharer">
                    <span class="text">Share</span>
	<a class="share-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Facebook">
		<span class="icomoon icon-icon_fb"></span>
	</a>
	<a class="share-twitter" href="https://twitter.com/intent/tweet?&url=https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F&text=How to avoid certificate pinning in the latest versions of Android%0A&via=welivesecurity" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Twitter">
		<span class="icomoon icon-icon_tw"></span>
	</a>
	<a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Linkedin">
		<span class="icomoon icon-icon_in"></span>
	</a>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-1 col-sm-1 hidden-xs">

                        </div>
                        <div class="col-md-10 col-sm-10 col-xs-12 formatted">

                            <div class="excerpt noimage">
                                <p>In this feature, ESET&#8217;s Denise Giusto Bilić offers a detailed overview as to how to avoid certificate pinning in the latest versions of Android.</p>
                            </div>

                            <p>We previously explained how to construct an analysis environment enabling the <a href="https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#Android"><em>certificate pinning</em></a> process to be bypassed in Android applications, in order to be able to examine network traffic and to easily determine what data is being transmitted over secure communications protocols. In particular, we looked at the steps to take to install <a href="http://www.cydiasubstrate.com/">Cydia Substrate</a> and <a href="https://github.com/iSECPartners/Android-SSL-TrustKiller">Android SSL TrustKiller</a>, and therefore analyze packets sent using SSL.</p>
<p>The disadvantage of these applications is that they are limited to Android versions no later than 4.2.2, despite the fact that the device or application we are auditing very often exceeds these specifications. We should be asking ourselves whether we can sidestep this protective framework within a controlled environment. This tutorial will teach you how to use <a href="http://forum.xda-developers.com/xposed/xposed-installer-versions-changelog-t2714053">Xposed</a> and its <a href="https://github.com/Fuzion24/JustTrustMe">JustTrustMe</a> module to do this.</p>
<h2>Step 1: Sample analysis</h2>
<p>There are various ways to find out which version of Android any given application was created for. The easiest way to <strong>determine the necessary API</strong> for running this application is through the <em>uses-sdk</em> tag which can be viewed in the manifest.</p>
<p>This tag details the minimum API required for the application to function (<em>minSdkVersion</em>) and which API it was specifically designed for (<em>targetSdkVersion</em>).</p>
<p><code>&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" ... &gt;</code></p>
<p><code>    &lt;uses-sdk android:minSdkVersion="17" android:targetSdkVersion="23" /&gt;</code></p>
<p><code>    ...</code></p>
<p><code>&lt;/manifest&gt;</code></p>
<p>However, this tag may not be present in some applications, especially in <em>apps</em> compiled using tools such as apktool. We therefore need to review the <a href="https://developer.android.com/reference/android/Manifest.permission.html">permissions listed in the manifest</a>, as these will tell us which API will be needed to run them. For example, the GET_ACCOUNTS_PRIVILEGED permission was added in API 23, so if this permission is present, it tells us that we need a virtual machine with this version of Android.</p>
<p>Finally, we can also look for conditional elements in the application code, which bifurcate the flow control if a set SDK is present. We may therefore find flow controls in some APK as follows:</p>
<p><code>if (Build.VERSION.SDK_INT &lt; 17) {</code></p>
<p><code>// hacer algo</code></p>
<p><code>} else {</code></p>
<p><code>// hacer otra cosa</code></p>
<p><code>}</code></p>
<p>This tells us which virtual machine we need to create in order to activate the functionality we are specifically seeking to analyze.</p>
<p>If we install the APK directly from the Play Store, this also makes it possible to identify the API in question, using the additional information section.</p>
<p><img class="aligncenter wp-image-82694 size-full" src="/wp-content/uploads/2016/08/img_1.png" alt="img_1" width="490" height="213" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_1.png 490w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_1-300x130.png 300w" sizes="(max-width: 490px) 100vw, 490px" /></p>
<h2>Step 2: Creation of the virtual environment</h2>
<p>For this article we will be using <a href="https://www.genymotion.com/">Genymotion</a> as the virtualization engine. We will create a virtual machine selecting an Android version later than Android Jelly Bean 4.2.2. For this specific example, we will be using <strong>API 23</strong>, as it requires a few extra steps to configure. You should use the API required by the application you are analyzing, as we saw in step one.</p>
<p>If you have never used Genymotion, there are plenty of step-by-step online tutorials that will show you how to download and install the application and create an initial virtual machine.</p>
<p><img class="aligncenter wp-image-82695" src="/wp-content/uploads/2016/08/img_2.png" alt="img_2" width="582" height="533" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_2.png 1126w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_2-300x275.png 300w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_2-768x704.png 768w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_2-1024x939.png 1024w" sizes="(max-width: 582px) 100vw, 582px" /></p>
<h2>Step 3: Gain root access</h2>
<p>We will need a system with <em>root access</em>. Depending on the API and the emulator we are using, we may need to <em>root</em><em> </em>the virtual machine manually. This is what we have to do with API 23 in Genymotion, as there is no default SuperUser implementation.</p>
<p>You could install any superuser application. In this case, we are using SuperSU. The executable file can be downloaded from various sources, one of which can be found <a href="http://forum.xda-developers.com/apps/supersu/2014-09-02-supersu-v2-05-t2868133">here</a>.</p>
<p>We then extract the components from the zipped file to any system location and we copy them to the VM and execute the following<em> </em><em>script</em><em>:</em></p>
<p><code>adb shell mount -o remount,rw /system</code></p>
<p><code>adb push &lt;carpeta_SuperSU&gt;/x86/su.pie /system/bin/su</code></p>
<p><code>adb shell chmod 0755 /system/bin/su</code></p>
<p><code>adb push &lt;carpeta_SuperSU&gt;/x86/su.pie /system/xbin/su</code></p>
<p><code>adb shell chmod 0755 /system/xbin/suadb shell su --installadb shell "su --daemon&amp;"</code></p>
<p><code>adb shell setenforce 0</code></p>
<p><code>adb shell mount -o remount,ro /system</code></p>
<p>After opening the SuperSU application, you will be asked to update to the latest version available and then restart the VM. Do this.</p>
<p>&nbsp;</p>
<p>After starting up the system, you should have <em>root access</em><em>.</em></p>
<h2>Step 4: Install Xposed</h2>
<p>Xposed is a framework that enables us to install additional modules to modify the behavior of the operating system and of the applications installed on it.</p>
<p>To perform this process, we can use GenyFlash to alter (or, as we say in technical jargon, <em>“</em><em>flash</em><em>”</em><em>)</em> the <a href="http://dl-xda.xposed.info/framework/sdk23/x86/">latest version of Xposed for API 23 and x86 architecture</a>. We can then run the following <em>script</em>:</p>
<p><code>git clone https://github.com/rovo89/GenyFlash</code></p>
<p><code>cd GenyFlash &amp;&amp; ./install.sh</code></p>
<p><code>adb push &lt;carpeta_xposed&gt;/xposed-v86-sdk23-x86.zip /sdcard/</code></p>
<p><code>adb shell flash-archive.sh /sdcard/xposed-v86-sdk23-x86.zip</code></p>
<p>We then need to download and execute the Xposed installer, which we can access from the <a href="http://repo.xposed.info/module/de.robv.android.xposed.installer">Xposed directory</a> in <a href="http://www.xda-developers.com/">XDA-Developers</a>. To install it, all we need to do is use the mouse to drag it onto the VM. The application will appear in the applications menu.</p>
<p><img class="aligncenter wp-image-82697" src="/wp-content/uploads/2016/08/img_3.png" alt="img_3" width="649" height="511" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_3.png 1016w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_3-300x236.png 300w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_3-768x605.png 768w" sizes="(max-width: 649px) 100vw, 649px" /></p>
<h2>Step 5: Install JustTrustMe</h2>
<p><a href="https://github.com/Fuzion24/JustTrustMe">JustTrustMe</a> is a module created to operate on Xposed enabling us to<strong> </strong><strong>skip the certificate authentication process</strong> for traffic on SSL. You will need to download the latest <em>release</em>, which can be done from <a href="https://github.com/Fuzion24/JustTrustMe/releases/tag/v.2">this link</a>.</p>
<p>You will then have to install it on the VM, dragging the APK with your mouse and dropping it on the VM, or using the command line through the instruction adb install.</p>
<p>The application has no user interface. You will have to authorize it through Xposed, in the <em>Modules</em> section, marking the corresponding <em>checkbox</em>. To make the activation effective, you will need to restart the system.</p>
<p><img class="wp-image-82698 aligncenter" src="/wp-content/uploads/2016/08/img_4.png" alt="img_4" width="322" height="537" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_4.png 480w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_4-180x300.png 180w" sizes="(max-width: 322px) 100vw, 322px" /></p>
<h2>Step 6: Configure the proxy</h2>
<p>There are various ways to configure a proxy on an <strong>Android</strong><strong> </strong>system, and there are many tools available to do this. In this article we are using <a href="https://portswigger.net/burp/">Burp Suite</a>, but you could also use <a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project">ZAP</a> or any other one with similar features.</p>
<p>We will start by initializing Burp Suite. Select the tab <em>Proxy &gt; Options</em> and add a new traffic interception configuration using the <em>Add</em> button. This will open a new window in which we need to establish the IP and port of our <strong>proxy</strong> (usually, the local IP and preferred port).</p>
<p><img class="aligncenter wp-image-82699" src="/wp-content/uploads/2016/08/img_5.png" alt="img_5" width="619" height="578" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_5.png 876w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_5-300x280.png 300w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_5-768x718.png 768w" sizes="(max-width: 619px) 100vw, 619px" /></p>
<p>Press &#8220;OK&#8221; and verify that the <em>listener</em> we are interested in is marked as <em>running</em>. We can then move on to configuring the <strong>emulator</strong>. We will continue modifying the Genymotion <em>Settings</em>. The network characteristics tab allows us to enter the IP and the port we initially defined in Burp Suite.</p>
<p><img class="aligncenter wp-image-82700" src="/wp-content/uploads/2016/08/img_6.png" alt="img_6" width="485" height="444" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_6.png 548w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_6-300x275.png 300w" sizes="(max-width: 485px) 100vw, 485px" /></p>
<h2>Step 7: Install and execute the sample</h2>
<p>Now we are going to install the application to be analyzed. In this case we are using the Gmail application to test whether our analysis environment can skip the certification controls for this platform. After applying all the previous steps, we will see how we can access protected traffic:</p>
<p><img class="aligncenter wp-image-82701" src="/wp-content/uploads/2016/08/img_7.png" alt="img_7" width="615" height="529" srcset="https://www.welivesecurity.com/wp-content/uploads/2016/08/img_7.png 738w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_7-300x258.png 300w, https://www.welivesecurity.com/wp-content/uploads/2016/08/img_7-60x53.png 60w" sizes="(max-width: 615px) 100vw, 615px" /></p>
<p>Try this method and tell us what happened!</p>

                            
                                                            <div class="dot">
                                    <span class="icomoon icon-icon_article_dot"></span>
                                </div>

                                <div class="meta">
                                    <div class="wls-authors wls-authors-footer">
                                                <div class="wls-author">
                        <div class="wls-author-name">
                <a href="https://www.welivesecurity.com/author/dgiusto/" title="Denise Giusto Bilić">
                    Denise Giusto Bilić                </a>
            </div>
        </div>
                                            </div>
                                    <span class="strong">
								        <time datetime="2016-09-08 13:34:48">8 Sep 2016 - 01:34PM</time>
                                    </span>
                                </div>
                            
                            <div class="widgets row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="heading-line col-md-12 col-sm-12 col-xs-12 no-padding">
                                        <h3><span class="text">Newsletter</span></h3>
                                    </div>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-12 newsletter-wrapper">
                                    			
		<div class="heading-line col-md-12 no-padding sidebar-item clearfix">
			<h3>
				<span class="text">Newsletter</span>
			</h3>

			<form action="//liondigital.us3.list-manage.com/subscribe/post?u=b76f82b1cc198ab1d80665c99&amp;id=102b0810e2" class="basic-searchform col-md-12 col-sm-12 col-xs-12 no-padding newsletter" method="post" role="search">
				<div class="search-input clearfix">
					<input type="text" name="email" value="" placeholder="Email...">
					<button>
						Submit					</button>
				</div>
			</form>		
		</div>
                                </div>
                            </div>

                                                            <div class="similar-articles row">
                                    <div class="heading-line col-md-12 col-sm-12 col-xs-12">
                                        <h3><span class="text">Similar Articles</span></h3>
                                    </div>
                                                                            <article class="col-md-3 col-sm-3 col-xs-3">
                                            <div class="img-wrapper">
                                                <a href="https://www.welivesecurity.com/category/how-to/" class="category-tag-btn">How To</a>                                                <a href="https://www.welivesecurity.com/2021/02/12/fifty-shades-vulnerable-how-play-safe-smart-sex-toy/"
                                                   class="related-article-thumb">
                                                    <img class="col-xs-12 no-padding clickable"
                                                         src="https://www.welivesecurity.com/wp-content/uploads/2021/02/smart-sex-toys-security-privacy-risks-623x432.jpg"
                                                         alt="How to avoid certificate pinning in the latest versions of Android">
                                                </a>
                                            </div>
                                            <h4>
                                                <a href="https://www.welivesecurity.com/2021/02/12/fifty-shades-vulnerable-how-play-safe-smart-sex-toy/">
                                                    Fifty shades of vulnerable: How to play it safe with your smart sex toy                                                </a>
                                            </h4>
                                        </article>
                                                                            <article class="col-md-3 col-sm-3 col-xs-3">
                                            <div class="img-wrapper">
                                                <a href="https://www.welivesecurity.com/category/how-to/" class="category-tag-btn">How To</a>                                                <a href="https://www.welivesecurity.com/2020/12/25/smart-tech-gifts-how-keep-children-family-safe/"
                                                   class="related-article-thumb">
                                                    <img class="col-xs-12 no-padding clickable"
                                                         src="https://www.welivesecurity.com/wp-content/uploads/2020/12/smart-conencted-iot-technology-gits-christmas-securing-623x415.png"
                                                         alt="How to avoid certificate pinning in the latest versions of Android">
                                                </a>
                                            </div>
                                            <h4>
                                                <a href="https://www.welivesecurity.com/2020/12/25/smart-tech-gifts-how-keep-children-family-safe/">
                                                    Smart tech gifts: How to keep your kids and family safe                                                </a>
                                            </h4>
                                        </article>
                                                                            <article class="col-md-3 col-sm-3 col-xs-3">
                                            <div class="img-wrapper">
                                                <a href="https://www.welivesecurity.com/category/fintech/" class="category-tag-btn">FinTech</a>                                                <a href="https://www.welivesecurity.com/2020/11/30/mobile-payment-apps-how-stay-safe-paying-phone/"
                                                   class="related-article-thumb">
                                                    <img class="col-xs-12 no-padding clickable"
                                                         src="https://www.welivesecurity.com/wp-content/uploads/2020/11/mobile-payment-apps-stay-safe-paying-phone-623x432.jpg"
                                                         alt="How to avoid certificate pinning in the latest versions of Android">
                                                </a>
                                            </div>
                                            <h4>
                                                <a href="https://www.welivesecurity.com/2020/11/30/mobile-payment-apps-how-stay-safe-paying-phone/">
                                                    Mobile payment apps: How to stay safe when paying with your phone                                                </a>
                                            </h4>
                                        </article>
                                                                            <article class="col-md-3 col-sm-3 col-xs-3">
                                            <div class="img-wrapper">
                                                <a href="https://www.welivesecurity.com/category/how-to/" class="category-tag-btn">How To</a>                                                <a href="https://www.welivesecurity.com/2020/11/26/sim-swap-scam-what-it-is-how-protect-yourself/"
                                                   class="related-article-thumb">
                                                    <img class="col-xs-12 no-padding clickable"
                                                         src="https://www.welivesecurity.com/wp-content/uploads/2020/11/wls_SIM-Swapping_unspl_inv_1000x667-623x432.jpg"
                                                         alt="How to avoid certificate pinning in the latest versions of Android">
                                                </a>
                                            </div>
                                            <h4>
                                                <a href="https://www.welivesecurity.com/2020/11/26/sim-swap-scam-what-it-is-how-protect-yourself/">
                                                    SIM swap scam: What it is and how to protect yourself                                                </a>
                                            </h4>
                                        </article>
                                                                    </div>
                            
                            <div class="comments row">
                                <div class="heading-line col-xs-12">
                                    <h3><span class="text">Discussion</span></h3>
                                                                            
<div id="disqus_thread"></div>
                                                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    	</div> 	<footer id="site-footer">
		<div class="container">
			<div class="row">
				<div class="col-md-2">
                    <div class="hidden-sm hidden-xs">
                        <div class="logo-wrapper footer clearfix">
                            <div class="dark clearfix">
                                <a href="https://www.welivesecurity.com/" class="wls">
                                    <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-footer-1.svg" alt="Welivesecurity.com">
                                </a>
                                <a href="https://www.eset.com" class="eset">
                                    <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-footer-2.svg" alt="by ESET">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="hidden-lg hidden-md">
                        <div class="logo-wrapper clearfix">
    <div class="dark clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-dark-header-2.svg" alt="by ESET">
        </a>
    </div>
    <div class="light clearfix">
        <a href="https://www.welivesecurity.com/" class="wls">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-1.svg" alt="Welivesecurity.com">
        </a>
        <a href="https://www.eset.com" class="eset">
            <img src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/img/new-logo/eset-wls-light-header-2.svg" alt="by ESET">
        </a>
    </div>
</div>                    </div>
				</div>
				<nav id="footer" class="clearfix">
											<div class="mobile-block">
																<div class="col-md-2 col-md-offset-2">
										<ul>
																							<li>
													<a href="/">Home</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/about-us/">About Us</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/contact-us/">Contact Us</a>
												</li>
																					</ul>
									</div>
																<div class="col-md-2 ">
										<ul>
																							<li>
													<a href="https://www.welivesecurity.com/sitemap/">Sitemap</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/our-experts/">Our Experts</a>
												</li>
																							<li>
													<a href="https://eset.com">ESET</a>
												</li>
																					</ul>
									</div>
													</div>
											<div class="mobile-block">
																<div class="col-md-2 ">
										<ul>
																							<li>
													<a href="https://www.welivesecurity.com/research/">Research</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/category/how-to/">How To</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/categories/">Categories</a>
												</li>
																					</ul>
									</div>
																<div class="col-md-2 ">
										<ul>
																							<li>
													<a href="https://www.welivesecurity.com/rss-configurator/">RSS Configurator</a>
												</li>
																							<li>
													<a href="https://www.welivesecurity.com/news-widget-generator/">News Widget</a>
												</li>
																					</ul>
									</div>
													</div>
									</nav>
			</div>
			<div class="row">
				<div class="col-md-12 legal clearfix">
					<div class="wrap clearfix">
													<span>
								<a href="https://www.welivesecurity.com/privacy/">
									Privacy policy								</a>
							</span>
													<span>
								<a href="https://www.welivesecurity.com/legal-information/">
									Legal Information								</a>
							</span>
											</div>
					<span class="copyright pull-right">Copyright &copy; ESET, All Rights Reserved</span>
				</div>
							</div>
		</div>
	</footer>
	
	<button id="back-to-top" class="animated-scroll" data-target="absoluteTop">
		<span class="icomoon icon-icon_arrow"></span>
		<span class="text">Back to top</span>
	</button>

			<div class="social-wrapper-mobile hidden-lg hidden-md hidden-sm" id="mobile-article-sharer">
			<div class="col-xs-12">
				<div class="icons" style="text-align: center;">
											<a class="share-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Facebook">
							<span class="icomoon icon-icon_fb"></span>
						</a>
											<a class="share-twitter" href="https://twitter.com/intent/tweet?https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Twitter">
							<span class="icomoon icon-icon_tw"></span>
						</a>
											<a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.welivesecurity.com%2F2016%2F09%2F08%2Favoid-certificate-pinning-latest-versions-android%2F" target="blank" data-toggle="tooltip" data-placement="top" data-original-title="Share on Linkedin">
							<span class="icomoon icon-icon_in"></span>
						</a>
									</div>
			</div>
		</div>
	
	<script>
		var baseUrl = "https://www.welivesecurity.com/";
	</script>
	
			<script>
            !function(){if(-1==window.document.cookie.indexOf("user_rec=1")){function e(e,o){var t=document.createElement("img");t.setAttribute("style","display:none"),t.src=e+o,window.document.body.appendChild(t)}function o(){d||Math.random(1e6,9999999),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=Default%20status&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=defaultStatus&z="+Math.floor(1e6*Math.random(0,1)),e(u,a),e(s,c)}function t(){console.log("GA and GTM are loaded."),d=ga.getAll()[0].get("clientId"),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=GA%20loaded,%20GTM%20loaded&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=11",e(u,a),e(s,c)}function n(){var e=new Date;e.setTime(e.getTime()+63072e6);var o="expires="+e.toUTCString();window.document.cookie="user_rec=1; "+o+"; path=/"}var d,a,c,i,r,l="UA-76266002-27",g=window.location.href,s="https://cdn1.esetstatic.com/ESET/INT/assets/img/check.png",u="https://www.google-analytics.com/collect",w="wls",m=0,h=function e(){i=window.ga&&ga.create?1:0,r=window.google_tag_manager?1:0,m++,console.log("Timer: ",m),h=setTimeout(e,500)};window.document.addEventListener&&(d=1e6*Math.random(1e6,9999999),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=Script%20loaded&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=scriptLoaded&z="+Math.floor(1e6*Math.random(0,1)),e(u,a),e(s,c),window.addEventListener("beforeunload",o),window.ga&&ga.create&&window.google_tag_manager?(t(),window.removeEventListener("beforeunload",o),n()):(setTimeout(h,500),setTimeout(function(){clearTimeout(h),i&&r?t():i&&!r?(console.log("GA is loaded and GTM is blocked."),d=ga.getAll()[0].get("clientId"),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=GA%20loaded,%20GTM%20blocked&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=10",e(u,a),e(s,c)):!i&&r?(console.log("GA is blocked and GTM is loaded."),d||Math.random(1e6,9999999),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=GA%20blocked,%20GTM%20loaded&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=01",e(u,a),e(s,c)):i||r||(console.log("GA is blocked and GTM is blocked."),d||Math.random(1e6,9999999),a="?v=1&cid="+d+"&tid="+l+"&dl="+g+"&t=event&ec=Tracking%20check%20-%20recurring&ea=GA%20blocked,%20GTM%20blocked&ni=1&cd1="+w+"&aip=1&z="+Math.floor(1e6*Math.random(0,1)),c="?country=wls&gcode=00",e(u,a),e(s,c)),window.removeEventListener("beforeunload",o),n()},1e4)))}}();
		</script>
	
	<script src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/build/js/main-0ba0c3843d.js"></script>
    <!-- Version: v1.1.76.32619db9.pro-awus -->
    		<script type="text/javascript">
			var disqus_config = function () { 
				this.language = "en";
			};
			var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":"", "numsVisible": false};
			var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
		</script>
		<script src="https://www.welivesecurity.com/wp-content/themes/eset-wls-2018/assets/static/js/crayon.min.js"></script>

			
		
    <script>
    	Main.init();
    </script>

    <script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"welivesecurity"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.welivesecurity.com/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.16'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.16"},"disqusIdentifier":"83645 \/?p=83645","disqusShortname":"welivesecurity","disqusTitle":"How to avoid certificate pinning in the latest versions of Android","disqusUrl":"https:\/\/www.welivesecurity.com\/2016\/09\/08\/avoid-certificate-pinning-latest-versions-android\/","postId":"83645"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.welivesecurity.com/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.16'></script>
    <script src="https://assets.esetstatic.com/3PR/app.min.js"></script>
  </body>
</html>