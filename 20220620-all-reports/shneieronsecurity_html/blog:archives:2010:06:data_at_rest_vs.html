<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Data at Rest vs. Data in Motion - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Data at Rest vs. Data in Motion Comments Feed" href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/3463" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=3463' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F06%2Fdata_at_rest_vs.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F06%2Fdata_at_rest_vs.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-3463 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-3463" class="post-3463 post type-post status-publish format-standard hentry category-uncategorized tag-computer-security tag-credit-cards tag-cryptography tag-data-protection tag-databases tag-essays tag-hacking tag-internet tag-keys tag-network-security tag-vulnerabilities tag-web">

	<div class="article">

		<h2 class="entry">Data at Rest vs. Data in Motion</h2>
		<p>For a while now, I&#8217;ve pointed out that cryptography is singularly ill-suited to solve the major network security problems of today: denial-of-service attacks, website defacement, theft of credit card numbers, identity theft, viruses and worms, DNS attacks, network penetration, and so on.</p>
<p>Cryptography was invented to protect communications: data in motion. This is how cryptography was used throughout most of history, and this is how the militaries of the world developed the science. Alice was the sender, Bob the receiver, and Eve the eavesdropper. Even when cryptography was used to protect stored data &#8212; data at rest &#8212; it was viewed as a form of communication. In &#8220;Applied Cryptography,&#8221; I described encrypting stored data in this way: &#8220;a stored message is a way for someone to communicate with himself through time.&#8221; Data storage was just a subset of data communication.</p>
<p>In modern networks, the difference is much more profound. Communications are immediate and instantaneous. Encryption keys can be ephemeral, and systems like the STU-III telephone can be designed such that encryption keys are created at the beginning of a call and destroyed as soon as the call is completed. Data storage, on the other hand, occurs over time. Any encryption keys must exist as long as the encrypted data exists. And storing those keys becomes as important as storing the unencrypted data was. In a way, encryption doesn&#8217;t reduce the number of secrets that must be stored securely; it just makes them much smaller.</p>
<p>Historically, the reason key management worked for stored data was that the key could be stored in a secure location: the human brain. People would remember keys and, barring physical and emotional attacks on the people themselves, would not divulge them. In a sense, the keys were stored in a &#8220;computer&#8221; that was not attached to any network. And there they were safe.</p>
<p>This whole model falls apart on the Internet. Much of the data stored on the Internet is only peripherally intended for use by people; it&#8217;s primarily intended for use by other computers. And therein lies the problem. Keys can no longer be stored in people&#8217;s brains. They need to be stored on the same computer, or at least the network, that the data resides on. And that is much riskier.</p>
<p>Let&#8217;s take a concrete example: credit card databases associated with websites. Those databases are not encrypted because it doesn&#8217;t make any sense. The whole point of storing credit card numbers on a website is so it&#8217;s accessible &#8212; so each time I buy something, I don&#8217;t have to type it in again. The website needs to dynamically query the database and retrieve the numbers, millions of times a day. If the database were encrypted, the website would need the key. But if the key were on the same network as the data, what would be the point of encrypting it? Access to the website equals access to the database in either case. Security is achieved by good access control on the website and database, not by encrypting the data.</p>
<p>The same reasoning holds true elsewhere on the Internet as well. Much of the Internet&#8217;s infrastructure happens automatically, without human intervention. This means that any encryption keys need to reside in software on the network, making them vulnerable to attack. In many cases, the databases are queried so often that they are simply left in plaintext, because doing otherwise would cause significant performance degradation. Real security in these contexts comes from traditional computer security techniques, not from cryptography.</p>
<p>Cryptography has inherent mathematical properties that greatly favor the defender. Adding a single bit to the length of a key adds only a slight amount of work for the defender, but doubles the amount of work the attacker has to do. Doubling the key length doubles the amount of work the defender has to do (if that &#8212; I&#8217;m being approximate here), but increases the attacker&#8217;s workload exponentially. For many years, we have exploited that mathematical imbalance.</p>
<p>Computer security is much more balanced. There&#8217;ll be a new attack, and a new defense, and a new attack, and a new defense. It&#8217;s an arms race between attacker and defender. And it&#8217;s a very fast arms race. New vulnerabilities are discovered all the time. The balance can tip from defender to attacker overnight, and back again the night after. Computer security defenses are inherently very fragile.</p>
<p>Unfortunately, this is the model we&#8217;re stuck with. No matter how good the cryptography is, there is some other way to break into the system. Recall how the FBI read the PGP-encrypted email of a suspected Mafia boss several years ago. They didn&#8217;t try to break PGP; they simply installed a keyboard sniffer on the target&#8217;s computer. Notice that SSL- and TLS-encrypted web communications are increasingly irrelevant in protecting credit card numbers; criminals prefer to steal them by the hundreds of thousands from back-end databases.</p>
<p>On the Internet, communications security is much less important than the security of the endpoints. And increasingly, we can&#8217;t rely on cryptography to solve our security problems.</p>
<p><i>This essay <a href="http://www.darkreading.com/blog/archives/2010/06/data_at_rest_vs.html">originally appeared</a> on DarkReading.  I wrote it in 2006, but lost it on my computer for four years.  I hate it when that happens.</i></p>
<p>EDITED TO ADD (7/14): As several readers pointed out, I overstated my case when I said that encrypting credit card databases, or any database in constant use, is useless.  In fact, there is value in encrypting those databases, especially if the encryption appliance is separate from the database server.  In this case, the attacker has to steal both the encryption key and the database.  That&#8217;s a harder hacking problem, and this is why credit-card database encryption is <a href="https://www.pcisecuritystandards.org/pdfs/pci_fs_data_storage.pdf">mandated</a> within the PCI security standard.  Given how good encryption performance is these days, it&#8217;s a smart idea.  But while encryption makes it harder to steal the data, it is only harder in a computer-security sense and not in a cryptography sense.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/computer-security/" rel="tag">computer security</a>, <a href="https://www.schneier.com/tag/credit-cards/" rel="tag">credit cards</a>, <a href="https://www.schneier.com/tag/cryptography/" rel="tag">cryptography</a>, <a href="https://www.schneier.com/tag/data-protection/" rel="tag">data protection</a>, <a href="https://www.schneier.com/tag/databases/" rel="tag">databases</a>, <a href="https://www.schneier.com/tag/essays/" rel="tag">essays</a>, <a href="https://www.schneier.com/tag/hacking/" rel="tag">hacking</a>, <a href="https://www.schneier.com/tag/internet/" rel="tag">Internet</a>, <a href="https://www.schneier.com/tag/keys/" rel="tag">keys</a>, <a href="https://www.schneier.com/tag/network-security/" rel="tag">network security</a>, <a href="https://www.schneier.com/tag/vulnerabilities/" rel="tag">vulnerabilities</a>, <a href="https://www.schneier.com/tag/web/" rel="tag">web</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html" rel="bookmark">Posted on June 30, 2010 at 12:53 PM</a>			‚Ä¢
			<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html#comments">44 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html" data-title="Data at Rest vs. Data in Motion" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-141085">

			<div class="comment by-dave-aronson ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://davearonson.com' rel='external nofollow ugc' class='url'>Dave Aronson</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141085">
						June 30, 2010 1:12 PM					</a>

				</p>

				<p>Lost it&#8230; or forgot the key?  üòâ</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141087">

			<div class="comment by-rich ">

				<p class="commentcredit">

					<span class="commenter">Rich</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141087">
						June 30, 2010 1:31 PM					</a>

				</p>

				<p>It may seem to be a silly question, however consider the following in regards to your e-commerce example. I realize encrypting the entire database would just be ridiculous, and taxing on the system in question, but what if we were selective with what we encrypted? Let&#8217;s say we encrypt sensitive data, in this case a credit card number, using the user&#8217;s password. Upon logging in the system could then decrypt the password and store that into a session variable or even a temp table. When the user logs out the session or temp table is cleared of their sensitive information and the database would be safe (er).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141088">

			<div class="comment by-gal-shpantzr ">

				<p class="commentcredit">

					<span class="commenter">Gal Shpantzr</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141088">
						June 30, 2010 1:34 PM					</a>

				</p>

				<p>The FBI &#8220;keyboard sniffer&#8221; you&#8217;re referring to might be the &#8220;Magic Lantern&#8221; in the Nicodemo Scarfo case.  See here for details: <a href="http://epic.org/crypto/scarfo.html" rel="nofollow ugc">http://epic.org/crypto/scarfo.html</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141089">

			<div class="comment by-rich ">

				<p class="commentcredit">

					<span class="commenter">Rich</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141089">
						June 30, 2010 1:35 PM					</a>

				</p>

				<p>I just answered my own question. This solution would require 2 passwords, one for logging on, and one for decrypting sensitive information. So, I retract my previous comment. Temporary lapse in judgment.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141090">

			<div class="comment by-gal-shpantzer ">

				<p class="commentcredit">

					<span class="commenter">Gal Shpantzer</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141090">
						June 30, 2010 1:37 PM					</a>

				</p>

				<p>Re: data at rest&#8230; Credit card databases are a bit tricky but what about full disk encryption for laptops?  Or, sending a CD/DVD/tape with UPS/Fedex so that if/when the package is lost/intercepted, the data on the media isn&#8217;t exposed?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141091">

			<div class="comment by-miles-baska ">

				<p class="commentcredit">

					<span class="commenter">Miles Baska</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141091">
						June 30, 2010 1:41 PM					</a>

				</p>

				<p>Great essay, even if it was &#8220;lost&#8221; for four years.</p>
<p>Seems more and more of these back office systems ARE encrypting the credit card, or more precisely, all but the last four digits.  None of the folks touching this data can tell me just HOW that&#8217;s done, and who (if anyone) has the keys.  Seems the whole process should be open and understood.</p>
<p>Suddenly reminds me of something we used to say back in college:  When cryptography is outlawed, bayl bhgynjf jvyy unir pelcgbtencul.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141092">

			<div class="comment by-jason ">

				<p class="commentcredit">

					<span class="commenter">Jason</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141092">
						June 30, 2010 1:41 PM					</a>

				</p>

				<p>In the example given (storing credit cards on a website), cryptography <em>is</em> the solution to the problem, but the wrong question is being asked.</p>
<p>The question is not, &#8220;how do I store these credit card numbers so nobody can steal them?&#8221; but rather, &#8220;how can I verify the identity of the cardholder in a way that nobody else can take advantage of?&#8221;</p>
<p>And the answer to <em>that</em> is public key cryptography and/or token-based authentication.</p>
<p>In short, the problem is not that cryptography is useless, it&#8217;s that we&#8217;re trying to use cryptography to protect credit cards, which are inherently broken.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141093">

			<div class="comment by-matt ">

				<p class="commentcredit">

					<span class="commenter">Matt</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141093">
						June 30, 2010 1:52 PM					</a>

				</p>

				<p>I think secure crypto-processors like in TPM and smart cards offer some hope. Imagine you had an HSM that could impose some kind of rate limiting or trigger an alarm if too much information was decrypted too quickly.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141094">

			<div class="comment by-brandioch-conner ">

				<p class="commentcredit">

					<span class="commenter">Brandioch Conner</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141094">
						June 30, 2010 3:02 PM					</a>

				</p>

				<p>@Jason<br />
&#8220;In short, the problem is not that cryptography is useless, it&#8217;s that we&#8217;re trying to use cryptography to protect credit cards, which are inherently broken.&#8221;</p>
<p>Exactly.</p>
<p>In order to really fix the system, the approach has to be changed. Such as single use encryption with the amount of the transaction, the vendor identification and date/time referencing a temporary account being part of it.</p>
<p>Today, if I make a purchase, the entire amount of my account is available to whomever can copy my information. That&#8217;s beyond stupid.</p>
<p>And with Chase (the bank I use) there is no way to get temporary account numbers where I can deposit exactly the amount that I want available to the vendor AND NOTHING MORE.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141095">

			<div class="comment by-rh ">

				<p class="commentcredit">

					<span class="commenter">RH</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141095">
						June 30, 2010 3:27 PM					</a>

				</p>

				<p>@Matt and Brandioch:</p>
<p>Isn&#8217;t it interesting that our day to day commerce is the equivalent of signing blank checks, and asking the vendor to add their name and the right value.  To finish the analogy, assume a signed blank check can be photocopied and used by anyone who ever sees the original.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141096">

			<div class="comment by-w ">

				<p class="commentcredit">

					<span class="commenter">W</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141096">
						June 30, 2010 3:30 PM					</a>

				</p>

				<p>&#8220;I just answered my own question. This solution would require 2 passwords, one for logging on, and one for decrypting sensitive information. &#8221;<br />
I don&#8217;t think so. Just using two different seeds in the key derivative function should be enough. One to derive the key and one to derive the hash used to authenticate the user.<br />
I&#8217;d guess the reason why it isn&#8217;t used is because the shop sometimes requires the data after the user logged out. Perhaps in case of fraud or if the user tells his bank to move back the money.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141097">

			<div class="comment by-mark ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://blog.triplecheck.ca' rel='external nofollow ugc' class='url'>Mark</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141097">
						June 30, 2010 4:14 PM					</a>

				</p>

				<p>Great essay, as it gets to the point that cryptography is a point solution.  It solves the problem of how to protect disclosure, and in some cases integrity, in a single situation.  The issue that&#8217;s highlighted here, and is the generally the root-cause of modern information security problems, is protecting the interfaces between people and a system, and between systems.  Protecting disclosure of information in these cases always involves much more than just simple secrets.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141098">

			<div class="comment by-trsm-mckay ">

				<p class="commentcredit">

					<span class="commenter">trsm.mckay</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141098">
						June 30, 2010 4:21 PM					</a>

				</p>

				<p>@Matt &#8211; asked about the use of crypto processors (aka HSM, aka TRSM) to protect a credit card info in a merchant‚Äôs database. Let me first point to a quote from Bruce&#8217;s original post: &#8220;In a way, encryption doesn&#8217;t reduce the number of secrets that must be stored securely; it just makes them much smaller.&#8221;</p>
<p>I would then add that it make the smaller amount of secrets easier to control. This question of control is at the root of Matt‚Äôs question. Although it could be done, neither rate limiting or velocity checking are ideal control points for a TRSM. One of the best ways to make a TRSM successfully resist attacks is to keep it fairly simple, and one of the key ways to accomplish this is to reduce internal state. Keeping state about how keys can be used, which type of user can access which function is OK, but anything that requires keeping track and making decisions based on all transaction is normally going to be too difficult for high assurance design and implementation.</p>
<p>I designed a merchant credit card protection system a while back, and it uses TRSM to control the transactions more naturally. The basic idea is taken from the way PINs are handled with ATM/POS financial security, credits cards don‚Äôt normally appear in the clear in these systems. But unlike PINs there are some legitimate reasons to see a customer‚Äôs credit card number.  The one thing this design requires that is not typical (at least at the time when I designed it), is that communication between the merchant and the CC acquirer must also be encrypted.</p>
<p>So the first step is to protect the credit card info during the normal transaction. The merchant uses a HSM to handle the SSL tunnels, and normally the TRSM will decrypt the data that is sent to the web server. The HSM has just enough intelligence to recognize when the CC data is being sent over the tunnel (nCipher released a demo of this a while back), and will wrap it a carefully designed encrypted data blob. This data blob is stored on the database instead of the normal CC data. When the transaction is sent for approval or processing, a TRSM is used to cryptographically translates the blob for the to the CC acquirer. So long as the TRSM is setup and maintained properly, the CC data is never accessable, nor matter how much access a hacker has to the merchant‚Äôs database. At best they can do fake transactions, but not access the data from the real transactions.</p>
<p>I won‚Äôt go into what happens when the merchant actually needs to see the CC data in too much detail (in part because this where a good deal of the value-add of my design is). But the high level idea is the TRSM can be designed to evaluate security policies and if allowed translate the CC Data blob to an individual user‚Äôs token protected key.</p>
<p>The control points in this type of design are more natural ‚Äúchoke points‚Äù for the typical TRSM design.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141100">

			<div class="comment by-109 ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://sublight.mp' rel='external nofollow ugc' class='url'>109</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141100">
						June 30, 2010 5:12 PM					</a>

				</p>

				<blockquote><p>
  credit card databases associated with websites&#8230; If the database were encrypted, the website would need the key. But if the key were on the same network as the data, what would be the point of encrypting it?
</p></blockquote>
<p>You are right that storing keys in the same place as encrypted data does not make any sense. But your example with credit cards is flawed. Credit card data can be encrypted with user password (which itself is not stored with the website, only hash is), and only decrypted when the user is logged.</p>
<p>In other words, not the whole database is encrypted with the same key, but every record is encrypted with it&#8217;s own key [which is not stored].</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141101">

			<div class="comment by-109 ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://sublight.mp' rel='external nofollow ugc' class='url'>109</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141101">
						June 30, 2010 5:16 PM					</a>

				</p>

				<blockquote><p>
  &#8230;credit card numbers; criminals prefer to steal them by the hundreds of thousands from back-end databases.
</p></blockquote>
<p>That&#8217;s why it is important to keep databases encrypted.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141102">

			<div class="comment by-109 ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://sublight.mp' rel='external nofollow ugc' class='url'>109</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141102">
						June 30, 2010 5:21 PM					</a>

				</p>

				<p>Rich&gt; This solution would require 2 passwords, one for logging on, and one for decrypting sensitive information</p>
<p>Why the password used for logging can&#8217;t be used for encrypting sensitive data?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141103">

			<div class="comment by-andyj ">

				<p class="commentcredit">

					<span class="commenter">AndyJ</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141103">
						June 30, 2010 6:09 PM					</a>

				</p>

				<p>Encrypting the credit card number on the database prevents the database administrator from seeing the credit card number.</p>
<p>The DBA is able to perform maintenance on the database (like drop records older than x).</p>
<p>The DBA does not get rights to allow access to the service that retrieves records and decrypts the credit card number.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141104">

			<div class="comment by-bill ">

				<p class="commentcredit">

					<span class="commenter">Bill</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141104">
						June 30, 2010 6:34 PM					</a>

				</p>

				<p>Why can&#8217;t they just implement a SHA1 or SALT hash to authenticate users to the site or database?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141105">

			<div class="comment by-shabble ">

				<p class="commentcredit">

					<span class="commenter">Shabble</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141105">
						June 30, 2010 8:22 PM					</a>

				</p>

				<p>I&#8217;ve only skimmed the comments, so this might be redundant, but encrypting data in the database may provide some protection from certain attack vectors.</p>
<p>For example, an SQL injection attack may lead to data leakage (the &#8216;OR 1=1; &#8212; springs to mind), but depending on database user privileges, might not have access to the rest of the system or network.</p>
<p>In that case, they can extract the crypted data from the database, but without the key which is processed at the app layer, it is effectively useless.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141106">

			<div class="comment by-blue92 ">

				<p class="commentcredit">

					<span class="commenter">blue92</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141106">
						June 30, 2010 10:06 PM					</a>

				</p>

				<blockquote><p>
  Those databases are not encrypted because it doesn&#8217;t make any sense.
</p></blockquote>
<p>I guess this <em>is</em> an old article.  They are encrypted now&#8230; or at least they are supposed to be.  Every web site that handles a large number of credit cards these days now deals with PCI requirements. (www.pcisecuritystandards.org)  You get to pay them to come audit you&#8230;  and fine you if you don&#8217;t at least look like you&#8217;re trying to do every one of the 200-something bullet-pointed list.  Why would they want to fix credit card security?  Leaks are the fault of the vendor.  It&#8217;s a cottage industry extorting money from companies who can&#8217;t survive without taking credit cards and don&#8217;t have in-house security resources.</p>
<blockquote><p>
  Why can&#8217;t they just implement a SHA1 or SALT hash to authenticate users to the site or database?
</p></blockquote>
<p>You can (and do), but DB authentication is only one vector.  Everybody&#8217;s just as paranoid now about untrusted employees &#8212; any programmer with access to source can collect passwords.  Which means that now you are (ideally) supposed to isolate the key management to a separate encryption service, reduce the access to that box to a minimum number of users, and audit/throttle encryption/decryption access.  Which of course just pushes your untrusted employee to leak your precious data by a slow trickle on some man-in-the-middle channel.</p>
<p>Personally I&#8217;m waiting for the banks to suggest CIA secret clearance for fast food cashiers in the next compliance recommendations&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141107">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141107">
						June 30, 2010 10:35 PM					</a>

				</p>

				<p>@ Bruce Schneier</p>
<p>Overall, your essay is nice as usual. But, your claim about credit card wielding web sites appears to be based on a flawed assumption. That both the web site and the database server use the database doesn&#8217;t imply they are logically or physically in the same place. A common example would be splitting the system into a database server and an application/web server.</p>
<p>The database might be SQL Server on Win 2003 and the ecommerce system a well-designed app running on OpenBSD or RedHat/J2EE. If the database only receives/retrieves encrypted data, then a compromise of the Win 2003 machine and theft of database will result in zero data leakage. Total compromise of the web server might result in total data loss. Compromise of the web application logic can result in slow to high data loss, while a faulty authentication scheme result in loss limited by both network and server response speed. In other words, the encryption totally stops the attack you said is most preferred and slows down others. This seems quite beneficial, esp. considering heterogenous nature of modern networks.</p>
<p>A better, but more limiting, design might have three systems: a database server, a encryption appliance and a web/app server. The database and web/app server would communicate through properly formatted messages via software agents installed on each. These messages would go through encryption appliance, which decides what data to release, generates/stores keys, etc. Firewall policy creates DMZ with these rules: database and crypto appliance can talk to each other; non-DMZ devices only see web server; web server only talks to crypto appliance. This already reduces risk on web server side and totally mitigates database side, but it allows us to go further.</p>
<p>Web application is built very modular and multiprocess to isolate faults. User login goes through an authentication process that tells the crypto appliance to pull the user&#8217;s info. That user is considered one of the &#8220;active users.&#8221; Other parts of the web app can only work with the data of active users. They are also designed to not &#8220;accidentally&#8221; work on data for inactive users. The crypto appliance can be configured to go fail-safe upon unauthorized access and report it to admin. It might also prompt the immediate poweroff of the offending system so its logs could be retrieved with little tampering. This functionality further reduces the risk of web server compromise. It wouldn&#8217;t work for apps like Amazon.com or Facebook, but many simpler stores could use it straight up with a document-based database system, multiple databases for different purposes, and modular web app design with appropriate permissions.</p>
<p>Regardless of which design is chosen, flexible or restrictive, each eliminates a huge attack vector and reduces the gains of others. So, why is encryption of data between logically separated systems useless again? Rephrased, a trusted system encrypting data to store on a system to keep it from being trusted. Less trust is always a good thing to me, as far as PC&#8217;s go. üòâ</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141108">

			<div class="comment by-jon ">

				<p class="commentcredit">

					<span class="commenter">Jon</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141108">
						June 30, 2010 11:06 PM					</a>

				</p>

				<p>Ask this question:  Why are they being stored?</p>
<p>For a little convenience?  Is it really that difficult to just type them in again?</p>
<p>Why shouldn&#8217;t the web sites keep them for just long enough to validate one transaction, then fry them?</p>
<p>At least that way they don&#8217;t store, as another poster put it, the keys to your whole bank account.</p>
<p>J.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141109">

			<div class="comment by-tom-t ">

				<p class="commentcredit">

					<span class="commenter">Tom T.</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141109">
						July 1, 2010 12:04 AM					</a>

				</p>

				<p>@ Jon: Bingo!</p>
<p>Many retail sites offer choices:<br />
&#8220;Make this my default (credit card) payment option&#8221;<br />
&#8220;Add this to my list of payment choices&#8221;<br />
&#8220;Use this time only&#8221; (or similar language).</p>
<p>I&#8217;m hoping that the third choice means that indeed, they use it and fry it after validation (or shipping and charging the card) which greatly reduces, if not eliminates, the &#8220;at risk&#8221; period for that  card number with that merchant. In any event, it&#8217;s what I always choose. It just_isn&#8217;t_that_hard to pull out your card and type 16 integers and a CVS. (Much less effort than most of these posts, LOL! üôÇ</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141110">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141110">
						July 1, 2010 12:39 AM					</a>

				</p>

				<p>@ Tom T</p>
<p>&#8220;it just isn&#8217;t that hard to pull out your card and type 16 integers and a CVS&#8221;</p>
<p>Couldn&#8217;t have said it better! Even if you have to type in full info for the invoice every time, it&#8217;s still a great risk reducer if it avoids permanent storage. Another problem you avoid using one-time payments is unwanted repeated charges. Companies like Comcast are notorious for sucking money out your account after you&#8217;ve terminated service early, but only if you gave them consent to automatic payment. One-time payments don&#8217;t have that problem.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141111">

			<div class="comment by-pooka ">

				<p class="commentcredit">

					<span class="commenter">Pooka</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141111">
						July 1, 2010 12:42 AM					</a>

				</p>

				<p>All security eventually boils down to &#8220;social engineering&#8221;.</p>
<p><a href="http://www.xkcd.org/538/" rel="nofollow ugc">http://www.xkcd.org/538/</a></p>
<p>Even though machines may be the greatest consumers of secure data such as CC numbers, it&#8217;s the humans who work to abuse them.</p>
<p>All of you are just as brilliant as me and can dream up scenarios on how to obtain sensitive data.  Use one-time cards online, or find a way to pay cash in person.</p>
<p>The only winning move is not to play.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141112">

			<div class="comment by-ac2 ">

				<p class="commentcredit">

					<span class="commenter">AC2</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141112">
						July 1, 2010 1:39 AM					</a>

				</p>

				<p>@Nick P</p>
<p>I must confess to a slightly elevated heart rate after reading this part of your post:</p>
<p>&#8220;The database might be SQL Server on Win 2003 and the ecommerce system a well-designed app running on OpenBSD or RedHat/J2EE. If the database only receives/retrieves encrypted data, then a compromise of the Win 2003 machine and theft of database will result in zero data leakage.&#8221;</p>
<p>First bit was the mention of SQL Server on Win 2003, unless it was just to drive home the point&#8230;</p>
<p>Second was the bit that everything in the DB is encrypted and the App server or Security Applicance needs to handle the encryption/ decryption&#8230; This would make your DB backups hostage to the availability of the App Server/ Security Appliance which imho is not a good thing&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141113">

			<div class="comment by-q ">

				<p class="commentcredit">

					<span class="commenter">q</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141113">
						July 1, 2010 2:10 AM					</a>

				</p>

				<p>@Rich &#8220;This solution would require 2 passwords, one for logging on, and one for decrypting sensitive information.&#8221;</p>
<p>No, in fact, a usable solution with single password is possible. Basically, you store in the database H(password | K1) for authentication, and use H(password | K2) as an encryption key for sensitive data. Here H(x) is a hash function (e.g. SHA256), and K1 and K2 are different constants that serve as hash keys.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141114">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141114">
						July 1, 2010 3:15 AM					</a>

				</p>

				<p>@ AC2</p>
<p>&#8220;First bit was the mention of SQL Server on Win 2003, unless it was just to drive home the point&#8230;&#8221;</p>
<p>That was indeed the point. üòâ</p>
<p>&#8220;would make your DB backups hostage to the availability of the App Server/ Security Appliance&#8230;&#8221;</p>
<p>&#8230;if it wasn&#8217;t part of the backup plan. A protocol can be devised for that.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141115">

			<div class="comment by-ian ">

				<p class="commentcredit">

					<span class="commenter">Ian</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141115">
						July 1, 2010 3:54 AM					</a>

				</p>

				<p>@Jon &#8220;Ask this question: Why are they being stored?&#8221;</p>
<p>One major reason is that often the merchant is only allowed to debit the cardholder when the goods are shipped, not when the order is placed, and that requires the card number.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141116">

			<div class="comment by-piet ">

				<p class="commentcredit">

					<span class="commenter">Piet</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141116">
						July 1, 2010 4:24 AM					</a>

				</p>

				<p>Why would anyone want to type 16 integer number every time you try to buy something if you are not accountable if your card is compromised anyway?</p>
<p>Or has the accountability for credit cards changed recently? (I do not own a credit card).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141117">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141117">
						July 1, 2010 7:27 AM					</a>

				</p>

				<p>@ Bruce,</p>
<p>I had a chat with a &#8220;reader&#8221; at a well known UK University back in 1995 about an asspect of data &#8220;in transit&#8221; -v- &#8220;at rest&#8221;.</p>
<p>And perhaps surprisingly &#8220;security&#8221; was not the main area of interest&#8230;</p>
<p>This was possably due to the fact it was with respect to part of a course titled &#8220;The Information Economy&#8221;.</p>
<p>At that time many researchers where viewing information in an economic perspective and where relating it to the trading of tangable assets and tokens representing abstract valuation of tangable assests (ie certificats of ownership, bonds and other financial instruments).</p>
<p>Basicaly trying to leverage existing models from the tangable economic world into the as yet unknown intangable economic world.</p>
<p>One area that croped up was if you evaluated information as a replacment for tangiable money what was it&#8217;s value in transit and in a market (ie the equivalent of seniorage and churn).</p>
<p>It produced some very strange results and ideas which did have some quite distinct security aspects and not just those widley known ones relating to &#8220;tracability&#8221; (proceds of crime, double spending, taxation etc).</p>
<p>Any way a bit of topic for this particlar blog page, but defiantly something for you (and others) to think on as it is an area that is going to be much more relavent in (the hopefully near) future and bring with it a whole load more (nearly) new security issues.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141118">

			<div class="comment by-gilles ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.reant.net/essi/' rel='external nofollow ugc' class='url'>Gilles</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141118">
						July 1, 2010 8:06 AM					</a>

				</p>

				<blockquote><p>
  Those databases are not encrypted because it doesn&#8217;t make any sense.<br />
  O_o I agree with blue92. Have a look at PCI-DSS requirements : <a href="http://www.qualys.com/forms/ebook/pcifordummies/" rel="nofollow ugc">http://www.qualys.com/forms/ebook/pcifordummies/</a><br />
  Furthermore, with the right hardware &amp; the right configuration, an encrypted database (the key being stored in a HSM) can run fast enough for most cases.
</p></blockquote>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141119">

			<div class="comment by-paul ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://alltoosimple.wordpress.com' rel='external nofollow ugc' class='url'>paul</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141119">
						July 1, 2010 11:53 AM					</a>

				</p>

				<p>I think that the lesson of encrypting laptops and CDs and DATs etc is that it&#8217;s often difficult to distinguish between data in transit and data at rest. Data sitting in a file on some storage medium is logically at rest, but if it&#8217;s physically in transit it&#8217;s vulnerable and needs to be encrypted. (And conversely, encrypting data that&#8217;s in transit over a physically restricted network doesn&#8217;t buy you all that much, because if someone has access to the wire, they also have access to the endpoints and you&#8217;re up the creek anyway.) The other thing, which many people have mentioned, is that access to unencrypted data is very rarely necessary; hash comparisons or their moral equivalent will typically do just as well.</p>
<p>I think the best argument for encrypting stuff in general (in addition to the &#8220;make a smaller secret&#8221; one) is KISS. If you no longer have to invoke special treatment for files that happen to reside on physical media that might be moved, you may simplify your architecture in useful ways. But then I&#8217;m not an expert, and some of those ways might be more useful to attackers.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141120">

			<div class="comment by-kog999 ">

				<p class="commentcredit">

					<span class="commenter">kog999</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141120">
						July 1, 2010 1:14 PM					</a>

				</p>

				<p>i once worked for a company who was trying to be pci compliant. Their solution to encrypting credit card data in the database was to run a program on the one of the developers machines (windows XP which he used to go online and do his dev work) that would query the credit card table and update all the unencrypted numbers with a hash value. This program was set to run via a schedule task every 10 minutes (assuming of course his computer wasn&#8217;t turned off and the task wasn&#8217;t otherwise unrunnable). True story. I couldn&#8217;t even begin to list how many ways his was stupid.</p>
<p>Also i agree with alot of the other commenters. the most effective way to prevent the leakage of data is not to have it.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141121">

			<div class="comment by-tom-t ">

				<p class="commentcredit">

					<span class="commenter">Tom T.</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141121">
						July 1, 2010 10:01 PM					</a>

				</p>

				<p>@ Ian: Please see my response to Jon, right below his, which acknowledged that the card number might have to be stored until the goods are shipped. &#8212; &#8220;which greatly reduces, if not eliminates, the &#8220;at risk&#8221; period&#8230;&#8221; We can&#8217;t always get 100% risk elimination. But isn&#8217;t shortening the risk period by 99.7% (3 days out of 3 years), versus leaving the card info with that merchant until the card expires, a major improvement?</p>
<p>@ Piet: Worse things can happen. If the card is charged over the limit, credit agencies may be auto-notified. If it is used to help commit so-called &#8220;identity theft&#8221; you may spend years, thousands of hours, and much money trying to regain your credit standing and undo the damage. This goes far beyond the $100 charge for a single item that the credit card company agrees to take off your bill.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141122">

			<div class="comment by-matt-s ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.threadthat.com' rel='external nofollow ugc' class='url'>Matt S.</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141122">
						July 1, 2010 10:20 PM					</a>

				</p>

				<p>I&#8217;ve been living/breathing encryption for the past 3 years, 2 of which were spent developing a SaaS app that would allow anyone to securely share information utilizing end-to-end encryption without installing any software and without having any knowledge if encryption.  Most importantly, it had to be owner-proof.  As mentioned in one of the posts, so long as the site owner has access to the encryption keys, your encrypted information is not truly secure.</p>
<p>The app is ThreadThat.com and the initial launch was in Dec. &#8217;09.  It is a secure threaded messaging application.  No PII other than your email address is stored in our databases.  Every thread (text and attachments) is AES encrypted using a system generated key.  The encryption keys are stored on a different server than the encrypted data.  The app is written in VB.Net with SQL Server 2008 databases.  As described in detail in our FAQ, there are 2 levels of confidentiality &#8211; Confidential and Secret.  In both cases, every thread has its own system generated key.  Confidential keys are stored in plain text.  Secret keys are encrypted using another passkey provided by the user.  That passkey is also stored on the key server in a personal keybox.  The user&#8217;s keybox is encrypted by the user&#8217;s password.  We only store the MD5 hash of the user&#8217;s password, so the keybox can only be opened when the user is logged in.  Secret messaging is more secure, but the user must share their passkey with anyone they invite to their threads.  Those users also have the option of storing other user&#8217;s passkeys in their keybox for convenience.  There is no limit on the number of passkeys that can be created for Secret messaging.  I as the database owner could decrypt confidential threads, but not secret threads.  When a user logs in, their password is stored in a session variable which is encrypted by .net and never appears the page.  When a user displays their threads, if any of them are secret threads, the app automatically tries to find a passkey in the keybox that will decrypt the thread.  If one cannot be found, then the thread is displayed with a lock icon that can be clicked to be prompted for the passkey.</p>
<p>This technique is working very well and users seem to be satisfied with the ease of use and the security provided.  There are several privacy options like IP address verification and multi-factor authentication.  We contracted profession hackers to do penetration testing and we passed.  If you are serious about protecting your online communications, check us out.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141123">

			<div class="comment by-pontus-g ">

				<p class="commentcredit">

					<span class="commenter">Pontus G</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141123">
						July 2, 2010 8:42 AM					</a>

				</p>

				<p>Re the PCI requirements for encrypted credit card number storage: is the intent to increase security, gain regulatory compliance (vs e.g. &#8216;safe harbour&#8217; provisions) or may it be to some degree a case of security theatre? From what I&#8217;ve gleaned, PCI requirements on key management are weak.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141124">

			<div class="comment by-rich ">

				<p class="commentcredit">

					<span class="commenter">Rich</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141124">
						July 2, 2010 10:26 AM					</a>

				</p>

				<p>@Those who pointed out it wouldn&#8217;t require 2 passwords.</p>
<p>I realized while walking around yesterday the solution could use two different salts. Thanks for pointing that out though. What salts you decided to use would vary from solution to solution, but I have always been the fan of using the result of a OTP.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141125">

			<div class="comment by-trsm-mckay ">

				<p class="commentcredit">

					<span class="commenter">trsm.mckay</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141125">
						July 2, 2010 5:27 PM					</a>

				</p>

				<p>@Nick P &#8211;</p>
<p>Your description of a solution that uses isolated servers (a database server, a encryption appliance and a web/app server) is conceptually very similar what I described.</p>
<p>Reminds me &#8211; it used to be fairly rare for me to see mainstram computer security technique and practices that were useful to my more esoteric speciality of designing TRSM interfaces. Just did not have much interest in configuration of firewalls and network monitoring (back in the hard outside and soft center days).</p>
<p>But as distributed systems became more common (because of web server limitations, compared with the mainframe days), and more mainstream attention was paid to things like securing systems using SOAP, I finally started seeing some overlap in concepts.</p>
<p>Basically it requires a fairly good analysis of what the threats are, how much trust you have in the various components, and what type of isolation properties they might have. The complicated part (which is also my favorite part) is designing the data distribution and the APIs between the components of the system so that they really can achieve the desired security goals.</p>
<p>I&#8217;m tempted to say there is no difference from a protocol standpoint, between a TRSM and a well isolated encryption server/appliance; but in the real world that is not quite true. If you have highly trusted components like a TRSM, you can sometimes bias the design to reduce the amount of trust in other nodes; something you might not want to do if the encryption node was weaker against conventional OS and network based attacks.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141126">

			<div class="comment by-glenn-maynard ">

				<p class="commentcredit">

					<span class="commenter">Glenn Maynard</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141126">
						July 4, 2010 7:22 PM					</a>

				</p>

				<p>The credit card example is a poor one.  It makes a lot of sense to encrypt credit card numbers on the server.  Use the user&#8217;s login credentials as the encryption key, so in order to access that sensitive data, the user must be actively using the site.  (If it&#8217;s necessary to access the data for a period after a purchase, eg. at shipping time as was mentioned, then store the credentials <em>and clear them</em> when you&#8217;re done.)</p>
<p>This allows the webserver to access the credit card number for checkout purposes without the user having to continually reenter it.  It also allows the merchant to avoid storing everyone&#8217;s credit card number in an accessible format all the time, avoiding the problem of a database leak exposing everyone&#8217;s credit card numbers.  Only the cards active at the time of the breach would be directly affected.</p>
<p>This puts a time limit on the amount of time you have to retain access to the user&#8217;s data, limiting the damage of a data leak, while retaining the necessary convenience of storing payment information.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141127">

			<div class="comment by-curt-sampson ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.starling-software.com/' rel='external nofollow ugc' class='url'>Curt Sampson</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141127">
						July 5, 2010 4:06 AM					</a>

				</p>

				<p>I&#8217;ve written a few credit card processing systems for web applications. Often I&#8217;ve used what is essentially a form of access control: the credit card number in the database is not available to the web application, though it can request that other processes run charges against it. This at least helps secure against exploitation of the web app.</p>
<p>But Jon&#8217;s question tweaked me: &#8220;Why are they being stored?&#8221;</p>
<p>Well, for me they&#8217;re being stored because I need to be able to send that number to the credit card processing company in order to charge someone.</p>
<p>However, it occurs to me that there&#8217;s no need to use <em>that particular</em> token to authenticate that the credit card owner has authorized me to charge him money. It could just as well work that, when I receive a credit card number for the first time, I use this to authenticate that the CC owner has authorized me, but I then receive back a new token fronm the CC processor for future use, and throw away the CC number. Whenever I want to charge this user again, I use that new token instead. If this token were valid only for charges to the CC owner from me, and could not be used to authorize purchase requests for any other merchant, my database becomes much less useful to attackers.</p>
<p>There&#8217;s the rough sketch of an idea; rip it to pieces, folks.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141128">

			<div class="comment by-ryan ">

				<p class="commentcredit">

					<span class="commenter">Ryan</span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141128">
						July 5, 2010 7:32 PM					</a>

				</p>

				<p>@Curt, this is called &#8220;tokenization&#8221; and is already in widespread use in order to push the PCI compliance burden onto 3rd parties. Verisign and Trust Commerce offer this service, as well as other smaller players. And if you are really doing as many CC apps as you say, you should already know about this from your own PCI compliance efforts.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-141129">

			<div class="comment by-stephen-wilson ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.lockstep.com.au/technologies' rel='external nofollow ugc' class='url'>Stephen Wilson</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141129">
						July 15, 2010 4:30 PM					</a>

				</p>

				<p>Amazingly Bruce sells cryptography short! He says that cryptography is &#8220;singularly ill-suited to solve &#8230; theft of credit card numbers&#8221;.  The article is really about encryption for confidentiality but it&#8217;s worth noting that asymmetric cryptography (digital signatures) most definitely is suited to fixing digital identity theft and credit card fraud.</p>
<p>Digitally signing credit card transactions by user-specific private keys is a uniquely effective way to stop replay attack and counterfeiting of payment card numbers. At its heart, the EMV Dynamic Data Authentication protocol uses asymmetric cryprography to ward against skimming.  In remote payments settings, the MasterCard CAP protocol and my company&#8217;s own &#8220;Stepwise&#8221; solution use private keys in chip cards to sign transaction data.</p>
<p>We might not stop the theft of cardholder details, but by digitally signing transactions we can render stolen card data worthless.  These techniques should be generalised to combat all digital identity theft.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-141130">

			<div class="comment by-stephen-wilson ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.lockstep.com.au/technologies' rel='external nofollow ugc' class='url'>Stephen Wilson</a></span> ‚Ä¢

					<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/#comment-141130">
						July 15, 2010 4:41 PM					</a>

				</p>

				<p>Jason said: &#8220;In short, the problem is not that cryptography is useless, it&#8217;s that we&#8217;re trying to use cryptography to protect credit cards, which are inherently broken&#8221;<br />
<a href="http://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html#c446213" rel="nofollow ugc">http://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html#c446213</a></p>
<p>I disagree. The four party credit card processing model is not fundamentally broken.  It&#8217;s worked well for forty odd years, and was successfully adapted to cardholder not present transactions for mail order / telephone order.  Fraud has exploded with the internet because card holder details are now widely available to thieves courtesy of widely joined-up but insecure systems, and stplen data are easily replayed against merchant sites.</p>
<p>But the four party model and the credit card concept itself are not at all invalidated by these criminal developments.  If only we rendered cardholder details non-replayable (by digital signatures) then the model could be preserved.</p>
<p>In my view, so many &#8220;modern&#8221; payment protocol developments &#8212; like SET and more recently 3D Secure &#8212; represent inelegant and way overblown overhauls, when the core threat is a very simple problem easily overcome via digital signatures to protect the pedigree of card numbers.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2010/06/data_at_rest_vs.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2010/06/data_at_rest_vs.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F06%2Fdata_at_rest_vs.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2010/06/data_at_rest_vs.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='3463' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2010/06/cryptography_su.html" rel="prev">‚Üê Cryptography Success Story</a>		<a href="https://www.schneier.com/blog/archives/2010/07/cryptography_fa.html" rel="next">Cryptography Failure Story ‚Üí</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
