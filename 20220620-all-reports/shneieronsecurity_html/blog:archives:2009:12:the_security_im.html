<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>The Security Implications of Windows Volume Shadow Copy - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; The Security Implications of Windows Volume Shadow Copy Comments Feed" href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/3149" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=3149' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2009%2F12%2Fthe_security_im.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2009%2F12%2Fthe_security_im.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-3149 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-3149" class="post-3149 post type-post status-publish format-standard hentry category-uncategorized tag-backups tag-data-destruction tag-encryption tag-privacy">

	<div class="article">

		<h2 class="entry">The Security Implications of Windows Volume Shadow Copy</h2>
		<p>It can be impossible to <a href="http://.szynalski.com/2009/11/23/volume-shadow-copy-system-restore/">securely delete a file</a>:</p>
<blockquote><p>What are the security implications of Volume Shadow Copy?</p>
<p>Suppose you decide to protect one of your documents from prying eyes. First, you create an encrypted copy using an encryption application. Then, you &#8220;wipe&#8221; (or &#8220;secure-delete&#8221;) the original document, which consists of overwriting it several times and deleting it. (This is necessary, because if you just deleted the document without overwriting it, all the data that was in the file would physically remain on the disk until it got overwritten by other data. See question above for an explanation of how file deletion works.)</p>
<p>Ordinarily, this would render the original, unencrypted document irretrievable. However, if the original file was stored on a volume protected by the Volume Shadow Copy service <em>and </em>it was there when a restore point was created, the original file will be retrievable using <em>Previous versions</em>. All you need to do is right-click the containing folder, click <em>Restore previous versions</em>, open a snapshot, and, lo and behold, you&#8217;ll see the original file that you tried so hard to delete!</p>
<p>The reason wiping the file doesn&#8217;t help, of course, is that before the file&#8217;s blocks get overwritten, VSC will save them to the shadow copy. It doesn&#8217;t matter how many times you overwrite the file, the shadow copy will still be there, safely stored on a hidden volume.</p>
<p>Is there a way to securely delete a file on a volume protected by VSC?</p>
<p>No. Shadow copies are read-only, so there is no way to delete a file from all the shadow copies.</p></blockquote>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/backups/" rel="tag">backups</a>, <a href="https://www.schneier.com/tag/data-destruction/" rel="tag">data destruction</a>, <a href="https://www.schneier.com/tag/encryption/" rel="tag">encryption</a>, <a href="https://www.schneier.com/tag/privacy/" rel="tag">privacy</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html" rel="bookmark">Posted on December 2, 2009 at 6:16 AM</a>			â€¢
			<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html#comments">111 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2009/12/the_security_im.html" data-title="The Security Implications of Windows Volume Shadow Copy" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-125792">

			<div class="comment by-calumn ">

				<p class="commentcredit">

					<span class="commenter">Calumn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125792">
						December 2, 2009 6:30 AM					</a>

				</p>

				<p>Common sense?<br />
If you make ANY backup of a file, it can be recovered &#8211; why not an article on &#8220;the security implications of burning your unencrypted file onto a CD-ROM&#8221;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125793">

			<div class="comment by-cristian-bertoldi ">

				<p class="commentcredit">

					<span class="commenter">Cristian Bertoldi</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125793">
						December 2, 2009 6:35 AM					</a>

				</p>

				<p>can shadow copy be disabled before secure deleting a file?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125794">

			<div class="comment by-cristian-bertoldi ">

				<p class="commentcredit">

					<span class="commenter">Cristian Bertoldi</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125794">
						December 2, 2009 6:37 AM					</a>

				</p>

				<p>I answer myself&#8230; yes, it is possible.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125795">

			<div class="comment by-alfora ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://alfora@web.de' rel='external nofollow ugc' class='url'>alfora</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125795">
						December 2, 2009 6:44 AM					</a>

				</p>

				<p>@Calumn: Because there is a huge difference between making a backup copy on purpose and being aware of this process and letting &#8220;the system&#8221; make shadow copies on its own.</p>
<p>Even if you are turning on systems like Volume Shadow Copy on Windows or Time Machine on Mac OS X consciously you still don&#8217;t know exactly when they will do what with your files.</p>
<p>Backup systems like Time Machine basically tell you, &#8220;Turn me on, i&#8217;ll handle the rest. Don&#8217;t think about having to make backups manually. I&#8217;ll do it.&#8221; So, basically you forget about them until you need them to get back a file after an accident.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125796">

			<div class="comment by-pfb ">

				<p class="commentcredit">

					<span class="commenter">pfb</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125796">
						December 2, 2009 7:00 AM					</a>

				</p>

				<p>This kind of problem is not limited to windows ;<br />
Every system having snapshot capabilities will expose this problem ; at the filesystem level or below like lvm (lvm2 snapshots can be r/w, so one can theorically secure delete the file in every snapshot).<br />
The problem is worse in filesystems using copy-on-write (Sun ZFS, NetApp WAFL or Oracle Btrfs). And of course they also have snapshots (at least the first two, didn&#8217;t check for btrfs) in addition to COW.<br />
In those cases, it&#8217;s not that you may not be able in some cases to secure delete, you never could.<br />
Now one can point out the inherent schizophrenia of trying to enhance the technical ability to secure long term storage of a dataset, via redundancy, versionning etc while maintaining the capability to make it completly disappear.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125797">

			<div class="comment by-echobeach2 ">

				<p class="commentcredit">

					<span class="commenter">echobeach2</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125797">
						December 2, 2009 7:02 AM					</a>

				</p>

				<p>You can delete these via control panel, system, sytem protection, configure, delete. Then wipe all free space.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125798">

			<div class="comment by-banduraj ">

				<p class="commentcredit">

					<span class="commenter">banduraj</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125798">
						December 2, 2009 7:06 AM					</a>

				</p>

				<p>I agree with Calumn. This either falls under common sense or a training issue. At least with shadow copy, schedules are configured for when snapshots are taken. If a document needs to be secure, then it should have been secure from the start.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125799">

			<div class="comment by-tb ">

				<p class="commentcredit">

					<span class="commenter">tb</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125799">
						December 2, 2009 7:07 AM					</a>

				</p>

				<p>In Windows, you can use EFS and/or BitLocker to reduce the likelihood that someone gains unauthorized access to the shadow copy.</p>
<p>IMHO, I think the shadow copy feature should have been restricted to operating system files only, possibly with a whitelist that you could use to include user-specified files/directories. As it stands, it mostly serves as a more annoying/difficult recycle bin. I see no compelling reason to leave it enabled.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125800">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125800">
						December 2, 2009 7:14 AM					</a>

				</p>

				<p>@ Bruce,</p>
<p>I&#8217;m surprised you did not mention that it has implications for &#8220;encrypted&#8221; files as well.</p>
<p>If you have two nearly identical plain texts stored away as encrypted files. Depending on the encryption mode or type you can use one file to break the other file.</p>
<p>It is why they always tell you never to use the same pad in a one time pad system twice.</p>
<p>The same applies to stream ciphers under the same key.</p>
<p>Also block ciphers when used in odd modes.</p>
<p>As I have said before if you don&#8217;t know how your file encryption software works you may be in for a nasty surprise.</p>
<p>Belive me when I say that there are some devices out there that use good encryption in a bad way because the designers do not know any better.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125801">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125801">
						December 2, 2009 7:19 AM					</a>

				</p>

				<p>Oh and whilst I remember,</p>
<p>Don&#8217;t think Microsoft knows what it is doing with encryption software.</p>
<p>Have a google for the X-Box and TEA cipher being used in the wrong way.</p>
<p>Any way the nurse has just put my lunch in front of me and for some reason the sight of it has set my recovery back a few days as I now feel quite ill again 8(</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125802">

			<div class="comment by-enix ">

				<p class="commentcredit">

					<span class="commenter">Enix</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125802">
						December 2, 2009 7:48 AM					</a>

				</p>

				<p>&#8220;If a document needs to be secure, then it should have been secure from the start.&#8221;</p>
<p>Blaming the user and plugging your ears to a problem doesn&#8217;t help. Of course training is the first line of defense in security. We train people to drive cars safely, too, yet there are still airbags and seatbelts.</p>
<p>There should be other options when training fails (we&#8217;re only human). In this case, preferably one that doesn&#8217;t involved a &#8220;scorched earth&#8221; policy of wiping the entire shadow volume.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125803">

			<div class="comment by-thomas ">

				<p class="commentcredit">

					<span class="commenter">Thomas</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125803">
						December 2, 2009 8:02 AM					</a>

				</p>

				<p>I don&#8217;t think &#8216;securely&#8217; deleting individual files from a filesystem is possible.</p>
<p>Every time you open the filesystem explorer (whether it be windows explorer, nautilus or whatever) it creates a thumbnail of the document which may or may not contain enough information to be dangerous.</p>
<p>Every time you open, edit and save a file the application you use to do it is as likely to create a new copy as it is to overwrite the existing one.</p>
<p>Thats a shadow of the file, sectors containing the data which a &#8216;secure&#8217; delete of the current file won&#8217;t touch.</p>
<p>Even if you save in-place, shorten the file and the unneeded sectors at the end of the file are up for grabs.</p>
<p>Some document formats these days are zip files, merely opening them for viewing may result in them being extracted to disk somewhere.</p>
<p>Then there&#8217;s swap of course&#8230;</p>
<p>Print previews, temp copies, disk indexers, defrags, reallocating weak disk sectors &#8230; more shadow copies.</p>
<p>I think it&#8217;s safest to assume that once the data touches your disk it&#8217;s there to stay.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125804">

			<div class="comment by-michaelgg ">

				<p class="commentcredit">

					<span class="commenter">MichaelGG</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125804">
						December 2, 2009 8:12 AM					</a>

				</p>

				<p>Doesn&#8217;t this happen on flash drives as well? As they have their own wear leveling mechanism and so on, won&#8217;t deleted data stick around until the writes get back around to that sector?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125805">

			<div class="comment by-np237 ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://np237.livejournal.com/' rel='external nofollow ugc' class='url'>Np237</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125805">
						December 2, 2009 8:29 AM					</a>

				</p>

				<p>Thomas is right; the only safe solution if you donâ€™t want some files to be readable by others is to encrypt your entire disk, including the swap area, using safe solutions like dm-crypt.</p>
<p>It doesnâ€™t keep the data safe against all kinds of attacks, of course, but at least you donâ€™t have to wonder about what every manipulation could do to your data.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125806">

			<div class="comment by-david ">

				<p class="commentcredit">

					<span class="commenter">David</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125806">
						December 2, 2009 8:47 AM					</a>

				</p>

				<p>@tb:  I&#8217;ve found the ability to go back to previous versions of a file quite useful on occasion.  Backing up system files isn&#8217;t all that useful, since they can always be restored.  Backing up user-created files is far more useful, since they can&#8217;t necessarily be recovered.</p>
<p>@pfb:  It reminds me about one problem with the version control system Subversion, the lack of an ability to permanently remove things checked in by accident (either because they are sensitive, or unnecessary and very large).  The designers worked hard on creating a VCS that wouldn&#8217;t lose things, and in general succeeded.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125807">

			<div class="comment by-vedaal ">

				<p class="commentcredit">

					<span class="commenter">vedaal</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125807">
						December 2, 2009 8:49 AM					</a>

				</p>

				<p>Am not familiar with Volume Shadow Copy, but suspect that it won&#8217;t copy anything unless the file is saved to disk first.</p>
<p>(If this is not correct, then, someone , please point it out, Thanks!)</p>
<p>If the VSC really doesn&#8217;t kick in until a document is saved, then it might be defeated by using an encryption program that encrypts &#8216;current window&#8217;<br />
(PGP, GnuPG with GPGShell or WinPT),<br />
then wipes the &#8216;clipboard&#8217; ,<br />
and then save the encrypted copy.</p>
<p>(All formatting will be lost, so it might work for pure text, but not for Word or Open Office documents.)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125808">

			<div class="comment by-kangaroo ">

				<p class="commentcredit">

					<span class="commenter">kangaroo</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125808">
						December 2, 2009 8:51 AM					</a>

				</p>

				<p>Np237 is right. File level encryption is almost impossible to secure &#8212; you&#8217;re depending on the system to NEVER cache your data. You have to encrypt end-to-end.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125809">

			<div class="comment by-graeme-teesdale ">

				<p class="commentcredit">

					<span class="commenter">Graeme Teesdale</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125809">
						December 2, 2009 8:54 AM					</a>

				</p>

				<p>Great post here Bruce&#8230;. Would you like to suggest a solution?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125810">

			<div class="comment by-graeme-teesdale ">

				<p class="commentcredit">

					<span class="commenter">Graeme Teesdale</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125810">
						December 2, 2009 9:02 AM					</a>

				</p>

				<p>Is this perhaps why the much maligned NHS IT project can&#8217;t promise to &#8216;delete&#8217; your records from its systems. A design constraint perhaps, resulting in a failure demand process, creating complexity in the dependencies of data and backup management?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125811">

			<div class="comment by-kevin ">

				<p class="commentcredit">

					<span class="commenter">kevin</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125811">
						December 2, 2009 9:06 AM					</a>

				</p>

				<p>On the mac, if you know you want the file encrypted ahead of time you can create an encrypted disk image, mount that then save your files directly to it. That way no plain text is ever on the hard drive (except what you get with an unencrypted swap and the other issues)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125812">

			<div class="comment by-olive ">

				<p class="commentcredit">

					<span class="commenter">Olive</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125812">
						December 2, 2009 9:43 AM					</a>

				</p>

				<p>This doesn&#8217;t make any sense. If the copy is never deleted, the drive would eventually fill up with all these shadow copies. If there is only one shadow copy per filename and does get overwritten each time a change is made to the working copy, then don&#8217;t say it is read only.</p>
<p>And this stuff about having to overwrite a file on disk several times to make sure is nonsense. If it were this simple, then why wouldn&#8217;t an application have to save a file over and over and over again, to make sure it was correct? If you could save more information in each spot then why can&#8217;t magnetic media regularly be used to store many times as much information as advertised??? That&#8217;s because they know it can&#8217;t.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125813">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125813">
						December 2, 2009 9:50 AM					</a>

				</p>

				<p>@Olive: &#8220;This doesn&#8217;t make any sense. If the copy is never deleted, the drive would eventually fill up with all these shadow copies. If there is only one shadow copy per filename and does get overwritten each time a change is made to the working copy, then don&#8217;t say it is read only. &#8221;</p>
<hr />
<p>I don&#8217;t think the point is that it never gets overwritten and that a file will be available forever.  I think the point is that a &#8220;securely deleted&#8221; file can be recovered for an undetermined amount of time after you &#8220;security delete&#8221; it.  This can be months.  That is unacceptable.</p>
<p>My solution is to stick with XP and hopefully enough people will put pressure on MS to fix this.  It should be pretty easy to fix, if they care to.</p>
<p>This is one more reason I don&#8217;t upgrade until an OS has been in production for long enough to find some of these things out.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125814">

			<div class="comment by-bear ">

				<p class="commentcredit">

					<span class="commenter">bear</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125814">
						December 2, 2009 10:05 AM					</a>

				</p>

				<p>If you created the new file on an encrypted volume to start with (thinking the simple right click &#8211; new) I think you could negate this.</p>
<p>You could then encrypt the file before you send it to where you want to and delete it from the encrypted volume.  If I understand the function of the shadow copy correctly, it would back up / save restore point information for the encrypted volume file but not the actual file.</p>
<p>Am I wrong?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125815">

			<div class="comment by-petter ">

				<p class="commentcredit">

					<span class="commenter">Petter</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125815">
						December 2, 2009 10:13 AM					</a>

				</p>

				<p>Who relies on securely deleting individual files? I would hope no one.</p>
<p>Once sensitive data has been written to a disk, that disk is sensitive. Period. To remove sensitive information, wipe the disk.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125816">

			<div class="comment by-paul ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://alltoosimple.wordpress.com' rel='external nofollow ugc' class='url'>paul</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125816">
						December 2, 2009 10:32 AM					</a>

				</p>

				<p>One solution that doesn&#8217;t seem to be mentioned is replacing the contents of the file (preferably many times) between restore points and before deletion. Doing that enough times will push the version of the file that contained the data to be protected off the back of the (effectively) fifo space containing shadow copies. Of course, that will also make it impossible to recover some things that you might want to recover, but eh.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125817">

			<div class="comment by-greenup ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.greenups.com' rel='external nofollow ugc' class='url'>greenup</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125817">
						December 2, 2009 10:51 AM					</a>

				</p>

				<p>Lots of good comments above; I especially like the one about &#8220;the inherent schizophrenia of trying to [have backups] while maintaining the capability to make it completely disappear.&#8221;</p>
<p>I agree with others that encryption must be &#8220;end-to-end&#8221;, as any time spent unencrypted presents vulnerability, but when is the &#8220;start&#8221;?  Starting with an MS-Word doc, it is tricky to make sure it is saved in a strong encrypted form.  The built-in encryption is not suitable, which leaves saving to an encrypted filesystem, which may not be the way you want to keep the file long-term.</p>
<p>Then there are the AutoRecover files MS Word creates&#8230;  has the user taken care to make sure they are saved on the encrypted partition?  When do they get cleaned up?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125818">

			<div class="comment by-banduraj ">

				<p class="commentcredit">

					<span class="commenter">banduraj</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125818">
						December 2, 2009 10:56 AM					</a>

				</p>

				<p>@Enix: I think you missed my point. If VSC poses a security problem, then so do all forms of data backup. When backups of any form are in place, then data retention is not only implied, but implicit.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125819">

			<div class="comment by-david-harmon ">

				<p class="commentcredit">

					<span class="commenter">David Harmon</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125819">
						December 2, 2009 12:08 PM					</a>

				</p>

				<p>For the encryption issue, you certainly need to have some filesystem space which is not shadowed (RAMdisk?), for temporary files and the like.  Pre-encrypted stuff should probably go there, likewise temporary copies from viewing, unzipping, etc.</p>
<p>Otherwise &#8212; yeah, it&#8217;s a general tension between two incompatible goals.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125820">

			<div class="comment by-bf-skinner ">

				<p class="commentcredit">

					<span class="commenter">BF Skinner</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125820">
						December 2, 2009 12:52 PM					</a>

				</p>

				<p>@Graeme Teesdale &#8220;Bruce&#8230;. Would you like to suggest a solution?&#8221;</p>
<p>Bruce&#8217;s solution at one time encrypt encrypt encrypt. But in Between Digital Secrets and Beyond Security his<br />
thinking appeared to change to acknowledge &#8220;computer&#8221; security wasn&#8217;t just a technical issue.</p>
<p>Security is a human condition that expresses itself in technology.</p>
<p>Case Study<br />
A user, not mine, wrote classified material to an unclass system that was mine. Large system so nobody noticed it for months.<br />
Large, highly redundent, high availability, database system. We spent weeks trying to find all the places that data had been<br />
written to, log files, transaction files, backup tapes the alternate processing site, the off site tape set, the annual<br />
national archive copy.</p>
<p>The designers had spent so much time making sure that data wasn&#8217;t lost that when the situation required it we couldn&#8217;t have a<br />
high assurance that we disposed of all the contaminated areas.</p>
<p>Had that user simply exercised caution and paid attention to the document markings I wouldn&#8217;t have had to expend 10&#8217;sk$ and<br />
feed 3 months of DLTs to the incinerator. (&#8220;They&#8217;re gonna reimburse for these tapes aren&#8217;t they?&#8221; I wish I could do the spock eyebrow<br />
thing for questions like that.)</p>
<p>I used to wonder why every space ship has a self-destruct. Then someone said only the person who can destroy a thing is the one<br />
who truly controls it. I think it was Paul Atreides.</p>
<p>Our data is the same way. If we can&#8217;t destroy it&#8211;we don&#8217;t control it. Ditto if we can&#8217;t preserve it.<br />
If we assume a secure delete clears the data without understanding the system (or as Clive also says about the<br />
encryption) our logic is faulty.</p>
<p>Without understanding we can&#8217;t preserve or destroy. How much of the system do we understand? How much control do any one of us really have on our systems?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125821">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125821">
						December 2, 2009 1:01 PM					</a>

				</p>

				<p>Time machine and Windows volume shadow copy are tools to help the average user (with minimal effort) back up their data.</p>
<p>Did the world *really need an article that is about as informative as &#8220;if you make a copy of a file, and delete the original, the copy you made is still there&#8221;&#8230;?</p>
<p>If destroying a file to a near unrecoverable state is that important for someone, that someone can figure it out on their own.  These tools are for the masses, not the paranoid, child prons, crypto-nerds, et al.</p>
<p>Let&#8217;s keep this in perspective people, it&#8217;s far more advantageous (and surely more desirable) for the everyday user to have simple backup / restore capabilities than it is to have a rock-solid way of destroying a file.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125822">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125822">
						December 2, 2009 1:10 PM					</a>

				</p>

				<p>@Olive</p>
<p>&#8220;And this stuff about having to overwrite a file on disk several times to make sure is nonsense.&#8221;</p>
<p>It is not nonsense at all my friend.  Look before you leap&#8230;</p>
<p>When a file is created, a descriptor is built describing locations on the physical disk where the pieces of the file have been stored, as well a how to put them together.</p>
<p>When a file is deleted, the pieces on the physical disk drive are NOT REMOVED.  They stay there until a new file overwrites them (which is done purely by chance and availability at the time the new file is created).  The file, when deleted from the file system, is simply &#8216;unlinked&#8217;.  The description of the file and it&#8217;s pieces are removed from the filesystem, but the data IN those pieces remain.</p>
<p>Hence, overwriting the file with nonsense PRIOR to unlinking (or &#8216;deleting&#8217; it) is the only possible way for someone to actually remove the file from the physical drive (without torching the drive).  However, even doing this a number of times can still leave behind magnetic traces of prior data that was stored on the platter in that particular location.</p>
<p>Filesystems 101.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125823">

			<div class="comment by-olive ">

				<p class="commentcredit">

					<span class="commenter">Olive</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125823">
						December 2, 2009 1:43 PM					</a>

				</p>

				<p>@Shane &#8211; that&#8217;s not what I&#8217;m talking about. This isn&#8217;t about deleting a file and the OS doesn&#8217;t really delete it but just marks the space as available and until then the data is still out there on all those sectors blah blah blah re filesystems 101.</p>
<p>Now, why don&#8217;t you explain what is meant by &#8220;magnetic traces&#8221;. That&#8217;s the BS I&#8217;m talking about. And don&#8217;t bother with links to sales literature some call &#8220;white papers&#8221;. I want you to explain what is meant by &#8220;magnetic traces&#8221;. The only way you have to even know what is on the disk is by the drive electronics. Go ahead and explain how you know the data the drive reports is present on a particular sector isn&#8217;t really that at all, but REALLY some secret hidden value that you know it is. And that you know this without prior knowledge of the previous content. I want someone to explain without using twenty year old references why you need to wipe a drive over and over and over again because there might be &#8220;magnetic traces&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125824">

			<div class="comment by-jimfive ">

				<p class="commentcredit">

					<span class="commenter">JimFive</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125824">
						December 2, 2009 1:52 PM					</a>

				</p>

				<p>I think this is what Olive is disputing.</p>
<blockquote><p>
  However, even doing this a number of<br />
  times can still leave behind magnetic<br />
  traces of prior data that was stored on<br />
  the platter in that particular location.
</p></blockquote>
<h2>and I think Olive is right.  It used to be that there was enough space between the tracks on a hard drive that you could read the traces of previous data on the spaces in between the tracks.  However, as you may have noticed, HD capacity has increased and the drives are the same size (or even smaller).  This was achieved by increasing the density of the data on the drive.  At this point there probably isn&#8217;t enough of a gap to read traces from.</h2>
<p>JimFive</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125825">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125825">
						December 2, 2009 2:16 PM					</a>

				</p>

				<p>@Olive</p>
<p>&#8220;I want someone to explain without using twenty year old references why you need to wipe a drive over and over and over again because there might be &#8216;magnetic traces&#8217;.&#8221;</p>
<p>Sigh&#8230;</p>
<p>You don&#8217;t *really need to make multiple passes on modern drives (as far back as the last decade perhaps?), but the *thought (paranoia?) was/is that the head positioning for many hard drives could not be *completely relied upon to actually *write the data in the *exact physical location as the previous data was written, hence leaving behind magnetic traces of the previous data on either edge of the new data on the track (I liken it to cross-talk on a multi-track reel-to-reel or cassette recorder).  The traces (theoretically) remain because the head positioning wasn&#8217;t exact, and hence there could be no guarantee that the head wiped all the previous data.</p>
<p>Of course, nowdays the space between the tracks on the platters is so infinitesimally small (due to vendors packing in the storage space) that there is really no way to recover usable data (ie &#8211; more than a bit here or there) from them once they&#8217;ve been overwritten once, and surely the science behind head positioning has advance far enough to stuff this under the tin-foil hat hood.</p>
<p>So yes perhaps overwriting something many times is (manytimes &#8211; 1) too many, but so be it.  If the DoD has a best practice guide on destroying data on magnetic media, I have no problem sticking to it, overkill or not.</p>
<p>As for &#8220;Go ahead and explain how you know the data the drive reports is present on a particular sector isn&#8217;t really that at all, but REALLY some secret hidden value that you know it is. And that you know this without prior knowledge of the previous content.&#8221;</p>
<p>I think you are missing a foundational understanding of magnetic media here.  There is no &#8216;hidden data&#8217;, and the magnetic traces (when / if present) are just that &#8211; traces.  There are error-correction algorithms everywhere in your hard and software to differentiate the actual data from the noise.</p>
<p>Hrm&#8230; what was that toy with the little magnetic wand that you used to make hair-styles with little iron filings on some dumb looking paper face? It&#8217;s not always as simple as it might seem to get ALL the filings to play nice, is it?</p>
<p>Try this: record some type of noise onto a cassette tape.  Now, record over it with silence.</p>
<p>$100 dollars says that if you turn that shit up loud enough, you&#8217;ll still here a faint trace of that noise coming through.  In a hard drive&#8217;s case, this noise is ignored.  In a laboratory, however, this noise can be used to piece together data that was there at one point in time.</p>
<p>But, like I said, I agree that those days are likely long over for magnetic hard drives.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125826">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125826">
						December 2, 2009 2:17 PM					</a>

				</p>

				<p>@JimFive</p>
<p>Exactly.  But why not err on the side of caution? What&#8217;s one more pass? ðŸ˜›</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125827">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125827">
						December 2, 2009 2:19 PM					</a>

				</p>

				<p>Also:</p>
<p>&#8220;hence there could be no guarantee that the head wiped all the previous data.&#8221;</p>
<p>should read:</p>
<p>&#8220;wiped all *traces of the previous data&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125828">

			<div class="comment by-bruce-clement ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.clement.co.nz/' rel='external nofollow ugc' class='url'>Bruce Clement</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125828">
						December 2, 2009 2:20 PM					</a>

				</p>

				<p>@JimFive &#8220;At this point there probably isn&#8217;t enough of a gap to read traces from.&#8221;</p>
<p>Is this because we are approaching some theoretical physical limit to magnetic data storage, or because our technology isn&#8217;t yet good enough to do better.</p>
<p>The advance of technology over the last 50 years shows how todays limits will often be laughable tomorrow.</p>
<p>If there is any trace left behind, it&#8217;s safest to assume that someone will work out how to read it and others will build on it to the point where it becomes reliable and affordable to governments and business.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125829">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125829">
						December 2, 2009 2:27 PM					</a>

				</p>

				<p>@Bruce Clement: &#8220;The advance of technology over the last 50 years shows how todays limits will often be laughable tomorrow.&#8221;</p>
<hr />
<p>Ditto.</p>
<p>Goes back to something I said on another thread, about how just because something is too volumous to query or track today doesn&#8217;t mean it will always be so.  (the discussion was over massive data collection and yottabyte processing limitations)</p>
<p>Put another way, collect data, or put the mechanism in place, to collect data at a time when you can say with  honesty &#8220;we can&#8217;t do much with it&#8221;.  Then when you can do a lot with it, you already have it and people are used to it.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125830">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125830">
						December 2, 2009 2:29 PM					</a>

				</p>

				<p>@Bruce Clement</p>
<p>&#8220;Is this because we are approaching some theoretical physical limit to magnetic data storage, or because our technology isn&#8217;t yet good enough to do better.&#8221;</p>
<p>Well think about the physical size of a modern hard drive.  It hasn&#8217;t changed much in the last 10 years (save for laptop drives), but logical space sure has grown.  This is simply due to the increasing ability to work in smaller and smaller units as our technology advances.  Hence, the same *size platter built yesterday is incredibly more dense in terms of the number of tracks it contains and the size of the heads that read them, whereas, say, 15 years ago the ability to make tracks that small and heads to read them just wasn&#8217;t there yet.</p>
<p>As for approaching a limit, doubtfully.  You just need more surface area on the platters, and voila! more space!  Although, I highly doubt we&#8217;ll be seeing any laserdisc-sized hard drives in the consumer markets any time soon ðŸ˜›</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125831">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125831">
						December 2, 2009 2:32 PM					</a>

				</p>

				<p>For the record though, I don&#8217;t design or manufacture magnetic hard drives, so that was just a best-guess.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125832">

			<div class="comment by-roger ">

				<p class="commentcredit">

					<span class="commenter">Roger</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125832">
						December 2, 2009 2:49 PM					</a>

				</p>

				<p>Just to clarify the confusion here:<br />
1. If &#8220;deleted&#8221; data is not overwritten, it can be fairly easily recovered in software without modifying the equipment. Numerous utilities exist for this purpose. The success rate depends on how much use the disk has had since the deletion, but on huge modern disks, total failure is rare.</p>
<ol>
<li>
<p>However, a single overwrite defeats software-only approaches. Once an overwrite occurs, you need to pull the drive apart and start fiddling around with the electronics. This limits the attack to fairly capable and determined opponents.</p>
</li>
<li>
<p>It has been demonstrated in the past that overwritten data could be recovered by replacing the processing electronics for the drive head &#8212; essentially a 1-bit A/DC &#8212; with a 12-bit A/DC, and doing some careful digital signal processing on the results. Effectively, a 1 bit overwritten by a 0 bit leaves a slightly different magnetisation level to a 0 bit overwritten by a 0 bit, and with a higher resolution reading this can easily be detected. This is the motivation for multiple overwrites.</p>
</li>
<li>
<p>The claim that overwritten data might be detectable through track misalignment has been often made and seems plausible, but so far as I know it has never been demonstrated publicly. It would seem to require some other method for examining magnetisation domains rather than the existing read head, and thus is even harder than the A/DC attack. On the other hand, it would also be harder to defend against: if the wobble in the hub is systematic, once a sliver of track has slipped out of the band covered by the read head it can probably never be overwritten.</p>
</li>
<li>
<p>It can be argued that changing storage technologies can make these attacks harder or impossible. It is an easy claim to make and difficult to disprove without going to the cost and expense of repeating the experiment with every new drive technology. The cheapest counter-argument is to note that the subject matter experts &#8212; the national intelligence agencies &#8212; have not changed their view that once a drive has contained classified data, the only way to downgrade the classification of that drive is total physical destruction.</p>
</li>
<li>
<p>There is, by the way, a closely related and quite dangerous attack related to drive controllers that automatically map out bad sectors. If your data is stored in a sector that gets mapped out, overwriting is nearly impossible. Yet software-only recovery may still be possible with data recovery software that, in effect, repeatedly re-reads the same bad sectors and takes the average result.</p>
</li>
</ol>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125833">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125833">
						December 2, 2009 3:00 PM					</a>

				</p>

				<p>I think the larger concern here is over the ignorance of the average user (and by ignorance, I don&#8217;t mean stupidity, I mean lack of expertise or sufficient knowledge.)</p>
<p>Of course, VSC has a valuable use.  As most users don&#8217;t encrypt their files, it is moot for them.</p>
<p>The overall point is that people may attempt to encrypt or securely delete information and have absolutely no clue that the file still exists or is in unencrypted form in the VSC.</p>
<p>Basically, for the average user who attempts security, the system does not do what they think it does, and has a back door to get their data that they don&#8217;t know exists.</p>
<p>Even well informed and expert users may not have figured this out very soon.</p>
<p>For most users, they may never know this.  It may never affect them.  But what they don&#8217;t know can hurt them.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125834">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125834">
						December 2, 2009 3:03 PM					</a>

				</p>

				<p>@HJohn:  &#8220;Of course, VSC has a valuable use. As most users don&#8217;t encrypt their files, it is moot for them. &#8221;</p>
<hr />
<p>Update&#8230; most don&#8217;t encrypt or securely delete.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125835">

			<div class="comment by-shane ">

				<p class="commentcredit">

					<span class="commenter">Shane</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125835">
						December 2, 2009 3:21 PM					</a>

				</p>

				<p>@Roger</p>
<p>Thanks for that.  I completely forgot to mention #3.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125836">

			<div class="comment by-dick-cheney ">

				<p class="commentcredit">

					<span class="commenter">Dick Cheney</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125836">
						December 2, 2009 3:55 PM					</a>

				</p>

				<p>I can remotely control your webcam and see what you are typing. And about the MP3 player and table radio that you got by surprise &#8230; they&#8217;re watching and listening to you right now.</p>
<p>Oh, and the thumb drive you &#8220;luckily&#8221; found &#8230; SURPRISE! The Thumb Drive and your wireless mouse are sending me reports hourly!!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125837">

			<div class="comment by-roy ">

				<p class="commentcredit">

					<span class="commenter">Roy</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125837">
						December 2, 2009 4:08 PM					</a>

				</p>

				<p>After overwriting with zeros, the probability of recovering a single bit is about .57, so the odds of recovering the entire byte are about 90 to 1 against.</p>
<p>On *nix machines, the &#8216;dd&#8217; command is useful for reading from /dev/zero to write a file(s) to fill all available space. Then delete the obliterator file.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125838">

			<div class="comment by-bruce-clement ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.clement.co.nz/' rel='external nofollow ugc' class='url'>Bruce Clement</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125838">
						December 2, 2009 5:00 PM					</a>

				</p>

				<p>@Shane &#8220;As for approaching a limit, doubtfully. You just need more surface area on the platters, and voila! more space&#8221;</p>
<p>I was thinking more about data density than making physically larger drives again.</p>
<p>I started my career with chest high fixed disks and 5MB (2.5 MB / side) removable disk cartridges that were a cubit across. No thanks.</p>
<p>Nostalga be damned, I want storage that goes in my pocket.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125839">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125839">
						December 2, 2009 5:03 PM					</a>

				</p>

				<p>@ Roger,</p>
<p>&#8220;The claim that overwritten data might be detectable through track misalignment has been often made and seems plausible, but so far as I know it has never been demonstrated publicly.&#8221;</p>
<p>It has but your beard would need to be a bit &#8220;badger&#8221; to remember it.</p>
<p>Back in times past &#8220;HD platters&#8221; came in packs about 16&#8243; across, the operator used to press an &#8220;unload&#8221; button on a machine the size of a laudromat machine lift the lid, lift out the platter pack and drop in a new one close the lid etc etc. All for 20Mb of storage&#8230;</p>
<p>Like the floppy disks that followed ten years later the design of the system had a &#8220;servo mechanisum&#8221; that kept the head over the right place it was partly based on the drive mechanics and partly on the drive signal quality.</p>
<p>The result was that a platter pack from one drive would work in another drive but&#8230; the mechanical servo tracking could be half a track off and still work.</p>
<p>You used to be able to get hold of a funny looking device that looked just like those magnifers that you put ontop of a map with your eye to the lense. In the bottom was a thin glass cell (not unlike a calculatoe LCD display) that contained very small magneticaly sensitive particals that changed colour depending on the strength and direction of the magnetic field.</p>
<p>You could not only clearly see the tracks and half tracks but the actual data bits as well.</p>
<p>A very big chunk of the reason you cannot make sense of residual magnetic data easily these days is first of all the orientation of recording has changed and secondly it is heavily encoded with a large amount of inter symbol dependancy. That is an individual bit is effectivly encoded across five or more bit spaces on the actual platter giving multiple intensity levels not just a 1 or 0.</p>
<p>That being said if you put a hard drive plater into certain types of scanning electron microscopes then the magnetic domains and their intensity are very easy to see. The price of a second hand &#8220;Oxford Magnetics&#8221; SEM is quite low these days the question is would you be able to modify it (I suspect not).</p>
<p>Squeasing data onto drives has long past the MFM and RLL encoding of the late 1980&#8217;s. Vertical recording and complex trellise encoding are just some of the ways you increase the number of bits per square CM.</p>
<p>However a word of caution should be sounded. Many drives these days have their own on board CPU the program for which is stored in flash, it can be easily overwriten (if you know the magic codes). Thus it may be possible to upload a custom programe to get at the residual data etc.</p>
<p>Which brings me onto fault tolerance,</p>
<p>I&#8217;m glad you brought up #6 it needs to be said and often, some drives alow upto 30% dead space these days not just one or two cylinders hear or there, the cost of an extra head and platter are minimal by comparison to the advantages on high availability drives.</p>
<p>Again reflashing the F-ROM on drives makes all of this &#8220;hidden data&#8221; available to those that can do it.</p>
<p>It is not a question of can the data be got at but who has the keys to the kingdom via the flash rom etc etc.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125840">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125840">
						December 2, 2009 5:34 PM					</a>

				</p>

				<p>Overwriting a disk is totally unnecessary. A long time ago I had to worry about forensics and independently developed an idea that existed in academic literature: loosing encryption key = loosing all the data. So long as disk encryption is done right, one destroys 256-1024bits (key+administrative stuff) instead of, say, a thousand billion bits. The time taken was reduced from nearly a day to seconds. The scheme combined free/cheap disk encryption and software that generated master key from a password and a long random string, stored in a coprocessor&#8217;s memory, a usb key or on rice paper. Depending on whats used, all improve erasure time. Coprocessor improves assurance, while USB or paper reduces cost.</p>
<p>I&#8217;m still using this trick today to protect confidential data, but it&#8217;s been improved. A cheap embedded board w/ TRNG is wired via serial port (most trustworthy and portable type of driver). Embedded board generates keys and stores them in a secure RAM area. Upon a button press or authenticated command, keys are zeroized then overwritten w/ random data. Fault-tolerance protocols prevent single points of failure, but increase risks. I won&#8217;t describe them because I may have underestimated their risk: risk reduction by obscurity is better than obvious attack angles. I only vouch for security &amp; reliability of two node cluster of coprocessors in same room. Additionally, if one deletes, other is told to delete as well. Total cost to use a crypto cluster to protect &amp; zeroize terabytes of data: $500. Way cheaper than buying and destroying hard drives&#8230; more trustworthy than anticipating the next advance in forensics.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125841">

			<div class="comment by-kc ">

				<p class="commentcredit">

					<span class="commenter">KC</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125841">
						December 2, 2009 6:49 PM					</a>

				</p>

				<p>Firstly, as the article mentions, you can exclude certain folders and files (they provided a link to <a href="http://msdn.microsoft.com/en-us/library/aa819132%28VS.85%29.aspx" rel="nofollow ugc">http://msdn.microsoft.com/en-us/library/aa819132%28VS.85%29.aspx</a> for this).  I do agree, from a security standpoint, that VSC should be disabled by default for non-essential files, but I think for the ordinary computer consumer, being able to resurrect files thought lost trumps security concerns.  (Most readers of this blog are not ordinary computer consumers.)  So while I&#8217;m not exactly pleased VSC takes such liberties in &#8220;protecting&#8221; my files, Microsoft has no real reason to change its course.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125842">

			<div class="comment by-jay ">

				<p class="commentcredit">

					<span class="commenter">Jay</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125842">
						December 2, 2009 7:04 PM					</a>

				</p>

				<p>@Nick P: assuming your crypto is done properly! If it&#8217;s not secure against a key recovery attack (XOR, or generally reusing the output of a stream cipher, are trivially breakable. Not properly sector-keying opens weaknesses too) then you can&#8217;t really delete the key the way you think you can&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125843">

			<div class="comment by-brian-m ">

				<p class="commentcredit">

					<span class="commenter">Brian M</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125843">
						December 2, 2009 7:33 PM					</a>

				</p>

				<p>I would be most worried about &#8220;word&#8221; documents on windows, when it creates backups regularly so that non-tech savvy users, who refuse to save but once a day don&#8217;t lose their data when they reboot (or have windows/word crash). If you save into an encrypted volume, is word smart enough to either place the file on the encrypted location, or just not make a backup?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125844">

			<div class="comment by-neill ">

				<p class="commentcredit">

					<span class="commenter">neill</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125844">
						December 2, 2009 8:55 PM					</a>

				</p>

				<p>really sensitive data should be stored on a removable medium eg usb stick or RW DVD etc and locked in a safe offsite so that the key and the data are at two different locations<br />
if you wish to destroy the data anyways you either put the usb stick in an oven at 400F for an hour or the DVD in the microwave for a few seconds (in both cases avoid the fumes!) &#8211; no recovery possible<br />
as for the swap &#8211; it&#8217;s a crime against computer speed anyways to have it, buy more RAM and disable swapping entirely</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125845">

			<div class="comment by-wo-pah ">

				<p class="commentcredit">

					<span class="commenter">wo-pah</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125845">
						December 2, 2009 9:57 PM					</a>

				</p>

				<p>@neill:</p>
<p>Or you can just insert the USB stick under your foot and stomp. Personally, I&#8217;m surprised there&#8217;s no market in guaranteed easily destroyable thumb drives (fragile chips, voltage spike mechanism included, etc.) I suppose it&#8217;s tough to sell such things based on proven unreliability, though.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125846">

			<div class="comment by-network-scanner ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://networkdocumentscanner.net/' rel='external nofollow ugc' class='url'>network scanner</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125846">
						December 2, 2009 9:59 PM					</a>

				</p>

				<p>Yeah, this got me sorta worried in some way. I suppose a solution is in order in the next post?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125847">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125847">
						December 2, 2009 10:29 PM					</a>

				</p>

				<p>@ Jay</p>
<p>Yeah, that the encryption works is an obvious requirement. I also stated that in my post. I don&#8217;t know anyone who&#8217;s beaten TrueCrypt or PGP at the cipher level, so they seem to be fine for this. The important part is isolating the key (or components), keeping it in RAM, and deterministic timing of the zeroize function. I&#8217;ve used an RTOS to ensure zeroize gets the most priority. The client devices need to keep the key in RAM and have swap/paging turned off as well. Or be in encrypted hidden OS partitions to make it more difficult for attackers. Security has to be baked into this scheme on many levels: physical; OS; applications; network; storage. Deniable computing is the hardest kind.</p>
<p>@ network scanner</p>
<p>No, Bruce is a pundit now: he usually talks about the problem, but doesn&#8217;t solve it. That&#8217;s what the comment section is for. ðŸ˜‰ If you want a midterm solution, see my post from earlier today. It&#8217;s field proven. Unless you can get a NSA IME, then my scheme is as good as it gets without total physical destruction of media.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125848">

			<div class="comment by-neill ">

				<p class="commentcredit">

					<span class="commenter">neill</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125848">
						December 3, 2009 12:44 AM					</a>

				</p>

				<p>@wo-pah<br />
stomping won&#8217;t do it, you might break the PCB inside but not the silicone chip &#8211; after all don&#8217;t forget it&#8217;s a piece of metal &#8230; might be even possible to read parts of shattered chips (eg electron microscope by measuring the beam deviation due to the electrostatic charge of the cells)<br />
 heat destroys the layers by &#8216;merging&#8217; them, also if the insulator starts leaking due to heat all flash cells will be empty after a while &#8230;<br />
usually NO manufacturer advertises the easy destructability of their products</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125849">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125849">
						December 3, 2009 12:52 AM					</a>

				</p>

				<p>@ Nick P,</p>
<p>Howdy I hope life is well.</p>
<p>A couple of points to add that I bloged about oh way back that other implementers should think about.</p>
<p>Firstly if you are going for top end security don&#8217;t just staticaly store keys in memory, all physical devices including dynamic memory suffer from &#8220;burn in&#8221; so make the keys dynamic.</p>
<p>A simple (but not totaly secure) method is to have the key stored in two or more parts that are brought together to make the key.</p>
<p>Just for ease of explaining take the key and halve it&#8217;s value and store it in two locations A,B. To get the value back you add A and B. Every few milliseconds a non interuptable interupt process gets a random value adds to A and subs from B. Thus the two memory locations change atomicaly and very very often to prevent memory burn in.</p>
<p>Oh and the system needs to be realy fragile in some circumstances so an operators &#8220;dead man&#8217;s handle&#8221; is a must.</p>
<p>Keys can be quite safely stored in bits in multiple juresdictions. So for an international company the master keys can be held under a voting (n of m) system with pre-arranged duress codes.</p>
<p>Thus it can be demonstrated that you don&#8217;t and cannot possibly know the key and that you cannot get at it.</p>
<p>Oh and the key holding box has it&#8217;s own public key system where it only holds the private key and the key shares are sent to it with time dependant codes to prevent replay attacks etc etc.</p>
<p>As I said not 100% but it adds a couple of 9&#8217;s to the end.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125851">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125851">
						December 3, 2009 1:03 AM					</a>

				</p>

				<p>@ Brian M,</p>
<p>&#8220;I would be most worried about &#8220;word&#8221; documents on windows&#8221;</p>
<p>Not just because of the fact that MS writes them all over the place and frequently.</p>
<p>They have a lot of &#8220;known plaintext&#8221; in the document headers. Which makes cryptanalysis so much easier (and yes the NSA question has been asked and it&#8217;s an open question).</p>
<p>Also from a forensic point of view they have a habit of not removing &#8220;undelet&#8221; information from the file and that makes redaction and all sorts of other issues problematical as has been seen even the US Gov&#8217;s ears have gone red on occasions.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125852">

			<div class="comment by-petter ">

				<p class="commentcredit">

					<span class="commenter">Petter</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125852">
						December 3, 2009 2:26 AM					</a>

				</p>

				<p>@Shane: You should look into &#8220;Overwriting Hard Drive Data: The Great Wiping Controversy&#8221; by Wright, Kleiman, and Sundhar.</p>
<p>It is not possible to recover overwritten data.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125853">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125853">
						December 3, 2009 4:15 AM					</a>

				</p>

				<p>@ network scanner,</p>
<p>Although Nick P says Bruce is a &#8220;pundit&#8221; what he has not said is why, Bruce has to look that way.</p>
<p>There is the &#8220;Billy the Kid&#8221; syndrom, where young bucks feel they have to &#8220;out draw&#8221; the master gun slinger.</p>
<p>Now the problem is as I&#8217;m sure both Bruce and Nick P will acknowledge is &#8220;we don&#8217;t know enough&#8221; for certainty.</p>
<p>For instance there was the recent thing with the number of rounds of AES and the key expansion.</p>
<p>In practice it was just a matter of fact that did not change the reality of the use of AES (that is it is not a practical attack).</p>
<p>Various people argued one way or the other about what Bruce had said at one point or another effectivly to &#8220;score points&#8221;.</p>
<p>As I have said just a few days ago I know enough to know I don&#8217;t know enough and I will put my hand up to that every time.</p>
<p>I&#8217;m reasonably sure that most experts in any given problem domain will say the same.</p>
<p>People with &#8220;certainty&#8221; fall into two camps.</p>
<p>The first are those who have thought up an &#8220;idea&#8221; and then go through a degree of formal reasoning and experementation to give the belief in their idea a secure footing.</p>
<p>The second see corelations etc and belive they are right and don&#8217;t go through the formal reasoning process.</p>
<p>The first are usually only to aware that their reasoning may have faults or only describe a subset of conditions and thus offer them up for the review of all others and will then test the reasoning. If it passes that process then it becomes an established idea and may in time become a law or axiom.</p>
<p>The second tend to take the &#8220;artists&#8221; aproach, in that they take personal afront that you would question their idea and thus their &#8220;beutifull mind&#8221;, they hurl out accusations that the questioner does not understand the subject and often make derogatory remarks. When shown they are wrong they tend to just disappear back into the wood work waiting to get revenge.</p>
<p>Thus the first group tend to follow the Newtonian method to science and as a consiquence move the body of human knowledge along.</p>
<p>The second group tend to be stuck in the times of the acient Greeks.</p>
<p>There is of recent times a third group of people these are &#8220;engineers&#8221; they have a need to find solutions to problems (scientists tend to be the opposit in that they have a need to find problems).</p>
<p>They use experiance and well founded knowledge to make pragmatic decisions as to how to solve a problem. Often the are acutely aware their solution is far from perfect but they try to balance or mitigate the problems they know of.</p>
<p>When it comes to Information security you are nolonger dealing with  &#8220;tangable goods&#8221; but &#8220;Intangable information&#8221;.</p>
<p>The real physical world of tangable goods have real tangable limits based on physical laws and thus tends to follow the bell curve and can therefore be modeled and investigated by known mathmatical models.</p>
<p>The intangable information world has no tangable limits to what can be done, this makes testing difficult at best, the bell curve might or might not apply and thus most of our mathmatical tools developed with physical assumptions (axioms if you will) may or may not produce valid results.</p>
<p>For instance you have to diferentiate information from information that is stored or in transit. When in store or in transit information uses physical objects and is subject to the laws of matter motion and relativity.</p>
<p>When not in store or transit information is not constrained by the laws of matter and motion just those of &#8220;probability&#8221; where everything is equaly probable.</p>
<p>Shannon came up with the idea of what we call &#8220;entropy&#8221; from the laws of thermodynamics. It is a concept that is sometimes difficult to get a grasp on for various reasons. In reality information is unbounded it is only when it comes into the physical world where it becomes quantified (ie bits) and constraind (mass/energy/forces) and thus you can look at &#8220;entropy&#8221; as a measure of &#8220;possability&#8221; that is unbounded.</p>
<p>We have few models that deal with unbounded non tangable items. And those we think we have need to be carefully tested for assumptions based on the physical world.</p>
<p>As a connsiquence we are currently &#8220;making it up as we go along&#8221;, which means we have a high degree of chance (not probability) of finding that when tested our models contain hidden assumptions that effect the vaidity of the result.</p>
<p>Is it therefore any wonder that the person who did most for Quantum Computing in the early days was an engineer not a scientist?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125854">

			<div class="comment by-roger ">

				<p class="commentcredit">

					<span class="commenter">Roger</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125854">
						December 3, 2009 4:23 AM					</a>

				</p>

				<p>@Clive Robinson:</p>
<blockquote><p>
  It has but your beard would need to be a bit &#8220;badger&#8221; to remember it.
</p></blockquote>
<p>Ah, my beard has a little badger in it &#8230; perhaps not enough, as I recall seeing the old &#8220;washing machines&#8221; when I was a young pup, but didn&#8217;t learn many technical details before we moved on to other things.</p>
<p>However, when I said:<br />
&#8220;The claim that overwritten data might be detectable through track misalignment has been often made and seems plausible, but so far as I know it has never been demonstrated publicly.&#8221;<br />
I should have been a little clearer. I believe it has been demonstrated publicly, and in many EE classes, many many times for floppy disks and tapes. I was unaware of it being done for old Winchester drives but I&#8217;m not surprised. But we occasionally hear the claim made for modern disks with advanced servo positioning systems. I don&#8217;t know of any demonstration for such a drive and the possibility may well be urban legend mutated from demos with floppy drives.</p>
<blockquote><p>
  A very big chunk of the reason you cannot make sense of residual magnetic data easily these days is first of all the orientation of recording has changed and secondly it is heavily encoded with a large amount of inter symbol dependancy. That is an individual bit is effectivly encoded across five or more bit spaces on the actual platter giving multiple intensity levels not just a 1 or 0.
</p></blockquote>
<p>Which, of course, makes data recovery by DSP <em>easier</em>, which, of course, is the intended purpose!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125855">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125855">
						December 3, 2009 4:24 AM					</a>

				</p>

				<p>@ Petter,</p>
<p>&#8220;The Great Wiping Controversy&#8221; by Wright, Kleiman, and Sundhar.&#8221;</p>
<p>The conclusions they come to have been called into question because of some underlying assumptions.</p>
<p>Thus I would be cautious about making the statment,</p>
<p>&#8220;It is not possible to recover overwritten data.&#8221;</p>
<p>As a famous Jewish Comedian once observed &#8220;The great Jewish problem is that one of them comes along and rocks the Gentile world by saying &#8216;that a&#8217;nt nescassarely so'&#8221;&#8230;</p>
<p>Information Science has the same &#8220;great problem&#8221;, so you could say it was a universal problem 8)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125856">

			<div class="comment by-roger ">

				<p class="commentcredit">

					<span class="commenter">Roger</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125856">
						December 3, 2009 4:54 AM					</a>

				</p>

				<p>@Roy:</p>
<blockquote><p>
  After overwriting with zeros, the probability of recovering a single bit is about .57,
</p></blockquote>
<p>I&#8217;m pretty sceptical of these sorts of claims. Firstly, as I mentioned above the recording technologies are changing all the time, so any given result remains valid for very little time. Secondly, all the ones I have seen do not really seem to be trying all that hard. In fact, they seem to be trying to prove it impossible and then only begrudgingly admitting that they did, in fact, get some data.</p>
<p>However, let&#8217;s take that .57 figure as gospel for the sake of argument.</p>
<blockquote><p>
  so the odds of recovering the entire byte are about 90 to 1 against.
</p></blockquote>
<p>Umm, no. That is true only if bytes are completely random. Specifically, it is true if every bit has an equal a priori probability of either value, and each bit&#8217;s value is independent of all the others. Pretty well the only type of data for which that is true is encrypted data. For many types of real world data, we can do much, much better than that even in the face of a recovery rate that is so extremely close to random chance.</p>
<p>To take one simple illustrative example, suppose that we wish to prove that a certain known file either was or was not present on the disk before the overwrite. We can do this quite easily by sliding the file around possible starting positions and calculating an index of coincidence. (In this context, basically xor-ing them together and taking the Hamming weight, both of which are very fast operations.) When the IoC greatly exceeds the bounds of chance, you have found your text, even through that heavy error mask. And you don&#8217;t even need a particularly long text before the chance of a false positive is utterly negligible; even if we have no file system left at all and so have billions of starting positions to try, a couple of hundred known bytes is enough. That means that for many file types you can identify the location of all the file headers before you even start worrying about the contents.</p>
<p>At any rate, with a 57% recovery rate you most certainly can&#8217;t assume the data is effectively gone, rather you will need to make a case-by case assessment of your risk model. For example if the secret police suspected you of having the subversive manifesto on your hard drive and just want to be sure, and you did a single overwrite, then with 57% recovery rate you&#8217;re a dead man.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125857">

			<div class="comment by-kevinm ">

				<p class="commentcredit">

					<span class="commenter">kevinm</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125857">
						December 3, 2009 7:22 AM					</a>

				</p>

				<p>Multiple overwriting to erase a disk is no longer required in the way it was in the days of MFM/RLL. However modern drives have complex firmware and it is possible that sectors can be mapped (logically moved) when errors are detected. There may be some data remaining on such bad sectors/tracks that the firmware will not allow you to access. For the paranoid the answer is multiple steps: (1) overwrite and (2) thermite</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125858">

			<div class="comment by-tweezer ">

				<p class="commentcredit">

					<span class="commenter">Tweezer</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125858">
						December 3, 2009 8:40 AM					</a>

				</p>

				<p>This is true for many corporate networks.  Even if they don&#8217;t run VSS, many corporations utilize SAN technology.  Many SANs have snapshot features much like VSS to facilitate backups.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125859">

			<div class="comment by-petter ">

				<p class="commentcredit">

					<span class="commenter">Petter</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125859">
						December 3, 2009 8:46 AM					</a>

				</p>

				<p>@Clive Robinson: OK, I change my statement to &#8220;No one has successfully recovered data from an overwritten HD, despite many serious attempts.&#8221;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125860">

			<div class="comment by-david ">

				<p class="commentcredit">

					<span class="commenter">David</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125860">
						December 3, 2009 9:46 AM					</a>

				</p>

				<p>It seems to me that the disk-wiping controversy is meaningless without a definition of the threat.</p>
<p>If I move a file to an unexpected part of the file system, change the name, and mark it invisible, I&#8217;ve got very good security against maybe 95% of computer users.  I don&#8217;t even have to delete it.</p>
<p>If I want security against a modern investigator, I can overwrite everything with zero bits once, assuming I can get to everything.  Forensic experts aren&#8217;t going to be stopped if the bits are on the disk in recognizable form.  It&#8217;s this level that&#8217;s potentially compromised by automatic backups.</p>
<p>If you want high security against the NSA now or forensic investigators in 10 years, I&#8217;d suggest multiple overwrites.  It&#8217;s not like they&#8217;re really expensive.</p>
<p>If I think a 1% chance that the NSA might be able to read the file in 2025 is too much of a danger, I shred the disk, mix it with other, innocuous disk shreds, and melt the whole thing down.</p>
<p>I can think of use cases for all of these (the last being rather extreme, admittedly; something like the record of how Major League Baseball engineered 9/11).  Pick your acceptable threat level, and pick your countermeasures.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125861">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125861">
						December 3, 2009 11:00 AM					</a>

				</p>

				<p>@ David,</p>
<p>&#8220;It seems to me that the disk-wiping controversy is meaningless without a definition of the threat.&#8221;</p>
<p>Hmm look at it this way, even one bit recovered has the chance (not probability) of halving the brut force key search space.</p>
<p>More realisticaly what is the chance your &#8220;closed source&#8221; encryption software has not been properly written and the buffer used to hold your pass phrase gets &#8220;paged out&#8221; to disk by the closed source OS?</p>
<p>Even though the first part of it may get overwritten it might not.</p>
<p>The tail end of a human memorable sentance is likley to be more revealing than the front due to the nature of the way simple English statments are put together (&#8220;&#8230;&#8230;&#8230;.atOntheMat&#8221;).</p>
<p>The failure of programers to clear buffers before they free memory is legandary even when there is a clear existing track record of security failures due to this, they still do it, it still gets through code reviews, and your pass phrase on which everything rests gets put in the slack space etc on the disk.</p>
<p>It is the physical security equivalent of leaving the alarm and vault keys under the &#8220;wellcome mat&#8221; just inside the bank front door and the staff cannot be bothered to lock the door on the way home each and every night&#8230;</p>
<p>A &#8220;definition of the threat&#8221; is difficult because it is &#8220;to human&#8221; in nature and humans are unpredictable at the best of times&#8230;</p>
<p>This is why when there is obvious partial encryption on the disk it is worth spending a day or two (thats all it takes with a terrabyte HD) to try all the likely plain text found on the disk as the pass phrase&#8230;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125862">

			<div class="comment by-rug ">

				<p class="commentcredit">

					<span class="commenter">rug</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125862">
						December 3, 2009 1:01 PM					</a>

				</p>

				<p>@kevinm For the paranoid the answer is multiple steps: (1) overwrite and (2) thermite.</p>
<p>Serious question: Why is 1 necessary, given 2?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125863">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125863">
						December 3, 2009 1:09 PM					</a>

				</p>

				<p>@rug: ((1) overwrite and (2) thermite):Serious question: Why is 1 necessary, given 2?</p>
<hr />
<p>If I&#8217;m understanding correctly, you overwrite your deleted files (or unencrypted files after encrypted) so they cannot be software recovered.  You thermite to destroy your disk beyond recognition when you have no need to continue to use the data stored on it.</p>
<p>In short, it seems if you wish to destroy the disk then overwrite is unnecessary with thermite, but if you wish to destroy the data but not the disk then you use overwrite.</p>
<p>I could misunderstand what someone else was talking about.</p>
<p>In my home state, a law was passed requiring certain entities to overwrite all disks 10 times, regardless of information stored, before selling, surplussing, exchanging, disposing, etc.  Tremendous overhead (overkill) and cost, but it was the law.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125864">

			<div class="comment by-jimfive ">

				<p class="commentcredit">

					<span class="commenter">JimFive</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125864">
						December 3, 2009 1:14 PM					</a>

				</p>

				<p>@ Bruce Clement<br />
Re: &#8220;Is this because we are approaching some theoretical physical limit to magnetic data storage, or because our technology isn&#8217;t yet good enough to do better.&#8221;</p>
<p>My guess (and it is only a guess) is that we are approaching a theoretical limit because the magnetic fields from adjacent tracks are close enough together that there really isn&#8217;t a gap anymore.  N.B. That doesn&#8217;t mean we are necessarily approaching the limit of HD density, however.</p>
<p>@Roger</p>
<h2>While I&#8217;ve heard of the idea that you can read the &#8220;interference&#8221; pattern from multiple writes on a HD I don&#8217;t think it has been demonstrated on a modern drive.</h2>
<p>JimFive</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125865">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125865">
						December 3, 2009 2:23 PM					</a>

				</p>

				<p>@ Clive on crypto scheme</p>
<p>Thanks for the tips. I mentioned burn-in in the original post, but I&#8217;m not using secret splitting. Let me run my current method by you and see what you think. I simply have two locations to store the key and a variable that says which one is in use. Every so often, a function activates that does the following: move the key to new location; update variable that says which to use; overwrite previous w/ pseudorandom string. I can also do this easier with a pointer but I hate pointers. ðŸ˜‰ The result of this trick is no burn in occurs while there is exactly 1 key in one of two contiguous locations to zeroize in event of an emergency. Your addition and subtraction trick was clever, but I think this is simpler &amp; easy to verify with a RTOS. Again, what u think about my &#8220;move it &amp; overwrite previous&#8221; trick?</p>
<p>@ On Pundits and Politics issue</p>
<p>While I&#8217;d love to top Bruce one day as a security engineer, I doubt that will happen &amp; it&#8217;s not a goal I&#8217;m working toward. Actually, I prefer less popularity: less in my inbox. ðŸ˜‰ The reason I called him a pundit has to do with the change in his publications. As a cryptographer or security engineer, his writings analyzed something, found the flaws and proposed useful solutions in the same or other papers. Today, he&#8217;s mainly focused on identifying problems and talking about them to great length. Solutions aren&#8217;t regularly mentioned and those that are end up too abstract to implement. In other words, he&#8217;s transitioned from a good engineer to an eye-catching writer, speaker and pundit. There are exceptions (i.e. Skein or TrueCrypt deniability), but this is the general rule.</p>
<p>Note that this is not a stab at Bruce Schneier. After all, I&#8217;m on the blog regularly, aren&#8217;t I? I was just indicating (in an admittedly unclear way) that anyone wanting countermeasures, secure solutions, etc. should look elsewhere. He does have a lot of critics, though, that claim he bashes decent countermeasures on the grounds that they are imperfect, like two factor authentication. Many people read that one and thought 2-factor was a bad idea. However, it was enormously successful at reducing risk: bad guys had to target small numbers of people in real-time attacks, rather than write once, automatically rob a million or something. So, I sometimes question the utility of some of his posts. Yes, Bruce, we know these things aren&#8217;t perfect. Yes, we know there are counter-countermeasures. Tell us something useful. Overall, though, I like his articles, esp. on the elements of psychology in privacy, security &amp; the security mindset. I owe plenty to Bruce for helping create a nice foundation for my own knowledge in the field. I just wish he was still as involved in crypto and security engineering as before. With such an influx of amateurs into the field, it could use his guidance now more than ever.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125866">

			<div class="comment by-plonk ">

				<p class="commentcredit">

					<span class="commenter">plonk</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125866">
						December 3, 2009 2:42 PM					</a>

				</p>

				<p>I for one don&#8217;t mind seeing &#8220;common sense&#8221; and &#8220;training issues&#8221; being discussed on this blog.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125867">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125867">
						December 3, 2009 4:58 PM					</a>

				</p>

				<p>@ rug,</p>
<p>&#8220;Serious question: Why is 1 necessary, given 2?&#8221;</p>
<p>Ahgh yup I see what the problem is.</p>
<p>kevinm did explain but it&#8217;s not obvioius unless you know what he is talking about.</p>
<p>Ok HDs are electromechanical items and they are to a degree unreliable (which is a given with most things mechanical)</p>
<p>Sometimes HD sectors don&#8217;t work properly or become worn out.</p>
<p>Now the $64K question do you through the drive out just because of one or two tiny defects or do you do something to hide the problem.</p>
<p>The answer is the latter, as you do not actualy write to the HD these days at the sector cylinder you think the micro controler on the drive does that. You neither know nor care in most cases where the microcontroler actually writes the data on the physical platter.</p>
<p>Thus if you have spare capacity on the drive a faulty segment address can be swapped with a good segment address.</p>
<p>The problem then is that the faulty segment sits on the HD platter from that point onwards without the PC being able top see it any longer so you cannot overwrite it.</p>
<p>Further as the HD micro controler does it transparently you are not even aware it has done it.</p>
<p>However the HD manufacture and presumably those in the know can change the code in the HD microcontroler flash ROM or access &#8220;hidden&#8221; low level software for testing etc. Thus can get access to these &#8220;orphand sectors&#8221; that the PC can no longer see.</p>
<p>Hence kevinm&#8217;s advice of,</p>
<p>For the paranoid the answer is multiple steps: (1) overwrite and (2) thermite.</p>
<p>Step one gets at the sectors the PC can get to.</p>
<p>Step two will hopefully get most (but not all) of the sectors available or not.</p>
<p>Unless used properly thermite is actually not as reliable as you might think. Yes it will destroy the disk casing but some HD platters are actualy made of glass&#8230;</p>
<p>That means that they will not actualy burn and in theory the inner platers could have sectors that could be read&#8230;</p>
<p>The way to use thermite is to have a &#8220;fire brick&#8221; box with a void atleast five times the volume of the drive but about the same physical dimension ratios.</p>
<p>Put the thermit igniter through a small hole in the bottom of the void, cover with a layer of thermite about the same thickness as the drive. Put the drive in with the electronics side up and then fill the rest of the void with thermite.</p>
<p>Place a lose fire brick over the top of the void and standing well back (or on the other side of a brick wall)  set off the igniter.</p>
<p>Being in the void enough of the heat from the thermite reaction should be transfered to all parts of the drive and cook it down properly.</p>
<p>If you feel you need to &#8220;ginger up&#8221; the thermite a bit you can add &#8220;flare material&#8221; to the standard mixture. In essense flare material is very fine PTFE powder, and you need to add about 5-10% by volume.</p>
<p>To be honest my prefered method is to sledge hammer it a few times first to break it open then cook it down with a cutting torch that way you can make sure there are no usable bits left.</p>
<p>A word of caution unless you want to die a realy unplesent death from lung disfunction do not under any circumstances breath in the fumes from cooking the drive. Especialy if you are using thermite + flare material.</p>
<p>It is a most unplesant death (which is maybe why they use it in &#8220;bunker buster&#8221; FAX bombs)</p>
<p>Oh and by the way there are other metal oxides that can be used in the thermite mix apart from iron oxide. They produce different temprature profiles and &#8220;burn rates&#8221;</p>
<p>Contary to what you may have been told thermite is not an explosive. It does not produce an increase in volume. Thje drive however does contain parts that will produce an increase in volume by &#8220;gassing off&#8221; unless you fancy a &#8220;self brand&#8221; as well as lung disfunction stand well back&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125869">

			<div class="comment by-packagedblue ">

				<p class="commentcredit">

					<span class="commenter">PackagedBlue</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125869">
						December 3, 2009 7:48 PM					</a>

				</p>

				<p>For those who have never had the fun of destroying drives, here is all you need.</p>
<p>Hammer, flat head screwdriver, charcoal grill, fan helps.  Open the drive by breaking the screw heads off.  A large crowbar really helps to pry the cover off. Take cover off, put in fire.  A fan can speed up the process, but not needed.  Fumes are bad, as clive mentions.  Blue fire, from the board!  A normal propane torch will not melt the platters.</p>
<p>I used to go to the trouble of removing the platter from the spindle, but it is a pain, and not needed.</p>
<p>Perhaps one does not even need to remove the cover, but I have not tried it, as I can get the cover off in under a minute with the crowbar and screwdrive method.</p>
<p>Best of burning to all of you.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125870">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125870">
						December 3, 2009 10:54 PM					</a>

				</p>

				<p>@ Clive</p>
<p>Nice description of thermiting HD&#8217;s. I&#8217;ve, no occasion, used this technique when no disk encryption was used. Scrape and magnetize a bit, then thermite. The firebrick and PTFE were new to me. I mean, is anything really recoverable after thermite hits the platter or chips? Do we need to increase damage? (maybe i&#8217;m less paranoid than some suggest&#8230;) I also fried the chips, just in case some stored anything. I figured there was some deadly vapors, so we wore cheap masks from Lowes and stood a bit away. ðŸ˜‰</p>
<p>I think the solution to these erasable issues is red-black separation applied to memory and raw storage. What I mean is that everything in RAM or on the disk should be ciphertext. Onboard controllers/ASIC&#8217;s sitting in front of each medium should transparently encrypt/decrypt. Zeroizing all the data in RAM and on storage means killing some keys. The Air Force is investigating a strategy to use same RAM encryption to isolate Xen VM&#8217;s from one another and NSA&#8217;s IME does it for harddrives, but with other shit they wanted that might have extra risks.</p>
<p>I say we make an embedded computer that acts as an IME and has a zeroize button. There should be client software, a driver or NFS (GOD NO!!), to act as a file system for user. Information will be transparently sent to coprocessor, which encrypts it before storing on disk. Since disk is connected to it and a MILS architecture is used, one can ensure red-black separation with high confidence. Also, we will either clear client&#8217;s RAM after shutdown (i.e. Incognito Linux) or on a zeroize command or put an FPGA w/ crypto between processor and RAM (like Air Force). Throw the coprocessor and drive in a safe w/ tamper resistance and zeroize button on outside and you probably have enough time to erase all buffers and RAM as well.</p>
<p>Another thought was an additional killswitch, tied to operator&#8217;s body. If someone breaks in, they just yank their arm real quick, a signal goes from 1 to 0, and keys are erased. Would be hard to beat if the wire and resistance is carefully determined. The zeroize button and tamper resistance still there too. The idea is to make an attack w/ successful data recovery extremely expensive and risky, kind of like IBM&#8217;s coprocessor does. The difference is that one can protect many computers rather than 1 coprocessor chip. A whole chain of zeroize commands can be initiated by one button press or arm/body movement or anything else. Increases risk of data loss, but deniable computing is inherently very risky. Only professionals or very careful individuals should even attempt it.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125871">

			<div class="comment by-peter-a ">

				<p class="commentcredit">

					<span class="commenter">Peter A.</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125871">
						December 4, 2009 5:49 AM					</a>

				</p>

				<p>Gosh, why termite?</p>
<p>An anecdote first:</p>
<p>A server crashed over a weekend. It wasn&#8217;t a particularly important one so no one of us admins bothered to drive there. On Monday a co-worker phoned a local person to go and see, push the reset button, cycle power or whatever. The person reported that the server &#8216;squeaks badly&#8217;. Well, someone had to drive there anyway. On arrival the co-worker heard what he decribed as a metal grinding noise coming out of the hard drive&#8230; Ouch!</p>
<p>He brought the drive to the office and we took it apart. What we&#8217;ve seen was quite a lot of fine metal dust all over the inside and loose magnetic heads with the tiny wires they normally hang on scattered in corners. The arms of the head set assembly were touching the platters&#8217; upper surfaces. Either the spindle or the heads&#8217; servo axle must have been skewed somehow &#8211; only God knows how as nobody confessed of dropping the poor server from the table or similar thing.</p>
<p>The lower surfaces of the platters looked nice and shiny but the upper ones were shaved off to the bare metal. The heads&#8217; landing zone had a nice 2-mm wide ~0.2 mm deep ditch grinded into the platters.</p>
<p>After visual inspection we have powered the poor drive up (what else bored admins would you expect to do?) It spindled up nicely and then apparently tried to read something off the platters as it moved the servo back and forth many times, and then gave up and moved it to back the landing zone. The noise was indeed a spectacular one &#8211; at least for what you&#8217;d expect from a hard drive&#8230;</p>
<p>Ok, coming to conclusion now. I&#8217;ll bet no NSA is going to read anything form that disk&#8217;s upper sides (lower seemed rather intact). So why bother with thermite, toxic fumes etc.? Open the drive, remove platters and grind off 0.1 mm of all surfaces. If you&#8217;re going to do that on regular basis, a simple tool could be constructed: a motor and some way to mount the platters on the axle and a set of small grinding stones mounted on short arms properly spaced. Mount the platters, spindle up, put the stone set set between the platters press against the upper surfaces, move along the radius, press against the lower surfaces, move along the radius, done. You may want to fry the PCB as a bonus but I really doubt any on-disk data gets stored permanently in the drive&#8217;s controller. The builtin cache is most likely DRAM or maybe even SRAM.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125872">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125872">
						December 4, 2009 6:04 AM					</a>

				</p>

				<p>@ Nick P,  PackagedBlue,</p>
<p>All three of us must sound a little paranoid to other readers 8)</p>
<p>@ ALL,</p>
<p>However if you are still with me I will try to explain the reasoning and lastly and importantly why it has legal effect on people these days (insider trading SabOx etc) which means it cannot be &#8220;paranoid&#8221; from that perspecive .</p>
<p>Firstly the old sayings /saws of,</p>
<p>&#8220;What you don&#8217;t know cann&#8217;t hurt you&#8221;</p>
<p>And</p>
<p>&#8220;Ignorance is bliss&#8221;</p>
<p>Don&#8217;t apply to the modern world of &#8220;accountability in law&#8221; and thus to some types of information.</p>
<p>With regard to my personal view of thermite use etc you have to accept there is in most cases a time element to account for. Due to the fundemental laws of nature (thermal energy propogates at a speed defined by the physical properties ot the transmission medium).</p>
<p>Based on having had a look at some of the physics involved if time is not an issue then simply taking the drive appart and heating the platters up to a moderatly high temp for an hour or so should be sufficient for the magnetic domains to get &#8220;mushed&#8221; beyond readability (Important note Flash ROM is entirely different).</p>
<p>However the military and others use thermite to destroy info equipment for reasons of speed, reliability and very importantly integrity (explosives don&#8217;t destroy the info they spread it out over a larger area&#8230;).</p>
<p>Obviously speed is of importance if a diplomatic or other &#8220;sensitive information handling outpost&#8221; is about to be overwhelmed by the enemy.</p>
<p>Normaly the military have large biscuit tin sized kits of destruction materials that take about five minutes to prepare and use (the reason for this is actually based on &#8220;safety&#8221; and &#8220;availability&#8221; in a physicly arduous &#8220;boots-n-mud&#8221; environment).</p>
<p>However for some this five minute time is considered far to long and a couple of seconds the same. Thus as I and others have seen, drives and in line crypto kit actualy gets built into special safe like enclosures lined with thermal insulation (fire bricks) with the thermite built in around the equipment. And a slightly recessed emergancy &#8220;pull down&#8221; on the outside to set it off, as well as electronic and mechanical tamper detection triggers. Oh and a handy little plug on them to plug in a &#8220;remote destruction&#8221; signal (like a dead man&#8217;s handle). Once triggered the inside of these safes heat up to several thousand degrees (f) and will stay there for some considerable time (hours if not days) thus the physical destruction of the info device and thus the information it holds is &#8220;reasonably&#8221; well assured.</p>
<p>This by the way is one of the reasons for the fire bricks, it holds the thermal energy there long enough to ensure the job is done.</p>
<p>Again my view point is they are trying to solve the wrong problem the traditional &#8220;but reliable&#8221; way.</p>
<p>This &#8220;burn to ash&#8221; mentality arises from the old assumption that information is tangable. That is the the old mechanical cipher machines and paper code books had a physical presence and could be stored in tamper evident safes.</p>
<p>Under this (incorect view) even the most argumentative of people (think legal sharks these days) will have difficulty arguing you where not taking reasonable steps towards &#8220;ensuring confidentiality&#8221; when presented with a piece of &#8220;furnace slag&#8221;.</p>
<p>As an aside remember in law probability has little relevance to the outcome &#8220;argument is all&#8221;. Reasonableness as a realistic measure in law went out with the Clapham horse drawn omnibus. These days liability means &#8220;class action&#8221; and stacks of cold hard cash. Thus you might regard liability layers with the same view point of &#8220;gold rush&#8221; miners from earlier times.</p>
<p>In a large communications network using point to point encryption (as opposed to end to end), the intangable nature of information becomes apparent.</p>
<p>That is the loss or break of a single key (or pass phrase) may unlock all the information that has been sent through the network node. To the enemy that has had (presumed) access to the cipher text. Hence the reason for frequent key changes in such networks.</p>
<p>Thus you have a distinct difference between information storage and transmission. In that it is easy to say exactly what information has been put at risk and from what point in time with information transmission.</p>
<p>Thus one issue with information storage if not done properly, is effectivly all the information ever put on it may be locked under a single key.</p>
<p>Which is not at all good as I&#8217;ll explain,</p>
<p>You can see there is a very real difference between storage and transmission of information unless specific extra steps are taken (and again this is something those producing HD encryption software appear to be not aware of or are ignoring).</p>
<p>You thus might well ask &#8220;why does this difference exist?&#8221;</p>
<p>Which to answer brings us around to the important question of &#8220;what is information?&#8221;</p>
<p>Information it&#8217;s self is an &#8220;intangable good&#8221; it only becomes tangable (ie becomes subject to the laws of physics) when it is stored or in transit.</p>
<p>This intangability means that there is no &#8220;deterant cost&#8221; to duplication of information that is &#8220;available&#8221; (think how many photos of the Twin Towers there are in existance).</p>
<p>Thus you need to &#8220;lock information up when stored or in transit&#8221; this involves some method of making it unusable in a reversable way (encryption). And also reduce the costs of unlocking it for use (we have not quite got to the point where we can process encrypted data as though it was unencrypted, but people are working on it).</p>
<p>The issue then is what is the cost of locking / unlocking and the trade offs. There are several metrics you need to consider,</p>
<p>For instance the OTP has very low CPU cycle cost (XOR) metric but a very high key cost metric. AES on the other hand has high CPU cycle costs but very low key costs (128bit).</p>
<p>Which brings you around to the question of &#8220;force multipliers&#8221; that is how much leverage can you get from a single bit of information.</p>
<p>In the OTP when properly used a single key bit will only ever give you 1 bit of information and nothing else, and the oposit is true a single bit of known information can only give a single bit of key.</p>
<p>In the case of a 128bit AES key one bit halves the brut force work required to be done by the enemy to recover all of the data encrypted under it. But also a single bit of known information can also be used to help verify if a brut forced key is valid or not.</p>
<p>That is in the case of AES each bit that survives the destruction process has a &#8220;chance&#8221; of reducing the work the enemy has to do by over a half.</p>
<p>This force multiplier effect is one reason OTPs will always have a use no matter what other people might argue.</p>
<p>Now the thing is that a chance has a probability of happening. And in the physical world due to process costs we have probability &#8220;norms&#8221; and &#8220;extreams&#8221; which often &#8220;fall on the bell curve&#8221;.</p>
<p>In the information security world the probability is actually irrelevant it is the fact there is a chance or not, no matter how small the probability of that chance being in one state (secure) or not (insecure).</p>
<p>That is you identify all the chance &#8220;states&#8221; not the probability of an individual chance being in a given state (in a prize draw a ticket ends in one of two states &#8220;it&#8217;s won&#8221; or &#8220;it&#8217;s lost&#8221; the probability of the state is dependent on the number of tickets sold).</p>
<p>Thus the focus switches to what the effects are of the information falling into enemy hands to decide the cost of the loss of information.</p>
<p>The problem is it is even less of a &#8220;known problem&#8221; which is why we have such sayings as,</p>
<p>&#8220;For a ha&#8217;pen&#8217;th of tar the ship was lost&#8221;.</p>
<p>So apparant Paranoia may or may not be justiffied depending on the number and type of chances (not the probability of a given chance state) of an event occuring and it&#8217;s &#8220;potential cost&#8221; if it does happen.</p>
<p>Therefor in information security the prevailing view is,</p>
<p>0% chance = 0 potential cost.</p>
<p>And&#8230; due to unknown force multiplication and unknown ability of the enemy the inverse of this is effectivly assumed to be,</p>
<p>Not 0% chance = Infinite potential cost.</p>
<p>Which is why the &#8220;thermite safe&#8221; and &#8220;dead man&#8217;s handle&#8221; option is sometimes used.</p>
<p>Although arguably there is a chance it will fail so you could argue that the whole argument is nonsense!</p>
<p>But remember we are dealing with the &#8220;Human logic&#8221; of &#8220;Human perspective&#8221; with regards to the &#8220;Human Notion&#8221; of &#8220;potential cost&#8221; here which is sometimes called &#8220;peace of mind&#8221;.</p>
<p>Which is best sumed up by the supplier of solutions saying &#8220;the customer is right/King&#8221; or the more cinical &#8220;The customer gets what they pay for&#8221; and &#8220;a king can pay top dollar&#8221; ðŸ˜‰</p>
<p>Now &#8220;once upon a time&#8221; only the &#8220;state&#8221; had need of such measures. But times have changed laws have been passed with regards to &#8220;insider trading&#8221; and &#8220;auditing of responsability&#8221; to supposadly prevent certain behaviour patterns that some regard as illegal for whatever reason.</p>
<p>Where there is a law you get into chances not probability. The reason for this is &#8220;argument&#8221;. Frequently the argument is about &#8220;unlimited liability&#8221; which translated means &#8220;you lose I get everything you&#8217;ve got&#8221;&#8230;</p>
<p>Thus for a large organisation this puts them in the cross hairs of an unknown number of laywers, where they can lose everything on the chance that they are found to be in the &#8220;guilty state&#8221;. It is like being the pig in the farm prize draw and only having the ability to buy a limited number of tickets to protect yourself from being slaughtered for the price of your hide.</p>
<p>Thus the steps you need to take would in more reasonable circumstances appear &#8220;paranoid&#8221; but they are not when viewed from the perspective of &#8220;unlimited legal liability&#8221;&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125873">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125873">
						December 4, 2009 9:08 AM					</a>

				</p>

				<p>Nick P,</p>
<p>Sorry for not reponding earlier had to caution somebody about a Troll&#8230;</p>
<p>With regards,</p>
<p>&#8220;I think the solution to these erasable issues is red-black separation applied to memory and raw storage. What I mean is that everything in RAM or on the disk should be ciphertext. Onboard controllers/ASIC&#8217;s sitting in front of each medium should transparently encrypt/decrypt.&#8221;</p>
<p>It is the way to go other than the &#8220;crypto&#8221; needs to be inside the CPU chip.</p>
<p>You see this on some microcontrolers where the internal flash rom is encoded/ciphered to stop somebody flipping the lid off and Scanning Electron Microscoping (SEM) or IR Microscoping out the program code.</p>
<p>However it has security issues (doesn&#8217;t always).</p>
<p>The CPU is activly talking to memory, even if the memory is encrypted you can still get a very good idea as to what is going on simply by observing the memory addresses in use on a vector scope.</p>
<p>It becomes clear what areas of memory are code and those that are data, further the general types of data by the number of consecutive bytes read or the number of times a given location is read. And if the data is &#8220;constant&#8221; or variable, and if it is &#8220;global&#8221; or local and all sorts of other things.</p>
<p>When you know where the code is you can have a good idea what is OS and which is program also you can work out what OS calls are being used&#8230;</p>
<p>Thus without further measures other than just data encryption the program and some of it&#8217;s data can be enumerated 8(</p>
<p>Even if you also encrypt the ram address bus you will still get an idea of what is happening simply by observing what memory is used read only and that which is used as read and write. And in the case of &#8220;stack&#8221; or &#8220;heap&#8221; memory it becomes clear as well with time and usage.</p>
<p>Further you can cross corelate events with IO actions so you can see the code load etc.</p>
<p>One of the things with &#8220;in line&#8221; encryption it is usually transparent at some point and this has a side effect of opening up exploitable information channels to an observer.</p>
<p>For instance consider point to point encryption -v- end to end encryption.</p>
<p>Point to point encryption in a network effectivly hides routing information, but without further measures simple traffic flow will analysis will give you the likley start and end point of a communication in a network.</p>
<p>Even if you do take steps to use in communication random routing you will see just by how much data enters or leaves a node where traffic is likley to be heading.</p>
<p>The solution adopted by the military for years has been &#8220;constant trafffic flow&#8221; that is every node point sends and receives traffic at either the channel capacity or a fixed fraction there of.</p>
<p>To an outsider they have no indication as to which bytes in the comms stream are &#8220;data&#8221; or &#8220;fill&#8221; thus easy traffic flow analysis is prevented.</p>
<p>Now you have the issue I keep pointing out but still gets ignored ðŸ˜‰</p>
<p>Efficiency is on the other side of the slide to Security.</p>
<p>That is the more efficient an object is the more side channels it has.</p>
<p>So you &#8220;clock the outputs and the inputs&#8221; at a fixed rate irespective of what is going on. This makes a timing side channel difficult to implement and of very very small bandwidth.</p>
<p>So much for communications, how about storage?</p>
<p>Well&#8230; it has it&#8217;s own issues at various levels. Like observing the address lines on the CPU watching the head movment and write amps etc will tell you a lot over time.</p>
<p>Further there is the issue of time&#8230;</p>
<p>In comms data is in transit and time has little meaning overall (this is an over generalisation). For storage however it has significant issues.</p>
<p>One of which is in line encryption has no notion of time other than it passing. Data needs to be encrypted under different keys, in comms time is not an issue the data gets a new key each time etc. But on a hard drive the data is stored for an unknown period of time. Unless an inline encoder works at a higher level it has now way to implement time sensitive encryption which effectivly means all of the data has to be encrypted under the same key&#8230;</p>
<p>This makes it sensitive to other attacks that do not effect comms only storage.</p>
<p>Thus you need not just point to point (inline) encryption but end to end (time/file) encryption as well.</p>
<p>Lets say each step adds a 9 or two to the end of the 99.9&#8230; but It&#8217;s not 100%.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125874">

			<div class="comment by-jonadab-the-unsightly-one ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://mistersanity.blogspot.com/' rel='external nofollow ugc' class='url'>Jonadab the Unsightly One</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125874">
						December 4, 2009 10:28 AM					</a>

				</p>

				<p>This is, on the whole, a good thing.  Do you have any idea how many trillions of dollars worth of data that should have been retained have been irretrievably lost over the decades because the user, against all reason, overwrote and/or deleted it on purpose?</p>
<p>Yes, if you&#8217;re working with sensitive data you have to be careful.  Duh.  Hopefully you knew that already.</p>
<p>But the amount of information in the world that it would really be better to lose irretrievably rather than let it fall into the wrong hands is, frankly, relatively small.</p>
<p>I don&#8217;t see how shadow copies (or automatic versioning, like VMS has had for decades) is any different in this regard from automatic overnight backups or any other technology designed to protect against unfortunate data loss.</p>
<p>BTW, the assertion that there&#8217;s &#8220;no way&#8221; to actually delete the data is absurd.  The operating system does not provide a <em>convenient</em> mechanism for doing it, for very good reasons outlined above, namely, that if it were easy to do people would do it when it&#8217;s neither necessary nor a good idea.  But it certainly <em>is</em> possible to wipe the shadow-copied data.</p>
<p>At the extreme, you can always throw in a Knoppix CD and dd if=/dev/urandom of=/dev/whatever a couple of dozen times, then levigate the disk to the consistency of talcum powder, subject the remains to a potent electromagnetic field, and then disperse them over several acres of ocean.  Problem solved.</p>
<p>And that&#8217;s the extreme to which which no normal situation would ever take you.  It&#8217;s also possible to be significantly more selective than that in exactly what you wipe, leaving the rest in tact.  If you have <em>any</em> idea what you&#8217;re doing, you can just wipe all the shadow copies of everything and leave the current versions in tact.  (And this ought to go without saying, but people who don&#8217;t know what they&#8217;re doing at that level shouldn&#8217;t be working with dangerously sensitive data in the first place.)  If you actually understand how VSC stores its stuff, you can just wipe the shadow copies of the sensitive data in particular, or even just certain versions.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125875">

			<div class="comment by-hjohn ">

				<p class="commentcredit">

					<span class="commenter">HJohn</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125875">
						December 4, 2009 10:42 AM					</a>

				</p>

				<p>@Jonadab the Unsightly One at December 4, 2009 10:28 AM</p>
<p>Your points are well taken and valid.  But I think the underlying problem is that when a user has deleted and overwritten a file, or encrypted a file and overwritten the unencrypted residual data, that it is not the operating systems place to keep a copy or an unencrypted copy without their knowledge or consent.  Particularly that, in order to do what they are trying to do, they may have to disable or cripple their system restoration capabilities.</p>
<p>Murphy&#8217;s Law definitely applies here.  If you get rid of VSC or VSC points so you can delete something, you&#8217;ll then need a point that no longer exists.  But this is a topic for another day.</p>
<p>People shred hardcopy files on purpose all the time, even though it turns out to be a mistake after.  That wouldn&#8217;t justify the shredder making copies of them in case.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125876">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125876">
						December 5, 2009 2:18 AM					</a>

				</p>

				<p>@ Jonadab</p>
<p>In addition to HJohn&#8217;s comments, you might want to skim the others. They have a few important points you miss, like how many tools ignore bad sectors on a disk which still contain information. Then there are theoretical and semi-practical attacks. Then there&#8217;s whatever&#8217;s left lying in buffers, swap files, and hardware memories. Lots of stuff to consider for those whose information is worth the cost to attack. Most people need not worry much, but some could loose big cash, be imprisoned or die if info got out. Why take the chance if easy solutions abound (see my original posts)?</p>
<p>@ Clive Robinson</p>
<p>I appreciate your reply. You gave great detail on the many issues associated with securing interactions of components in even a local system, while maintaining confidentiality and integrity. However, I think I may have not been clear on the purpose of my memory and disk encryption or the threat model. So, here it is as precisely as possible so I can get your most accurate review.</p>
<p>The purpose of my setup is to defeat forensic attacks <em>after</em> erasure. The RAM and disk are only encrypted so that destroying the key leaves only ciphertext. If someone has physical access to system, they can use methods you describe. The goal of my system is that, once the zeroize function is activated, the forensic guys can search disks and burnt-in RAM all they want and find only useless ciphertext. In effect, my scheme makes it where only the key for RAM or HD is sensitive, it&#8217;s only in one place, and is easily (read: very reliably) destroyed. The design is based on Kerchoff&#8217;s principle. The assurance of this scheme should be as strong as the crypto algorithm and implementation. Secondary goal, with less assurance, is for tamper-resistance to activate zeroize process if operator isn&#8217;t there to do it. Again, that part is low assurance. The main goal is preventing forensic analysis by my zeroize function and supporting the assurance by using a dedicated controller/card for crypto, with small RTOS to ensure predictable memory and wiping characteristics.</p>
<p>So, what I&#8217;m asking your review on is my high assurance goal: will seemless encryption of data, as in RAM cryptocontrollers or IME&#8217;s for HD&#8217;s, prevent recovery of all RAM and HD data <em>if</em> the key is zeroized from those controllers&#8217; memory and never leaves the memory during operation? That&#8217;s the only goal. Not preventing a probing adversary or anything. An example usage is if security team alerts that a penetration is occurring or a severe compromise happened, then operator presses zeroize button to erase keys and never worries about ciphertext recovery. Analysis and cracking attempts happen at least 1 min. (worst case) after keys erased and system powered off, possibly thermite like u mentioned on controllers (storage has only ciphertext, so not sensitive). That&#8217;s threat model and the countermeasure. I figure this would be cheap, esp. with truecrypt and embedded PCI coprocessor, and could rapidly make data unrecoverable for later forensic analysis.</p>
<p>With this model and countermeasure, my security claim is that if crypto works, they have to recover most or all of the key that was overwritten randomly several times in static RAM. I think it&#8217;s very unfeasible if operator hits zeroize before cracking attempt and 99.999% impossible if it was also in a safe (cracking time fades RAM). This tactic is what I use for highest security data protection, with a few secret extras. This is core approach though. So, now that you know the precise purpose (preventing post-zeroize recovery of RAM or HD), what do you think of scheme? Do you agree that it deserves high confidence or am I missing something?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125877">

			<div class="comment by-fire-snake ">

				<p class="commentcredit">

					<span class="commenter">Fire Snake</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125877">
						December 5, 2009 12:56 PM					</a>

				</p>

				<p>Sorry, but all you are saying is that &#8220;if you make a copy of a file and then delete only the original file, the copy is still there (no matter how many times you overwrite the original file&#8221;.</p>
<p>Why &#8220;bash&#8221; Volume Shadow Copy service for this? I suppose that works the same on all OS. If you make a copy with robocopy, it works the same. Maybe you wanted to say &#8220;If you give the backup files privilege to a user, she can read any file, acls are not applied&#8221;. Bashing a backup tool for making a backup is a bit silly.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125878">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125878">
						December 5, 2009 4:50 PM					</a>

				</p>

				<p>@ Fire Snake,</p>
<p>&#8220;Sorry, but all you are saying is&#8230; &#8221;</p>
<p>Err no, that is the process that is happening.</p>
<p>It is the why of it and the consiquences.</p>
<p>The &#8220;why&#8221; is it happens by default because MS decided it was a good idea.</p>
<p>The &#8220;consiquences&#8221; are that a user may not know it is happening or how as it is both &#8220;new&#8221; and &#8220;non transparent&#8221; in it&#8217;s operation.</p>
<p>Giving rise to the issue that a user mistakenly belives that as they have removed a file from the visable file system (which they have) that it is removed from the PC (which it is not it&#8217;s in a hidden file system).</p>
<p>The problem is that the hidden file system is by design not easily accessable, further that disabaling this feature is not as easy as it could be.</p>
<p>The unfortunate result being that confidential information a reasonably technicaly savy user had thought had been removed from their PC has infact not been removed, nor can they easily remove it.</p>
<p>Whilst being nice for many many users, it&#8217;s problematical at best for those using confidential or above information.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125879">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125879">
						December 5, 2009 6:21 PM					</a>

				</p>

				<p>@ Nick P,</p>
<p>Hmm this might take some time but first thoughts,</p>
<p>You say,</p>
<p>&#8220;The purpose of my setup is to defeat forensic attacks <em>after</em> erasure.&#8221;</p>
<p>Which is not what the system actualy does.</p>
<p>You have realised that &#8220;time&#8221; and &#8220;persistance&#8221; are two major issues and you are aiming specificaly at these by,</p>
<p>&#8220;The RAM and disk are only encrypted so that destroying the key leaves only ciphertext.&#8221;</p>
<p>That is the data is not destroyed it is mearly locked up in an &#8220;encryption safe&#8221;.</p>
<p>Thus the security of this is dependent on the ability to find the key to the safe.</p>
<p>As you say,</p>
<p>&#8220;If someone has physical access to system, they can use methods you describe. The goal of my system is that, once the zeroize function is activated, the forensic guys can search disks and burnt-in RAM all they want and find only useless ciphertext.&#8221;</p>
<p>Now you are arguing &#8220;security&#8221; after an event, on the assumption the key is unknown or cannot be recovered.</p>
<p>The key might actually be known due to EmSec and or &#8220;cache timing attacks&#8221; or other side channel attacks.</p>
<p>From what you say,</p>
<p>&#8220;In effect, my scheme makes it where only the key for RAM or HD is sensitive, it&#8217;s only in one place, and is easily (read: very reliably) destroyed.&#8221;<br />
An attacker that is aware (for whatever reason) that your scheme is in use must target the key.</p>
<p>Which you apear to be aware of,</p>
<p>&#8220;The design is based on Kerchoff&#8217;s principle. The assurance of this scheme should be as strong as the crypto algorithm and implementation.&#8221;</p>
<p>So the weaknesses at this point are,</p>
<p>1, Data is not destroyed only encrypted.<br />
2, The encryption key is stored within the system<br />
3, An attacker is assumed to know that they will have to,</p>
<p>3.a, get the key by observation.<br />
3.b get the key by applying preasure on the operators.<br />
3c, recover the key from the hardware.<br />
3d, using crypto analytic technigues to recover the key.<br />
3e, prevent the key being zeroized.</p>
<p>Any problems with what I have said so far?</p>
<p>You appear to be aware of some of these issues when you say,</p>
<p>&#8220;Secondary goal, with less assurance, is for tamper-resistance to activate zeroize process if operator isn&#8217;t there to do it.&#8221;</p>
<p>Which may end up being the &#8220;low hanging fruit&#8221; of the final system.</p>
<p>So on to the details in the core of the system.</p>
<p>&#8220;&#8230; using a dedicated controller/card for crypto, with small RTOS to ensure predictable memory and wiping characteristics.&#8221;</p>
<p>Now the thought that occures is why an RTOS and what are it&#8217;s strengths / weaknesses / conectivity / etc.</p>
<p>&#8220;So, what I&#8217;m asking your review on is my high assurance goal: will seemless encryption of data, as in RAM cryptocontrollers or IME&#8217;s for HD&#8217;s, prevent recovery of all RAM and HD data <em>if</em> the key is zeroized&#8221;</p>
<p>The simple answer is no because the data is still there it is just encrypted.</p>
<p>The security under your assumptions rests on the inability of key recovery alone.</p>
<p>Extending the &#8220;zeroize&#8221; into all the RAM should be the next option. And also disguise where it has got to by writting random data not zeros.</p>
<p>Then there is the issue of the IO and other areas of mutable memory that is not the HD.</p>
<p>That is under a fault condition it is possible that at some point some or all the key or other critical plain text gets written to a place it can be recovered from.</p>
<p>Then there is the issue of the hard disk.</p>
<p>Inline encryption of the data needs to be thought about carefully.</p>
<p>At it&#8217;s simplest it is &#8220;code book&#8221; encryption that on a large hard drive is going to leave it subject to various well known attacks such as &#8220;chosen plaintext&#8221; or &#8220;known plaintext&#8221; attacks.</p>
<p>For instance a large part of MS Word files is &#8220;known plaintext&#8221; and under a simple &#8220;codebook&#8221; system the identical headers will tell you how many word documents are on the hard drive. Likewise with .exe files and many others. Also a large chunk of the OS is nearly always in the same place on a hard drive.</p>
<p>Thus your encryption system needs to take one master key and convert it to many sub keys and IV&#8217;s and chain encrypt each fixed block (ie a sector or sectors that go to make a logical block).</p>
<p>Further it needs to do &#8220;Russian Coupling&#8221; or equivalent on major features of the HD structure.</p>
<p>This has some quite serious implications because no longer is it simply acting as an &#8220;inline&#8221; encryptor it is going to have to cache blocks of data as well.</p>
<p>&#8220;With this model and countermeasure, my security claim is that if crypto works, they have to recover most or all of the key that was overwritten randomly several times in static RAM.&#8221;</p>
<p>That is true but as I said it has to be the right use of crypto. Dorthy Denning wrote a book in the 80&#8217;s on securing DBs and some of the pitfalls I would definatly have a read of it.</p>
<p>&#8220;Do you agree that it deserves high confidence or am I missing something?&#8221;</p>
<p>We always miss something 8(</p>
<p>Because we are all I hope human ðŸ˜‰</p>
<p>My main concern it the HD, the lower level it is encrypted at the more vulnerable it is to attacks (which is why I don&#8217;t assume inline encryption is enough). Thus it needs to encrypt multiple times at each level of the OS stack the more layers it works at the more likley it is to be secure.</p>
<p>HD encryption is a realy hard problem and few people get it right without considerable thought and experiance.</p>
<p>Idealy it needs to be built into the OS filesystem &#8220;proper&#8221; not bolted on which most solutions are.<br />
Hope that helps a little?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125880">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125880">
						December 5, 2009 11:28 PM					</a>

				</p>

				<p>Yes, the concept is essentially an encryption safe but, if academic papers and crypto proofs are to be believed, loosing key to well-implemented safe equals secure erasure. This assumes key is truly unrecoverable. So, I&#8217;ll focus on your points covering this.</p>
<p>EmSec is definitely an issue. I claim no protection against that. For those who need it, I just throw it in an EmSec INFOSEC container safe with a filtered connector and powerline. Best I can do, there. As for side channels, they would have to target power line or serial port, which is only comm link. I use serial ports because they have no DMA, have drivers on every OS, and limited bandwidth (some covert channel suppression). The crypto controller is an event-driven, reactive, message-based system. A data packet is sent/received and processing is transparent. Some parts, due to caching, are unpredictable. I don&#8217;t see any obvious timing issues that would leak key material or plaintext, but there could be some. Worth looking at.</p>
<p>I like your numerical breakdown of threats. Let&#8217;s look at them. Strong isolation of OS, lack of DMA and easily verified comm driver should prevent observation of key. It never leaves memory and is in its own process (a session encryptor of sorts). Point 3b is safe: operators don&#8217;t know the key, half was generated onboard by TRNG and erased by zeroize, so they can&#8217;t help. Point 3c is hardware recovery: has burn-in prevention and entire system is flushed with random data, but getting all the buffers is tricky and time-consuming&#8230; risk here. 3d is cryptanalysis: timing attacks, chosen plaintext attacks and direct analysis of cipherttext. Second two defeated by correct cipher design/implementation, which I hope is the case, and the first might be feasible as described above. The last was interesting, as I don&#8217;t know how they&#8217;d prevent key from being zeroized. Several methods to start zeroization: tamper-indication; an external pushbutton (ouside the safe); and optionally a switch connected via string to operator that is pulled if operator quickly moves hand. This scheme is designed so that it&#8217;s easier to accidentally erase everything than to fail to erase something. All this said, a strong energy attack (i.e. microwaves) or EMP might send short-circuiting through the system. That&#8217;s plausible, but not in my threat model.</p>
<p>On your next points, I&#8217;ve been saying zeroize but I do mean overwrite randomly. Idk where I got that habit. I think it was several clients who kept saying it and I ended up cursed with it. I don&#8217;t use zero&#8217;s because some caches and compression schemes can sabotage that, while random data usually barges through these. So, the keys, RAM, etc. is definitely overwritten with random data and since the quality of random data doesn&#8217;t really matter (we are just substituting sensitive data with gibberish in memory), I use xorshift-128 because its blazing fast. Encryption mode, since its truecrypt, is currently XTS w/ 256-bit Twofish or Serpent with SHA-512. I know of no recovery techniques on TrueCrypt volume&#8217;s at the crypto level. Authorities have every motive to accomplish this and they are still trying to keylog, comb residual info in cold boot attacks, etc. No cryptoattacks seems like a safe assumption, but it could be wrong.</p>
<p>To look at the timing, which is VITAL, here&#8217;s erasure process: a few master keys (HD, RAM, seed pool) overwritten 3-passes; 1 pass attempted on sensitive buffers and caches (like truecrypt); RAM and other general storage overwritten 1 pass; &#8220;black&#8221; ciphertext storage areas may be overwritten. Master keys and memory, which contains most driver buffers, are most important. I&#8217;m focusing most efforts on keys because they protect the most sensitive info and I have to assume enemy is kicking in the door. As much has to happen in first few seconds as possible, mainly drive and RAM keys gone. The rest of the Red sensitive data is residual, fragmented, maybe useful, maybe not, so I try to clear it second. If I use thermite, it&#8217;s set for a delay that covers worst-case erasure of Red data. If I don&#8217;t use thermite, it&#8217;s programmed to try to clear everything for as long as it can hold out before enemy hits it, attempting to overwrite ciphertext as well. Assuming the sensitive Red data is overwritten and no burn-in occurs, it would appear to be unrecoverable against all known attacks within first few seconds. This design choice was inspired by DoD &amp; NSA COMSEC products, which are all built like that (except that their zeroize means actual zeroes, while I feel random overwrites help disguise any remnants of key data in event of failure).</p>
<p>I hope that addresses or at least informs your concerns on recoverability after overwrite. So, how can we be sure its happening? Well, the first is addressed partly by the RTOS. You asked about that. I try to build verifiable systems (&#8220;correct by construction&#8221;) rather than guesswork like linux/MS kernels (&#8220;fail first, patch later, repeat ad nauseum&#8221;). A separation kernel or at least tiny, field-proven microkernel RTOS is small, easy to inspect, and usually has very predictable performance into hard-real-time ranges. I can be sure zeroize (there goes again&#8230; ERASE!) button is checked regularly and then deny every other process any CPU time as erasure occurs. So, RTOS is only used to ensure deterministic behavior under worst case conditions, which non-RTOS&#8217;s can&#8217;t really do. With separation and true microkernels, one also inherits a tiny TCB and can use secure decomposition to prove system security as a whole. Monolithic is too complex to have any assurance or verifiability. So, all &#8220;high assurance&#8221; designs of mine use specific hard RTOS&#8217;s. And it&#8217;s timing and memory characteristics help ensure the key stays where it should and is erased on time.</p>
<p>The last issue, unless I&#8217;m missing something, is the hard drive issues. Now, I didn&#8217;t actually do the truecrypt modifications: I made the system-level design, directed certain interface decisions, etc. Someone else did the code stuff and said only ciphertext touches the filesystem, while the plaintext caching occurs in RAM. So, it&#8217;s kind of like a pipeline: [Red app] -&gt; plaintext as IPC message-&gt; [crypto system] -&gt; cipher text IPC message -&gt; [black app/driver/filesystem/whatever]. Each thing in brackets is in its own process, partition, VM, whatever isolation mechanism used. The IPC is considered trusted for point-to-point delivery via memory copy (a reason for separation kernels or microkernel RTOS&#8217;s). If the implementation really does this, then only the key and that part of the RAM is sensitive (if arguments in other paragraphs are correct). Since zeroize button immediately kills keys and truecrypt buffer, black data should be unrecoverable. I guess my only concern with ciphertext on hard drive, again assuming dude implemented pipeline correctly, is that XTS mode is really safe. That has always worried me but CBC is largely unacceptable for reasons I&#8217;m sure your aware of&#8230;</p>
<p>So, that about sums up my thoughts on each of your points. Please give me feedback on each. There seem to be a few that I&#8217;m almost absolutely confident in. Others seem okay, have empirical support, but may be incorrect. Your single best argument against high confidence is the human factor, esp. considering the designer wasn&#8217;t formally trained. I agree it&#8217;s a very tough problem. A few years back I thought it would be so simple: just put this here; do this there; erase. Lol @ that wishful thinking. Your suggested trustworthy encrypting filesystem would be nice, but they seem more coupled to the disk at low level, which you also suggested increased risk. Can I trust manufacturers not to screw that up for me somehow? I&#8217;d rather it be full of ciphertext when it screws up, with a separate component doing encryption. That&#8217;s just my hypothesis, though. Also, I thank you for the mention of Dorthy Denning&#8217;s book. I didn&#8217;t know of her before and still haven&#8217;t found the book: she&#8217;s apparently a prolific author, writing a shitload of crypto papers. Is it &#8220;Information Warfare and Security?&#8221; No book yet but I&#8217;ve already decided to check out the paper on 20 key escrow techniques and her congressional testimonies. So, thanks for the reference.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125881">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125881">
						December 6, 2009 4:55 AM					</a>

				</p>

				<p>@ Nick P,</p>
<p>Ah I&#8217;ve learned a bit more about your way of thinking 8)</p>
<p>As I now know what you mean by zeroize I&#8217;ll stick with it.</p>
<p>Another point you say,</p>
<p>&#8220;operators don&#8217;t know the key, half was generated onboard by TRNG and erased by zeroize&#8221;</p>
<p>I&#8217;m not sure what you mean by this from the system design spec aspect.</p>
<p>Is this to allow for some degree of accidental system tripping or for some other unstated system aspect?</p>
<p>That is,</p>
<p>Do you mean that the operators have a master key that then encodes randomly selected sub keys?</p>
<p>Or do you mean internal keys are split into two parts one half known to the operator the other half truley unknown?</p>
<p>Or some other arangment?</p>
<p>Key Managment is another area like HD encryption is fraught with subtal gottchas.</p>
<p>Which ever case what is the design reasoning behind it?</p>
<p>One thing you may not be aware of is TRNG&#8217;s -v- CS PRNG&#8217;s.</p>
<p>There are issues with TRNG&#8217;s that people try to hide behind hashing under a mistaken beliefe the &#8220;one wayness&#8221; of the hash will sprinkle &#8220;magic pixie dust&#8221; on the output (this idea appears to have gained traction since Intel engineers put it into their chip based TRNG&#8217;s in the late 90&#8217;s).</p>
<p>It has been known for over a quater of a century that electronics (thus TRNG&#8217;s) can be influenced by external forces/energy at quite low levels.</p>
<p>But even though I have been saying it for that period of time the academic community have only just &#8220;openly published&#8221; on it.</p>
<p>Put simply some of the bods at the Cambridge Labs subjected a 32bit TRNG to EM radiation and found they could reduce the effective entropy down from 32bits to 8bits&#8230;. that is a 1 in 4billion down to a 1 in 256 series of outputs (I hear an Ouch being said 8)</p>
<p>Thus no matter how you hash each output individualy you effectivly end up with only around 250 individual outputs&#8230;</p>
<p>And this by the way was with a very very simple attack.</p>
<p>It is basicaly an EM &#8220;fault injection&#8221; attack and there are ways of making it much worse than a simple attack (trust me on this one I&#8217;ve been there and done it on plastic cased hand held devices where monetry value is involved back in the 1980&#8217;s).</p>
<p>And yes I have said things privately to researchers when Fault injection became known in the academic community and more publicaly since DPA poped up in the mid 90&#8217;s.</p>
<p>So just about any active attack on things such as smart cards are applicable to your TRNG.</p>
<p>The nice thing about &#8220;passive TEMPEST&#8221; defence is it works in both directions so if you use enough of it hopefully the operators will be aware of such an EM attack is inprogress when the paint starts to blister off of the wall unless their eyes explode first ðŸ˜‰</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125882">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125882">
						December 6, 2009 7:42 AM					</a>

				</p>

				<p>@ Nick P,</p>
<p>I&#8217;m not at home at the moment so I cann&#8217;t give you the Denning refrence.</p>
<p>Which reminds me,</p>
<p>&#8220;if academic papers and crypto proofs are to be believed, loosing key to well-implemented safe equals secure erasure.&#8221;</p>
<p>Yes and no, we know that apart from a few systems such as the OTP all other systems are breakable.</p>
<p>The upper time bound for encryption breaking is &#8220;brut force&#8221; or more quaintly &#8220;British Museum&#8221; attacks (don&#8217;t ask it&#8217;s a Classics thing). It is easy to say the key space is 2^n bits and each trial takes m time. Which gives a nice easy bench mark for &#8220;normalisation&#8221;.</p>
<p>Some systems however it&#8217;s not so easy as although the key might be 2048bits long not every value in that range will be the product of a couple of primes let alone ending in &#8220;01&#8221; etc.</p>
<p>All crypto algs are known to have failings of one form or another, and that as you strengthen a design against one aspect another aspect is weakened.</p>
<p>So we know in theory that not only can the be broken but there are many opposing methods to defend against.</p>
<p>Now is the problem of information v the physical world. Entropy is about the only measure of information there is that is not tainted by assumptions of the physical world. A lot of our security assumptions are based on informations representation in the physical world such as bit&#8217;s of storage and bit&#8217;s per second of bandwidth etc (arguably quantum computing is working outside of the physical limitations which makes thoughtfull people cautious).</p>
<p>Entropy is a measure of possability. As my son knows with his lego bricks you have more possability with a pile of lose bricks than you do with an amalgamation of bricks (ie you are turning lots of little bricks into a lot less big bricks and thus the possabilities drop dramaticaly untill you end up with a single model).</p>
<p>The big enemy of encryption is actually the loss of entropy, that is the more structure in your underlying information the easier it is to attack.</p>
<p>For instance let&#8217;s assume you have a TTY link to a program. You can see when the program starts. Lets assume it has a menu of options with Y/N answers. It does not matter how powerfull your encryption system is if it only has two options to encode thus if each answer is encrypted individualy you have only two cryptograms heading down the wire which is a simple sbstitution cipher.</p>
<p>Thus if the program or as Kerchoff&#8217;s maxim has it &#8220;the system is known to your enemy&#8221;, then they don&#8217;t need to break the encryption to know what you are doing. Traffic analysis alone will tell them.</p>
<p>One of the problems with both databases and Hard drives (which are essentialy flat file DB&#8217;s) is they are highly structured and are used in a highly structured way.</p>
<p>Examination of a fully encrypted hard drive can be very like &#8220;traffic flow&#8221; analysis. In fact you will hear people put it another way when they talk about the data being put down on a drive like sedimentry rock being formed.</p>
<p>Unless care is taken then the enemy has the unavoidable structure of a HD visable to them.</p>
<p>Thus it&#8217;s not just the information/data you have to properly encrypt but the meta information/data that gives structure at all levels.</p>
<p>So at the physical layer of a hard drive you have,</p>
<p>1, Heads platters cylinders and sectors.</p>
<p>At the next level you have,</p>
<p>2, Clusters of sectors etc.</p>
<p>All the way up to the OS file level. At each level there is structure or further meta data added. Such as file size, file read/write/modification/user etc etc.</p>
<p>The more of this you have the less entropy you have overall thus the weaker the effect of the encryption is.</p>
<p>Simple inline encryptors only work on the raw information. Slightly better ones can work at the cluster level but that&#8217;s as far as it goes with inline encryption at the HD hardware interface.</p>
<p>What you need to do is actually pull the entire file system out of the OS leaving only the application level hooks.</p>
<p>Then at each decending level apply the apropriate &#8220;mode&#8221; of encryption to the structure and meta data at that level.</p>
<p>You need to ask somebody in the know about your chosen system such as TrueCrypt just what it does at each level.</p>
<p>For instance you mentioned the dreded NTFS. This is a caching hard disk system it has so much structure you sometimes feel you need a good grasp on &#8220;chaos theory&#8221; just to be able to understand the possabilities of the arising complexity.</p>
<p>I have personaly seen very little written on this subject in recent year but I can assure you that after a little thought and a few diagrams of FAT12 you will realize why this is an issue.</p>
<p>Which brings me around to how you deal with it.</p>
<p>Which I will post later just to let both your and my brains to relax and free ascociate a little as it&#8217;s Sunday 8)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125883">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125883">
						December 6, 2009 1:32 PM					</a>

				</p>

				<p>@ Nick P,</p>
<p>One of the things about security systems is that the design process is very similar to safety system design which in turn has a lot in comman with old style project managment.</p>
<p>Basicaly it boils down to managing complexity and oddly the best way to do that is to add more complexity but in a highly controled fasion.</p>
<p>A quick explaination / example as to why,</p>
<p>An early automated OTP system suffered badly from timing side channels. That is you could tell which bits where changed and those that where not simply by observing the width of the output pulse. Thus it could only be used in &#8220;off line&#8221; mode.</p>
<p>It became quickly clear that trying to &#8220;control&#8221; the pulse width issue was neigh on impossible with  highly reliable (GB) Post Office 600 relay technology.</p>
<p>The practical solution was to &#8220;double clock&#8221; the output. That is the output from the XOR function with the dodgy pulse width got put into a storage relay. The output of the storage relay was then clocked onto the line using the orthagonal clock.</p>
<p>That is by increasing the hardware complexity in a controled way an uncontroled aspect of the design was negated.</p>
<p>Hence the TEMPEST maxim about &#8220;clock the inputs and clock the outputs&#8221;. Thus timing side channels virtualy disapear from consideration. This is provided other error conditions are correctly dealt with which gives another maxim &#8220;on error start from the begining&#8221; thus the bandwidth available is oh so low (which indirectly gives rise to &#8220;on error abort&#8221;).</p>
<p>A similar system is used in hardware design (pipelining) but for different reasons (trade delay for clock speed).</p>
<p>So the best way to control complexity is to break the system down into the smallest distinct subsections you can whilst still retaining atomic behavior, and control the interfaces between them.</p>
<p>From what you have said I suspect you already do this the question is though do you do it to a fine enough level and within certain other constraints.</p>
<p>To decied this you analyse the states each subsection can be in.</p>
<p>The first rule is NO RECURSION ever.</p>
<p>The second is NO SHARED STATE ever.</p>
<p>Thirdly that ALL ACTIONS ARE ATOMIC (or fail safe).<br />
Forthly, that an individual subsection can only be in one distinct state at any one time.</p>
<p>Fithly that (apart from under fault) the switch to the next state should be decided by, one input only and it should not be derived from more than one state back.</p>
<p>Sixth, feedback or feed forward should be avoided at all times.</p>
<p>So for each subsection, 1 state machine, with 1 stored state, back 1 state in time only and only 1 input and one output.</p>
<p>Which is in essence a Turing machine or simple finite state automaton.</p>
<p>Importantly it must have fault detection and each and every state must fail safe.</p>
<p>Where ever possible feed back must be avoided as this typicaly magnifies complexity and thus state uncertainty. Feedforward has other issues and likewise should be avoided.</p>
<p>Likewise the interfaces between subsections must be clear and fail safe under fault from either subsection.</p>
<p>Thus the design is in effect one or more &#8220;chains&#8221; where the state of all links (subsections) is known at all times and all faults stop the system in a fail safe mode.</p>
<p>It is possible to build the simple chain system into a &#8220;chain swap&#8221; system. That is a chain can have a selector switch in it that allows groups of links to be independently used of each other.</p>
<p>It sounds like a tough thing to do but surprisingly the result is usually better than all other methods.</p>
<p>The tough bit is either getting rid of feedback or sufficiently isolating it to keep the complexity managable.</p>
<p>But remember,</p>
<p>1, No recursion<br />
2, All actions are atomic or to fail safe fault.<br />
3, No shared state.<br />
4, Interfaces are clocked.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125884">

			<div class="comment by-jahree ">

				<p class="commentcredit">

					<span class="commenter">Jahree</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125884">
						December 6, 2009 7:17 PM					</a>

				</p>

				<p>@TB</p>
<p>BitLocker is ineffective at best with commercial solutions like passware</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125885">

			<div class="comment by-just-say-no-to-lizard-handlers ">

				<p class="commentcredit">

					<span class="commenter">just say no to lizard handlers</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125885">
						December 6, 2009 7:49 PM					</a>

				</p>

				<p>The Security Implications of Windows</p>
<p>There&#8230; fixed that for you.</p>
<p>Can I see the source code?<br />
Can you see the source code?</p>
<p>No<br />
No</p>
<p>Then where do you place your trust?</p>
<p>In a corporation?<br />
In invisible, hidden code you cannot see?<br />
Binary updates you cannot know for sure what they do?<br />
Windows update which may uniquely send your computer based on its unique ID whatever it wants to?<br />
Need I continue?</p>
<p>Make Groklaw your homepage if you feel Windows has any shred of security and is worthy of any degree of your trust.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125886">

			<div class="comment by-packagedblue ">

				<p class="commentcredit">

					<span class="commenter">PackagedBlue</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125886">
						December 6, 2009 8:37 PM					</a>

				</p>

				<p>Ouch, to @ just say no to &#8230;</p>
<p>I&#8217;ll bite on that post, as an OpenBSDer and a no GUI, lynx user for the web.</p>
<p>I hate to defend M$, but productivity is still somewhat tied to M$, especially in corporate worlds, although M$ has hit 7, crap out time, but it will be back someday.</p>
<p>Out of respect for open source, and its amazing progress, it works, but you still need to buy/retain/consult with massive brains/dedication, to still get serious security, that is how bad security really is.  There is a good reason IBM is a monopoly, and linux is given a major pass at what it really is.  Security is a private business and exclusive market.</p>
<p>Besides, what does the chameleon look like in the mirror?   Depends upon who you are, and how you are looking at it, and how it sees you.  That is really what M$ is about in the business world, in my humble m$ disliker opinion.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125889">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125889">
						December 7, 2009 6:54 AM					</a>

				</p>

				<p>@ just say no to lizard handlers,</p>
<p>&#8220;Then where do you place your trust?&#8221;</p>
<p>Most users don&#8217;t put it anywhere, they don&#8217;t even have cause to think about it&#8230;.</p>
<p>Although you are correct that MS is a major corp and supplies closed source OS and Apps and it&#8217;s patches are both closed and often excesive in size.</p>
<p>Does that make it inherantly untrustworthy?</p>
<p>Does it matter?</p>
<p>The simple question is in an unregulated highly competative market why would anybody trust any corp?</p>
<p>As for the supposed alternative &#8220;Open Source&#8221; in it&#8217;s various forms has many disadvantages as well.</p>
<p>For instance any moderatly complicated app is very dependent on the tool chain used to turn the source into executable code. Sadly some coders cut their cloth to the tool chain not the standards. Likewise to the OS. Thus taking the source and getting it to run on an OS can be fraught with complications.</p>
<p>Most users are not sufficiently technicaly minded to do a compile from source which is why Open Source is most often downloaded as a pre compiled binary.</p>
<p>Why should a user trust the package any more or less than one from a major corp?</p>
<p>When Open Source gets what the attackers regard as a significant level of usage I will expect them to concentrate on it as much as they do for high usage closed source code, and not much before that.</p>
<p>MS have improved their game, as can be seen by attackers going after applications from other organisations (Adobe etc). But from this it can be seen that they are still targeting the &#8220;big market&#8221; code which most users can be expected to have.</p>
<p>Info Sec is a funny (not so) old game, trust is not in the game play.</p>
<p>To the attackers it&#8217;s a numbers game. To code developers it&#8217;s always a game of catch up. To most users they care not what the OS is just the app they need to get a job done thus play the game. To geeks and gamers their hobby needs drive their desires and passions so it is a game of love. To observers and industry pundits the basic rules of the game should be obvious. So why do they behave like geeks in their outlook?</p>
<p>Beats me, I can see pros and cons in both camps.</p>
<p>But at the end of the day the majority of people want to get a job done with the minimum of pain and perhaps some pleasure. The attackers know this so that directs their activities not some other more esoteric reason.</p>
<p>Thus trust has little to do with the game.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125890">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125890">
						December 7, 2009 12:25 PM					</a>

				</p>

				<p>@ Clive on 12/07/09 6:54am</p>
<p>Why you even respond to the trolls? Just gives them a reason to keep up flame war attempts. Folks like us know UNIX was worse than NT for first 10-15 years of its life. Crashing constantly, security issues, inconsistent apps, poor exception handling, filesystem corruption, bloat&#8230; the list goes on. Many complaints in the famous UNIX Hater&#8217;s handbook still exist in some form today after almost two decades of work and nearly billion dollars invested. Systems like Multics, IBM zOS, VAX/VMS (esp. with A1 security kernel), and NextStep have little to no problems for most of their lifetime and met their intended goals almost perfectly in eyes of users &amp; admins. Let the kids argue over which toy hacker-bait OS is better while the adults continue to get work done on the boring, mature and rock-solid solutions that worked, are working and will always work. ðŸ˜‰</p>
<p>So, remember: Don&#8217;t respond to trolls. Feedback is to them as good music and beer is to you. I think of trolls like mushrooms: keep them in the dark, feed them shit, and watch them grow up. ðŸ˜‰</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125891">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125891">
						December 7, 2009 12:30 PM					</a>

				</p>

				<p>Ah, three huge posts in one day. It&#8217;s good to see I&#8217;ve got your brain going from 4AM to 7PM. I might have to put this reply in two posts. I&#8217;m just working my way down your points, as before. The master key is a combination of a system generated key and a password-to-key trick via PBKDF2 standard: 256-bit onboard secret key + 256-bit user-supplied secret = 256-bit master key that spawns keys used to do useful shit. If any of these three are lost, all protected data is unrecoverable. This is because I check entropy of inputs (rejecting weak anything) and use SHA-256 extensively. Every mix is a hash instead of XOR so that I have one-way-ness (assuming SHA-256 isn&#8217;t flawed. sighs). The zeroize command deletes the 256-bit onboard secret key, which is necessary to produce proper master key. There is NO recovery function: &#8220;that which we call a&#8221; backdoor, &#8220;by any other name would smell just as&#8221; bitter. ðŸ˜‰ The onboard key is in battery-backed static RAM, with optional redundant cryptocard to protect against whatever. Redundant requires different protocol, so I focus here on 1 card setup. Since I extensively use one-way functions, the loss of ANY 256-bit value should, in theory, make everything unrecoverable. I just assume torture is an option, so zeroize kills onboard key if not in use and if in use onboard and master keys, along with everything else.</p>
<p>I&#8217;m aware of the EM attack: you mentioned it before when we discussed EMSEC. It&#8217;s disturbing, esp. its simplicity &amp; low cost. My design again has no EMSEC protection. Most clients and users don&#8217;t care for it, so if one want it I just shove it in a EMSEC desk-side container. Best I can do. And hopefully when their eyeballs explode they remember what the zeroize button feels like and start pounding it with their fist. ðŸ˜‰</p>
<p>On your second post, you seem mainly concerned about data leakage due to structural information remaining in ciphertext and make a few points about my main claim: encryption w/out key = zeroize. I think the comparison to public key is unfair, as most good block ciphers with decent encryption mode &amp; 128-bit+ key are unbreakable in practice. Blowfish and IDEA have lasted forever, it seems. TrueCrypt supports using two different ciphers, if I choose. As far as HD structure being visible, it all depends on how TrueCrypt is implemented and whether XTS mode is secure. Judging from the content of your second post, I really need to reevaluate these to ensure one of those gotchas isn&#8217;t impairing security. There have been no successful recoveries to date, but that doesn&#8217;t mean there isn&#8217;t a bug waiting to be discovered&#8230;</p>
<p>Remember that mine is inline between two filesystems, not the ATA cable. User writes to virtual NTFS or ext2 filesystem which is transparently encrypted and stored on some other filesystem as ciphertext, with caching done within encryption driver (that I&#8217;m aware of). Several layers, as you suggest, would be better. I&#8217;ll keep that in mind when looking for other options, like maybe using my encryption scheme AND a self-encrypting hard drive w/ password, which maybe only known to my software and erased on zeroized. Application level encryption, stored on encrypted filesystem, on encrypted drive. As fast as everything is, all of this transparent encryption might not even slow things down. So, I might take the defense in depth encryption approach you&#8217;re suggesting.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125892">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125892">
						December 7, 2009 12:36 PM					</a>

				</p>

				<p>On your third post now. You and I seem to have same approach to dealing with safety: introducing manageable complexity that deals with faults and malice. My modular MILS or component architectures are intended for this: each layer represents a self-contained function of useful work, can be independently verified, and then the system (interactions of components) is verified as a whole. I use FSM&#8217;s for some components, but I usually take a functional approach to specify global behavior. With haskell, I can implement it direclty. Looking at your rules, I follow the first three whenever possible. I can&#8217;t say for sure that I do the fourth and fifth without looking at my designs.</p>
<p>As I said, I start with a functional specification. We follow the Galois Inc. and NICTA (L4.verified) methods of creating an executible specification in Literate Haskell. So, I can&#8217;t guarantee only one input effects things because that really wasn&#8217;t our goal during design. In a pure language like Haskel, we are basically defining relationships between input and output using functions. With monads, we can ensure a particular temporal order for certain things, but the overall spec is functional. I guess I try to follow your distinct state and one input rules but I end up finding an occasional (critical) component that requires at least two other components to work. Additionally, since my components communicate via message passing, a certain amount of feedforward and feedback are necessary. This is a side-effect of using pure microkernels or separation kernels, which do everything by message passing. Fortunately, the use of functional programming and the single-process, event model for each component helps us precisely define its behavior under any input. Using this, we can model the interactions at different levels of granularity and try to prevent problems coming from feedback, feedforward or dealing with multiple inputs. I think you&#8217;re suggestion of avoiding them is wise, but I find it difficult to imagine how in an interactive, possibly networked system. You could say the Haskell, modularity, and careful structuring of interactions are my way of coping with this hard reality.</p>
<p>You mention again the maxim on clocking the inputs and the outputs. Remember that this isn&#8217;t a hardware circuit but a series of tasks (event-driven components) running on a microkernel on a COTS processor. The drivers are either native or virtualized linux drivers (no way to avoid). I&#8217;m trying to make sure I understand how I&#8217;d apply your concepts to such a system. I aim for a fixed transmission rate for COMSEC applications and try to prevent clock skew for timestamping, but don&#8217;t really clock anything else right now. As applied to my scheme, which is inlined encryption between filesystems (RAM on left, HD on right), are you saying I should try to ensure a fixed amount of time is taken during encryption process so that key material cant leak? Or do you only apply this maxim to EMSEC issues? Are there any other side channels in a COTS software encryption system that your maxim can apply to? Sorry if I seem confused on it, but your the only person who tells me this. If EMSEC defenses weren&#8217;t usually classified, that would worry me.</p>
<p>Again, I thank you for your responses, past and future. While the design of this scheme prevents certain changes you suggested, I&#8217;ll definitely keep in mind your words on the states, inputs and chains on the next event-driven system I design. I&#8217;m always designing and redesigning, so it shouldn&#8217;t be long. ðŸ™‚ With your permission, I&#8217;m archiving this discussion along with the others like TEMPEST defense&#8230; a series of posts I&#8217;m still struggling to fully understand. ðŸ˜‰</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125894">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125894">
						December 7, 2009 11:51 PM					</a>

				</p>

				<p>@ Nick P,</p>
<p>First off my comment about key space was in refrence to the brute force benchmark, not your system.</p>
<p>It highlights the point that comparing unlike methods is dificult at best and that an underlying asumption can get you a lot of trouble (I&#8217;m also aware that you are possibly not the only person to be reading this ðŸ˜‰</p>
<p>With regards &#8220;clock the inputs and outputs&#8221;, it&#8217;s one of the few ways to stop / choke side channels down.</p>
<p>On the vague assumption everything else is ok with any given system, side channels and data structure are your next two main enemies.</p>
<p>This is because modern encryption such as AES is from the &#8220;current publicaly known art&#8221; is impractical to break (add usual disclaimer ðŸ˜‰</p>
<p>Therefor they are the only practical ways to get a grip on observed encrypted information that has been sent down a shannon channel these days.</p>
<p>And if you think about it the HD is effectivly the gift of a recording of that traffic to the forensic people (but thankfully without time detail).</p>
<p>Also &#8220;clock the inputs and outputs&#8221; is a design maxim for keeping complexity down essentialy the breaking into small functional blocks with &#8220;strictly controled interfaces&#8221; prevents time based side channels between the blocks (a win win which is rare in design, which further sugests it&#8217;s a fundemental requirment 8)</p>
<p>If you do not keep time based channels under control then the system can not only leak information it&#8217;s self it can become transparant to leaks through it.</p>
<p>If you have a hunt around on the web Matt Blaze had a student that demonstrated this via modulating key press times which made it all the way through to the network and could be picked up by passive monitoring of network traffic&#8230;</p>
<p>Time based side channels occure as a side effect of either inherent or induced problems in the design.</p>
<p>This is irespective of if the system is under attack, be it pasively or actively.</p>
<p>Thus you have to assume that each block be it software or hardware is effectivly trying to get a time channel through subsiquent blocks in the chain (oh and it&#8217;s another reason to avoid feed back/forward).</p>
<p>Both inherent or induced channels are going to be there with abundance with COTS hardware and OS&#8217;s simply because they both lack segregation. And they are designed for &#8220;efficiency&#8221; (maximum performance for your buck).</p>
<p>One of my maxims is &#8220;efficiency -v- security&#8221; as a general rule of thumb the more efficient a system is the more likley it is to have time based side channels that can leak information (have a hunt on the web for key leak by cache hits).</p>
<p>So security has to be built in from the start and arguably is not possable on the likes of commodity PC&#8217;s which is why you should always use &#8220;crypto software&#8221; OFF LINE or via a suitable &#8220;air gap&#8221; etc. My prefrence is two seperate boxes as this limits potential &#8220;store and forward&#8221; attacks.</p>
<p>So if data is clocked between blocks the ability to use a time based channel is reduced below the clock rate.</p>
<p>That then only allows an attacker to have a channel based on the clock period by either having data to clock or not having data to clock. If your interface control picks this up and treats it as an error then you further choke down the bandwidth of a potential time based side channel.</p>
<p>Having got one domain (time) for side channels under control you then have other domains to worry about but that is an area that is not yet publicly under investigation as far as I&#8217;m aware.</p>
<p>However also stopping down the time based asspect has a curbing effect on the other domains (frequency, sequency, etc).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125895">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125895">
						December 8, 2009 12:13 AM					</a>

				</p>

				<p>If there are any security engineering students reading that are stuck for &#8220;original&#8221; ideas for a PhD. Project a suggestion for you.</p>
<p>You should be aware that some forms of CDMA are based on DS Spread Spectrum.</p>
<p>You might also be aware that to meet EMC masks a large number of commodity hardware uses spread spectrum to spread the energy of the EMC failing signals (sprogs) across a wider bandwidth and thus drop the level of the sprogs below the mask.</p>
<p>Now if you think about it one amatur InfoSec assumption is that putting a machine with sensitive information inside a group of ordinary machines will mask the signal.</p>
<p>Show how CDMA techniques make that a false assumption. Further show how the use of DS SS on such a machine actually offers a coding gain for TEMPEST.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125897">

			<div class="comment by-ajdin ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://sites.google.com/site/ajdinbrandic/' rel='external nofollow ugc' class='url'>Ajdin</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125897">
						December 9, 2009 5:22 AM					</a>

				</p>

				<p>I use cryptainer le to encrypt my passwords in a spreadsheet.  The other day I unencrypted my file and while doing something the pc crashed.  After restart Open Office offered to recover my last used document and to my supprise it recovered my spreadsheet containing all password. Now cryptainer le wasn&#8217;t running so Open Office must have stored the file in cache some ware.  Is this common?  If Open Office makes an instance of any file I open then I do not need to encrypt my files!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment byuser comment-author-mod even thread-even depth-1" id="comment-125899">

			<div class="comment by-moderator official">

				<p class="commentcredit">

					<span class="commenter">Moderator</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125899">
						December 11, 2009 2:43 PM					</a>

				</p>

				<p>For anyone still paying attention to this thread, note that the anti-Windows comments that keep being posted are all from the same troll, using sockpuppets to agree with himself.  Please ignore them until they&#8217;re removed.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125900">

			<div class="comment by-pierre ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://trustleap.ch/' rel='external nofollow ugc' class='url'>Pierre</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125900">
						December 11, 2009 3:19 PM					</a>

				</p>

				<p>Anyone about OS virtual memory?</p>
<p>Because as long as you read something those &#8216;modern&#8217; operating systems are caching like mad cows -without any (technical) reason (plenty of untapped RAM).</p>
<p>Also, anyone about OS file indexing?</p>
<p>Why the hell is this feature opt-out?</p>
<p>Finally, anyone about antivirus scanning?</p>
<p>Yes, they index your disk &#8216;to find changes faster&#8217;.</p>
<p>Let&#8217;s face it, too many persons are so in love with your <em>personal</em> data that they take care of it on your behalf.</p>
<p>It might help -in case you want to retrieve a file mistakingly erased&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125901">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125901">
						December 11, 2009 11:39 PM					</a>

				</p>

				<p>@ Pierre</p>
<p>It&#8217;s kind of simple. Bruce and others have covered this stuff before. <em>They</em> who design most systems focus on what users want, which is mainly productivity and performance. Security and privacy have always been discretionary and privacy has always come last. That users have been conditioned in recent years to accept a continuous infect-patch cycle doesn&#8217;t help.</p>
<p>@ Clive</p>
<p>I appreciate your peer review of my instantly erasable system design. Overall, I take it you find no trouble with architectural and software design. The main potential and actual weak spots you&#8217;ve found are possibly incorrect drive-level assumptions made by inline software, hardware side channels, and potential timing channels. Personally, I don&#8217;t find these weaknesses bad: they are a small attack surface with very sophisticated skills required. I&#8217;ll continue to look into those problem areas and try to identify improvements, but I know from government R&amp;D that one can never get rid of all covert channels: only reduce bandwidth.</p>
<p>Nice idea on the Ph.D. project. For me, I guess I&#8217;m focused on dependable distributed systems, where distributed might mean logical or physical separation. I think I&#8217;ll focus less on novelty than simply implementing old ideas correctly. Considering the defect rate in modern software, one should be able to earn a Ph.D. implementing a bunch of medium assurance real world software (e.g. a non-exploitable LAMP stack for web apps). Too bad. I guess I shall have no Ph.D., but I will have the satisfaction of making useful stuff. Personally, I&#8217;d like to see more medium to high assurance open-source projects, esp. BSD license. Then, corporations would use it in their own code and we&#8217;d all benefit.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125902">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125902">
						December 12, 2009 11:24 AM					</a>

				</p>

				<p>@ Nick P,</p>
<p>&#8220;I guess I shall have no Ph.D., but I will have the satisfaction of making useful stuff.&#8221;</p>
<p>Yup and you&#8217;ll be in good company. I&#8217;m not realy sure what a Ph.D. Offers people these days (outside of Academia).</p>
<p>I guess it falls down to the old &#8216;Viva le Diff&#8217; between engineers and scientists ðŸ˜‰</p>
<p>&#8216;Scientists are people that look for problems by which to improve mankinds knowledge. Engineers are people that look for solutions by which to improve mankinds lot&#8217;.</p>
<p>Me I&#8217;m on the side of the engineers it&#8217;s more fun getting things done than it is to &#8216;publish or perish&#8217;.</p>
<p>&#8220;Personally, I&#8217;d like to see more medium to high assurance open-source projects&#8221;</p>
<p>Yup then people would start to see what properly writen code should look like. And hopefully stop chasing the wrong metrics&#8230;</p>
<p>A case in point &#8211; I once told a bunch of software engineers that I had to manage that there was a fixed pot of money for their Xmas bonus and it would be distributed based on three things only, to be eligable they had to meet their agreed time projections, then they would get points for each bug they posted they found in somebody elses code and lose double the points if a found bug was down to them and the pot would be split pro rata on points earned&#8230;</p>
<p>The bod that walked away with just under 60% of the pot (the team size was fifteen developers and two team leaders) was an old hardware engineer who used &#8216;Z&#8217; and had previously only received a very small bonus because their previous manager counted lines/day written (and slurping up ego boosting).</p>
<p>For some strange reason my office door saw less traffic, and the high productivity code cutters (who got little bonus) left by March and where not missed by the team. Their deliverable times actualy dropped by around 15% with on target up by over 300% when I moved on the following August (I&#8217;m told their bonus pot went up by only 10% which was a shame they deserved better).</p>
<p>&#8220;esp. BSD license. Then, corporations would use it in their own code and we&#8217;d all benefit.&#8221;</p>
<p>I&#8217;m marginaly in favour of some of the other Open Source licences because I&#8217;m old fashioned and like &#8220;the body of knowledge&#8221; to improve under peer review as every bodies boat floats that little bit higher (it used to be normal in tangable engineering to do this).</p>
<p>However due to intangable &#8220;zero copy cost&#8221; I can understand why more traditional businesses would prefer the BSD licence. And there are some occasions it has other advantages (I&#8217;ve used it myself for &#8220;licence manager&#8221; systems).</p>
<p>As for your system, it sounds like you have a good idea of what you want to acheive (always good ðŸ˜‰ and importantly how to get there by an &#8220;engineering&#8221; aproach.</p>
<p>There may be other gotchers in there, then again there may not.</p>
<p>When they let me out of this hospital I&#8217;ll sit down with a large pot of tea and draw it out and have a proper look at it 8)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125903">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125903">
						December 12, 2009 1:38 PM					</a>

				</p>

				<p>Ah, you put a price on quality for the developers. Yes, that seems to be the only way to get it these days. And yes I prefer adding to body of knowledge (GPL-style), but it&#8217;s not compatible with capitalism. If I think I&#8217;d be better off with company&#8217;s exploiting particular work of mine, such as a rock-solid firewall, then I prefer BSD for that work. OpenBSD is a good example of this philosophy, which is why their OS and tools (OpenSSH &amp; OpenSSL) replaced crummy alternatives all over the world. BSD allows a good idea to penetrate businesses w/out restrictions. No guarantees: just greater assurance. ðŸ˜‰</p>
<p>Sorry to hear about you being stuck in the hospital. Seems like you&#8217;ve been saying that for quite a while now. Hope you get out. Don&#8217;t bother drawing out my scheme, though, unless you are thinking of using it yourself. I was getting feedback on the original for use in making the next one. I&#8217;m not 100% confident that RAM-based Linux doesn&#8217;t touch a disk &amp; that the driver <em>only</em> talks to my coprocessor. There&#8217;s just too much complexity. I&#8217;m creating a new design built on the MILS architecture I espouse to increase isolation and I&#8217;m going to try to implement it on OKL4 or QNX Secure Kernel. If I get over my own recent problems, mostly financial (frackin&#8217; recessions&#8230;), then I&#8217;ll start designing/building it and let you draw <em>that</em> out.</p>
<p>Before I build that, though, I&#8217;ll be building a few medium assurance dedicated appliances: Tor; high assurance text/VOIP chat; firewall/vpn appliance on OpenBSD (been done before, but not by moi); truly isolated, but convenient, web browsing using dedicated cheap 2nd PC, OpenBSD gateway for sharing and KVM switch. If you want to review any of these when built, perhaps for personal use, just ask and you&#8217;ll get it free of charge. ðŸ˜‰</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125904">

			<div class="comment by-packagedblue ">

				<p class="commentcredit">

					<span class="commenter">PackagedBlue</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125904">
						December 14, 2009 1:05 PM					</a>

				</p>

				<p>I wish OpenSSL was done by the OpenBSD team.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125905">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125905">
						December 14, 2009 1:10 PM					</a>

				</p>

				<p>@ kraloyun</p>
<p>You cut and pasted my first paragraph into your own post. Was there something you meant to add?</p>
<p>@ PackagedBlue</p>
<p>Yeah, that would be ideal. Personally, I&#8217;d like to see it even more low-level: OpenBSD team developing a Botan- or Crypto++-style library. I&#8217;ve found that security-critical, real-world applications strongly depend on relatively few components to maintain security properties. Usually compression, networking, crypto, storage, XML parsing, etc. If these things are correct, then the application&#8217;s overall security improves. I&#8217;d like to see the OpenBSD team build rock-solid versions of these, which we could then put in many OS&#8217;s or applications. It would be a few million lines of source in all, but I think it would be worth the effort to shore up the trusted computing base.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125906">

			<div class="comment by-kraloyun ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.sal10.net' rel='external nofollow ugc' class='url'>kraloyun</a></span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125906">
						December 22, 2009 3:23 PM					</a>

				</p>

				<p>Yeah, that would be ideal. Personally, I&#8217;d like to see it even more low-level: OpenBSD team developing a Botan- or Crypto++-style library. I&#8217;ve found that security-critical, real-world applications strongly depend on relatively few components to maintain security properties. Usually compression, networking, crypto, storage, XML parsing, etc. If these things are correct, then the application&#8217;s overall security improves. I&#8217;d like to see the OpenBSD team build rock-solid versions of these, which we could then put in many OS&#8217;s or applications. It would be a few million lines of source in all, but I think it would be worth the effort to shore up the trusted computing base.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125907">

			<div class="comment by-gongcho ">

				<p class="commentcredit">

					<span class="commenter">gongcho</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125907">
						December 26, 2009 6:43 AM					</a>

				</p>

				<p>This of course, is entirely of the point.. and in fact, Clive and Nick have had great interesting contributions.. but just for the record Clive&#8230; To be someone so knowledgable in some certain fields, your spelling abilities are absolutely appalling ðŸ˜®</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-125909">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125909">
						December 26, 2009 4:58 PM					</a>

				</p>

				<p>@ gongcho,</p>
<p>&#8220;To be someone so knowledgable in some certain fields, your spelling abilities are absolutely appalling :o&#8221;</p>
<p>Unfortunatly I&#8217;m somewhat dsylexic which I&#8217;ve been told (over 40 years ago) is a side effect of something strange in the way my nervous system is not cross wired in the usual way. What the modern diagnosis would be I have no idea.</p>
<p>What I do know is that it got one heck of a sight worse when I was attacked on the way to work one morning back in 2000 and had my head karata kicked into a post supporting a road sign by a college student.</p>
<p>This resulted in amongst other injuries a full fracture of the lower jaw right on the point of the chin. I was told by the maxiofacial surgeon that it is the hardest bone in the body to be broken in that way and was extreamly rare on people who are still alive.</p>
<p>To add to the fun it developed significant complications and a serious infection resulting in repeated surgury, which on one occasion I woke up half way through (which is realy good for waking in a cold sweat every few days).</p>
<p>There has also been other damage resulting in all sorts of interesting physiological medical problems including difficulties with sleeping, migrain like head aches, memory loss and other symptoms similar to mini strokes, proneness to debilitating sinus and inner ear infections, loss of taste, teeth and properly working saliva systems, and most unfortunate of all occasional loss of conciousness on excertion for no redaly apparent medical reason.</p>
<p>All of which is a bit anoying at the best of times.</p>
<p>Unfortunatly due to this I spend a lot of time under the less than tender administrations of the UK&#8217;s National Health System. One way or another they have managed to give me a couple of DVT&#8217;s and PE&#8217;s with the result I now have to eat rat poison every day.</p>
<p>The other side effect is having to access the Internet through a little mobile phone when the nurses etc are not looking (otherwise in some NHS hospitals they take it off you as a &#8220;valuble&#8221; or &#8220;prohibited item&#8221; and lock it up untill you are discharged 8(</p>
<p>You can not use a laptop or note book because you are not allowed to plug it in to charge (officialy because it&#8217;s not been safety tested by a hospital electrician&#8230;)</p>
<p>However ypu can pay the equivlent of 5USD/day to use a bed side system where you pay the equivalent of 1USD/minute to make or receive phone calls. And the last time I tried some exhorbitant rate to access the Internet with full &#8220;kiddy lock&#8221; on which prevents access to this and most other blogs etc (and most Google searches).</p>
<p>Unfortunatly the mobile I have does not have a built in spell checker. I&#8217;m waiting for a reasonably good Android phone with a browser with built in spell checker to replace this out of contract phone.</p>
<p>When I do the spelling issue will go away and will probably be replaced by some other problem (such as effect/affect of/off etc ðŸ˜‰</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-125910">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> â€¢

					<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/#comment-125910">
						December 28, 2009 5:42 PM					</a>

				</p>

				<p>@ gongcho</p>
<p>Thanks for noticing. ðŸ˜‰ The point of the blog, aside from showing off Clive&#8217;s mastery of grammar, is producing good ideas on many different issues. Glad you&#8217;re having fun. ðŸ˜‰</p>
<p>@ Clive</p>
<p>Holy shi-ite! That explains why you seem to be in the hospital all the time and why you insist on using a mobile phone for internet. Wish you the best on recovery, friend. Perhaps one day you will be able to type those insightful posts while making full use of Word&#8217;s spellchecking capabilities. I think I should have bought you a copy of OpenOffice for Christmas. You&#8217;re worth the money. ðŸ˜›</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2009/12/the_security_im.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2009/12/the_security_im.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2009%2F12%2Fthe_security_im.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2009/12/the_security_im.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='3149' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2009/12/fingerprinting_3.html" rel="prev">â† Fingerprinting RFID Chips</a>		<a href="https://www.schneier.com/blog/archives/2009/12/sprint_provides.html" rel="next">Sprint Provides U.S. Law Enforcement with Cell Phone Customer Location Data â†’</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
