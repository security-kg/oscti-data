<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google-site-verification" content="RHQeasQqjasbRt5asY6atZYbs5tr10gFBevDt2HRhW0" />
<link rel="pingback" href="https://nakedsecurity.sophos.com/xmlrpc.php">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5VK6LTK');</script>
<!-- End Google Tag Manager -->

<meta name="description" content="NetBSD recently patched a programming bug in its kernel that affected the sanctity of the operating system&#039;s random numbers. One lousy parenthesis misplaced by just two characters..." />
<meta name="keywords" content="cryptography, bug, entropy, netbsd, prng, random, randomness" />
<title>Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers &#8211; Naked Security</title>
<meta name='robots' content='max-image-preview:large' />
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="I9dHFo-YhnK2MfAHn-20V4GnWrOttVUYyISGamyU41M" />
<meta name="msvalidate.01" content="7D8D1FA2892142B1543D2CBCD07FB88F" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//v0.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Naked Security &raquo; Feed" href="https://nakedsecurity.sophos.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Naked Security &raquo; Comments Feed" href="https://nakedsecurity.sophos.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Naked Security &raquo; Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers Comments Feed" href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/feed/" />
<link rel='stylesheet' id='all-css-0' href='https://nakedsecurity.sophos.com/_static/??-eJyVz00KwjAQhuELmUwqttCFeJY0GUw0f2QmlN6+KXbnRpcD7wPfwFqETyY0iwSGCKwnhiVk8xbBL1XXDYi3gDL6JHtwgS5MToyJgR3G7igXlynhSuKqhvEE/8QiaEbiX80xVFvJrqJm4VqPq9SxfPnYRAnt6RPBC7no/tUsP/68D/KI92Eaxtuk1Kx2dxVjDA==' type='text/css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify{text-align:justify;}
</style>
<script type='text/javascript' src='https://nakedsecurity.sophos.com/_static/??-eJzTLy/QzcxLzilNSS3WzwKiwtLUokoopZebmaeXVayjj0+Rbm5melFiSSpUsX2uraGZoamxkaGpqXEWAK9AIhg='></script>
<link rel="https://api.w.org/" href="https://nakedsecurity.sophos.com/wp-json/" /><link rel="alternate" type="application/json" href="https://nakedsecurity.sophos.com/wp-json/wp/v2/posts/222609" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://nakedsecurity.sophos.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://nakedsecurity.sophos.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.7" />
<link rel="canonical" href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/" />
<link rel='shortlink' href='https://nakedsecurity.sophos.com/?p=222609' />
<link rel="alternate" type="application/json+oembed" href="https://nakedsecurity.sophos.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnakedsecurity.sophos.com%2F2013%2F04%2F01%2Fanatomy-of-a-bug-misplaced-parenthesis-in-netbsd%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://nakedsecurity.sophos.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnakedsecurity.sophos.com%2F2013%2F04%2F01%2Fanatomy-of-a-bug-misplaced-parenthesis-in-netbsd%2F&#038;format=xml" />
<style type='text/css'>img#wpstats{display:none}</style><link rel="amphtml" href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/amp/">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers" />
<meta property="og:url" content="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/" />
<meta property="og:description" content="NetBSD recently patched a programming bug in its kernel that affected the sanctity of the operating system&#8217;s random numbers. One lousy parenthesis misplaced by just two characters&#8230;" />
<meta property="article:published_time" content="2013-04-01T15:54:11+00:00" />
<meta property="article:modified_time" content="2013-04-03T16:41:55+00:00" />
<meta property="og:site_name" content="Naked Security" />
<meta property="og:image" content="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?w=250" />
<meta property="og:image:secure_url" content="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?w=250" />
<meta property="og:image:width" content="250" />
<meta property="og:image:height" content="250" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@NakedSecurity" />
<meta name="twitter:text:title" content="Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers" />
<meta name="twitter:image" content="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?w=144" />
<meta name="twitter:card" content="summary" />
<meta property="fb:admins" content="28552295016" />

<!-- End Jetpack Open Graph Tags -->
<link rel="icon" href="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2020/03/cropped-sophos.png?w=32" sizes="32x32" />
<link rel="icon" href="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2020/03/cropped-sophos.png?w=192" sizes="192x192" />
<link rel="apple-touch-icon" href="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2020/03/cropped-sophos.png?w=180" />
<meta name="msapplication-TileImage" content="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2020/03/cropped-sophos.png?w=270" />
</head>
<body class="post-template-default single single-post postid-222609 single-format-standard" >
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VK6LTK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div style="display: none">
<svg>
	<symbol id="sophos" viewBox="0 0 132 24">
		<path d="m111.82 22.176h11.64c3.267 0 4.65-0.2 5.74-0.896 1.715-1.063 2.804-3.26 2.804-5.62 0-1.928-0.658-3.89-1.647-4.888-1.288-1.33-3.035-1.828-6.271-1.828h-3.527c-1.586 0-2.754-0.067-3.412-0.365-0.794-0.367-1.256-1.165-1.256-2.161 0-1.165 0.56-2.03 1.486-2.264 0.692-0.163 1.498-0.163 3.574-0.198h10.419v-3.956h-11.473c-2.574 0-3.727 0.099-4.718 0.466-2.279 0.796-3.828 3.257-3.828 6.083 0 1.93 0.76 3.727 2.079 4.89 1.155 0.996 2.872 1.462 5.51 1.462h4.697c1.057 0 1.915 0.132 2.376 0.398 0.893 0.433 1.418 1.328 1.418 2.36 0 0.864-0.395 1.597-1.087 2.027-0.561 0.369-1.517 0.534-3.268 0.534h-11.256zm-111.35 0h11.64c3.267 0 4.652-0.2 5.741-0.896 1.714-1.063 2.803-3.26 2.803-5.62 0-1.928-0.66-3.89-1.65-4.888-1.285-1.33-3.034-1.828-6.27-1.828h-3.527c-1.584 0-2.751-0.067-3.41-0.365-0.792-0.367-1.253-1.165-1.253-2.161 0-1.165 0.56-2.03 1.484-2.264 0.693-0.163 1.496-0.163 3.574-0.198h10.42v-3.956h-11.477c-2.573 0-3.727 0.099-4.715 0.466-2.278 0.796-3.83 3.257-3.83 6.083 0 1.93 0.762 3.727 2.08 4.89 1.155 0.996 2.871 1.462 5.51 1.462h4.696c1.057 0 1.913 0.132 2.377 0.398 0.888 0.433 1.416 1.328 1.416 2.36 0 0.864-0.394 1.597-1.089 2.027-0.558 0.369-1.517 0.534-3.264 0.534h-11.256v3.956zm94.05-16.18c-0.68 1.076-1.003 2.803-1.003 5.122 0 5.088 1.747 7.405 5.63 7.405 3.822 0 5.568-2.317 5.568-7.34 0-5.092-1.715-7.373-5.568-7.373-2.102 0-3.754 0.784-4.627 2.186zm13.174-2.511c1.329 1.761 2.072 4.63 2.072 7.992 0 3.816-1.197 6.948-3.334 8.677-1.619 1.304-4.078 2.022-6.995 2.022-4.142 0-7.41-1.372-9.092-3.817-1.263-1.793-1.88-4.176-1.88-7.08 0-4.172 1.133-7.339 3.27-9.035 1.682-1.37 4.339-2.122 7.383-2.122 3.85 0 6.925 1.209 8.576 3.363zm-22.018-3.068h-4.596v8.908h-8.319v-8.908h-4.597v21.759h4.597v-8.97h8.318v8.97h4.596v-21.759zm-28.61 10.277c1.23 0 1.941-0.163 2.427-0.62 0.581-0.49 0.938-1.533 0.938-2.74 0-1.436-0.58-2.478-1.584-2.838-0.356-0.13-0.94-0.197-1.684-0.197h-6.344v6.395zm-6.247 11.481h-4.598v-21.758h10.78c3.786 0 5.114 0.39 6.538 1.991 1.264 1.37 1.942 3.163 1.942 5.088 0 2.284-0.904 4.404-2.394 5.676-1.262 1.077-2.43 1.402-4.888 1.402h-7.38zm-22.589-16.179c-0.682 1.076-1.004 2.803-1.004 5.122 0 5.088 1.748 7.405 5.634 7.405 3.818 0 5.568-2.317 5.568-7.34 0-5.092-1.716-7.373-5.568-7.373-2.106 0-3.757 0.784-4.63 2.186zm13.174-2.511c1.328 1.761 2.073 4.63 2.073 7.992 0 3.816-1.2 6.948-3.335 8.677-1.618 1.304-4.079 2.022-6.993 2.022-4.144 0-7.413-1.372-9.096-3.817-1.264-1.793-1.878-4.176-1.878-7.08 0-4.172 1.133-7.339 3.272-9.035 1.681-1.37 4.337-2.122 7.38-2.122 3.851 0 6.93 1.209 8.578 3.363z"></path>
	</symbol>
	<symbol id="twitter" viewBox="0 0 24 24">
 		<path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path>
 	</symbol>
	<symbol id="facebook" viewBox="0 0 24 24">
 		<path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path>
 	</symbol>
	<symbol id="instagram" viewBox="0 0 24 24">
		<path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path>
	</symbol>
	<symbol id="linkedin" viewBox="0 0 24 24">
		<path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path>
	</symbol>
	<symbol id="rss" viewBox="0 0 24 24">
		<path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"></path>
	</symbol>
	<symbol id="reddit" viewBox="0 0 24 24">
		<path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"></path>
	</symbol>
</svg>
</div>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	
	<header id="masthead" class="site-header variation variation-3" role="banner">
		<div class="header-container">
			<div class="site-branding">
				<div class="site-title">
					<a title="Naked Security" href="https://nakedsecurity.sophos.com/" rel="home"><img src="https://nakedsecurity.sophos.com/wp-content/themes/sophosnews-2015/img/naked-security-logo-white@2x.png"></a>
					by
					<a title="sophos.com" href="https://www.sophos.com"><svg viewBox="0 0 132 24" class="icon sophos"><use xlink:href="#sophos"></use></svg></a>
				</div>
			</div><!-- .site-branding -->
			<nav id="site-navigation" class="main-navigation" role="navigation">
				<div class="container">
					<ul id="menu-variation-two" class="exit-links menu"><li id="menu-item-436509" class="products menu-item menu-item-type-custom menu-item-object-custom menu-item-436509"><a href="#">Products</a></li>
<li id="menu-item-436515" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-436515"><a href="https://www.sophos.com/en-us/products/free-tools.aspx">Free Tools</a></li>
<li id="menu-item-436531" class="search-toggle menu-item menu-item-type-custom menu-item-object-custom menu-item-436531"><a href="#">Search</a></li>
<li id="menu-item-436532" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-436532"><a href="https://home.sophos.com/en-us.aspx">Free Sophos Home</a></li>
</ul>				</div>
			</nav><!-- #site-navigation -->
			<div class="site-search-block">
	<form target="_top" role="search" class="search-form" method="get" action="https://nakedsecurity.sophos.com/">
        <fieldset>
            <div class="field">
				<input type="search" value="" name="s" class="search-field" placeholder="Search naked security...">
            </div>
            <div class="submit">
				<button type="submit" class="search-submit button">Go</button>
            </div>
        </fieldset>
    </form>
</div>
		</div><!-- .container -->
	</header>

	<div class="responsive-flyout-panel small-12 column active" style="opacity: 1; display: none;">
		<div class="modal-filler"></div>
	    <div class="productNavBox">
	        <div class="productNavContainer">
	            <div class="row prodRow">
	                <div class="prodListBox column large-9">
	                    <div class="row margin-0 highlightProduct">
	                        <div class="column medium-6">
	                            <a href="https://www.sophos.com/products/next-gen-firewall.aspx"><img src="https://www.sophos.com/medialibrary/2F4785DE8C3F43ECBD699A18F332FEEB.ashx">
	                                <div class="menu-section-header">
										<div class="menu-section-title">XG Firewall</div>
	                                	<div class="menu-section-subtitle">Next-Gen Firewall</div>
									</div>
	                            </a>
	                        </div>
	                        <div class="column medium-6">
	                            <a href="https://www.sophos.com/products/intercept-x.aspx"><img src="https://www.sophos.com/medialibrary/27111765D65A45D49A232925D2CE428B.ashx">
	                                <div class="menu-section-header">
										<div class="menu-section-title">Intercept X</div>
	                                	<div class="menu-section-subtitle">Next-Gen Endpoint</div>
									</div>
	                            </a>
	                        </div>
	                    </div>
	                    <div class="productList">
	                        <ul>
								<li>
									<a href="https://www.sophos.com/en-us/products/cloud-optix.aspx"><img src="https://www.sophos.com/medialibrary/SophosNext/Images/Products/Icons/sophos-cloud-optix-icon.svg">Sophos Cloud Optix</a>
								</li>
	                            <li>
	                                <a href="https://www.sophos.com/products/sophos-central.aspx"><img src="https://www.sophos.com/medialibrary/08EA66123F1B4DDE8FE5C9B578A7FAA7.ashx">Sophos Central</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/mobile-control.aspx"><img src="https://www.sophos.com/medialibrary/678FE994855047739F50D6C411184FA6.ashx">Sophos Mobile</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/server-security.aspx"><img src="https://www.sophos.com/medialibrary/01B80E7D7CD54EF8AC2E51C9C6EC0236.ashx">Intercept X for Server</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/secure-wifi.aspx"><img src="https://www.sophos.com/medialibrary/BEBD9C41BB4E480498514B29B92A145A.ashx">Secure Wi-Fi</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/phish-threat.aspx"><img src="https://www.sophos.com/medialibrary/DC9D1A7BA3964B0C9DAF1F1E68806B5A.ashx">Phish Threat</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/safeguard-encryption.aspx"><img src="https://www.sophos.com/medialibrary/8F51F06B62814B108D3B2763FF018E37.ashx">SafeGuard Encryption</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/sophos-email.aspx"><img src="https://www.sophos.com/medialibrary/597ADA0AF01A4A12B2B27239D0F9992C.ashx">Secure Email</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/unified-threat-management.aspx"><img src="https://www.sophos.com/medialibrary/8CB72BF5E1AD41F7894CE5E42101B0F3.ashx">SG UTM</a>
	                            </li>
	                            <li>
	                                <a href="https://www.sophos.com/products/secure-web-gateway.aspx"><img src="https://www.sophos.com/medialibrary/C586E372694547A1B207A61D87246BA7.ashx">Secure Web Gateway</a>
	                            </li>
	                        </ul>
	                    </div>
	                </div>
	                <div class="homeUserBox column large-3">
						<img src="https://www.sophos.com/medialibrary/3376DF5742A64AEE93FDB9DCA7291239.ashx">
						<div class="menu-section-title">For Home Users</div>
	                    <p>Sophos Home protects every Mac and PC in your home </p><a href="https://home.sophos.com/" target="_blank" class="greenSmallMenuBtn">Learn More</a>
					</div>
	            </div>
	            <div class="row blueRow">
	                <div class="column large-3 medium-6">
	                    <a href="https://www.sophos.com/products/free-tools.aspx"><img width="19" src="https://www.sophos.com/medialibrary/A1FF440D2BB84511B8C94D771D44E207.ashx">Free Security Tools</a>
	                </div>
	                <div class="column large-3 medium-6">
	                    <a href="https://www.sophos.com/products/free-trials.aspx"><img width="20" src="https://www.sophos.com/medialibrary/FCD3410ED2C347808D9DB8AC12C62DBD.ashx">Free Trials</a>
	                </div>
	                <div class="column large-3 medium-6">
	                    <a href="https://www.sophos.com/products/demos.aspx"><img width="18" src="https://www.sophos.com/medialibrary/50985180E5F54C94917A2A6508E24287.ashx">Product Demos</a>
	                </div>
	                <!-- <div class="column large-3 medium-6">
	                    <a href="javascript:fairfax.openLiveChatFromFlyoutLink();" class="flyout-live-chat-link"><img width="20" src="https://www.sophos.com/medialibrary/E24C5050837145F6A5C592E299BA2A0D.ashx">Live Sales Chat</a>
	                </div> -->
	            </div>
	        </div>
	    </div>
	</div>
	<script>

	jQuery(document).ready( function () {
		var productButton   = jQuery('nav .menu-item.products');
		var modalBackground = jQuery('.modal-filler');
		var flyoutMenu		= jQuery('.responsive-flyout-panel');
		var Sophos			= Sophos || {};

		Sophos.MenuTest = {};

		Sophos.MenuTest.open = function () {
				productButton.addClass('open');
				flyoutMenu.show();
				modalBackground.show();
		};

		Sophos.MenuTest.close = function () {
			productButton.removeClass('open');
			flyoutMenu.hide();
			modalBackground.hide();
		};

		Sophos.MenuTest.toggle = function () {
			if ( productButton.hasClass('open') ) {
				Sophos.MenuTest.close();
			} else {
				Sophos.MenuTest.open();
			}
		};

		productButton.click( Sophos.MenuTest.toggle );
		modalBackground.click( Sophos.MenuTest.close );
	});

	</script>

	
	<section class="about-panel">
	<div class="container">
	<div class="panel-content ">

		<div class="description"><span>Have you listened to our podcast? <a href="/podcast/">Listen now</a></span></div>

	</div> <!-- .panel-container -->
	</div> <!-- .container -->
	</section> <!-- .panel -->

	
	<div id="content" class="site-content">
		<div class="content-container">

</div> <!-- .container -->
</div> <!-- #content -->


	<section class="content-panel">
	<div class="container">
	<div class="panel-content framed-content-area">

		<main id="main" class="site-main" role="main">

	
		
<article id="post-222609" class="post-222609 post type-post status-publish format-standard has-post-thumbnail hentry category-cryptography category-featured tag-bug tag-entropy tag-netbsd tag-prng tag-random tag-randomness">

	<header class="entry-header">
		<h1 class="entry-title">Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers</h1>		<div class="entry-meta">
			<div>
				
	<span class="entry-published">
		<time class="entry-date published" datetime="2013-04-01T16:54:11+01:00">01 Apr 2013</time>
	</span>

					<a href="#comments" class="comment-box">
					<span class="count">23</span>
				</a>
					
	<span class="entry-categories">
	<a href="https://nakedsecurity.sophos.com/category/cryptography/">Cryptography</a>	</span>

			</div>
	</header> <!-- .entry-header -->

    <div id="newsletter-signup" class="container top"></div>

			<div class="entry-featured-image">
			<img width="250" height="250" src="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?w=250&amp;h=250&amp;crop=1" class="attachment-hero-thumbnail size-hero-thumbnail wp-post-image" alt="" loading="lazy" srcset="https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png 250w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=150,150 150w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=225,225 225w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=70,70 70w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=32,32 32w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=50,50 50w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=64,64 64w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=96,96 96w, https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2013/04/random-250.png?resize=128,128 128w" sizes="(max-width: 250px) 100vw, 250px" />					</div> <!-- .entry-featured-image -->
		
		<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>

		<div class="nav-links">
			<div class="nav-previous"><a href="https://nakedsecurity.sophos.com/2013/04/01/monday-review-the-hot-13-stories-of-the-week/" rel="prev"><span class="nav-label">Previous</span><span class="nav-seperator">:</span><span class="nav-title"> Monday review &#8211; the hot 13 stories of the week</span></a></div><div class="nav-next"><a href="https://nakedsecurity.sophos.com/2013/04/01/rude-password-login-denied-the-att-april-fool-that-wasnt/" rel="next"><span class="nav-label">Next</span><span class="nav-seperator">:</span><span class="nav-title"> &#8220;Rude password &#8211; login denied&#8221;: the AT&amp;T April Fool that wasn&#8217;t</span></a></div>		</div>
		<!-- .nav-links -->
	</nav><!-- .navigation -->
	
	<div class="entry-content">
		<div class="entry-prefix">
			<div class="entry-author">
				
	
					<span class="by">by</span>
			<a href="https://nakedsecurity.sophos.com/author/paul-ducklin/" title="Posts by Paul Ducklin" class="author url fn" rel="author">Paul Ducklin</a>		
	
				</div>
			<div class="entry-sharing">
				
	<ul class="block social share">
		<li class="facebook"><a href="https://www.facebook.com/share.php?u=https%3A%2F%2Fnakedsecurity.sophos.com%2F2013%2F04%2F01%2Fanatomy-of-a-bug-misplaced-parenthesis-in-netbsd%2F&title=Anatomy+of+a+bug+%E2%80%93+misplaced+parenthesis+threatens+NetBSD%E2%80%99s+random+numbers" data-title="Anatomy of a bug ‚Äì misplaced parenthesis threatens NetBSD‚Äôs random numbers" title="Share on Facebook"><svg style="height: 20px;" viewBox="0 0 100 100" class="icon facebook"><use xlink:href="#facebook"></use></svg></a></li>
		<li class="twitter"><a href="https://twitter.com/intent/tweet?text=Anatomy+of+a+bug+%E2%80%93+misplaced+parenthesis+threatens+NetBSD%E2%80%99s+random+numbers+https%3A%2F%2Fnakedsecurity.sophos.com%2F%3Fp%3D222609" data-title="Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers" title="Share on Twitter"><svg style="height: 20px;" viewBox="0 0 100 100" class="icon twitter"><use xlink:href="#twitter"></use></svg></a></li>
		<li class="linkedin"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fnakedsecurity.sophos.com%2F2013%2F04%2F01%2Fanatomy-of-a-bug-misplaced-parenthesis-in-netbsd%2F&title=Anatomy+of+a+bug+%E2%80%93+misplaced+parenthesis+threatens+NetBSD%E2%80%99s+random+numbers" data-title="Anatomy of a bug ‚Äì misplaced parenthesis threatens NetBSD‚Äôs random numbers" title="Share on LinkedIn"><svg style="height: 20px;"  viewBox="0 0 100 100" class="icon linkedin"><use xlink:href="#linkedin"></use></svg></a></li>
		<li class="reddit"><a href="https://reddit.com/submit/?url=https%3A%2F%2Fnakedsecurity.sophos.com%2F2013%2F04%2F01%2Fanatomy-of-a-bug-misplaced-parenthesis-in-netbsd%2F&title=Anatomy+of+a+bug+%E2%80%93+misplaced+parenthesis+threatens+NetBSD%E2%80%99s+random+numbers" title="Share on Reddit"><svg style="height: 20px;"  viewBox="0 0 100 100" class="icon reddit"><use xlink:href="#reddit"></use></svg></a></li>

			</ul>

				</div>
		</div>
		<p><img loading="lazy" src="http://news-sophos.go-vip.net/wp-content/uploads/sites/2/2013/04/random-170.png" width="170" height="170" align="right" hspace="10"></img>Oh, frailty, thy name (with apologies to [William {The Bard}] Shakespeare) is parenthesis.</p>
<p>What a difference a misplaced <a href="http://en.wikipedia.org/wiki/Bracket" rel="nofollow">bracket</a> makes!</p>
<p>As our friends at The Register <a href="http://www.theregister.co.uk/2013/03/26/netbsd_crypto_bug/" rel="nofollow">reported</a> last week, the NetBSD coders recently patched a programming bug in their kernel that affected the sanctity of the operating system&#8217;s random numbers.</p>
<p>And, as we have <a href="http://nakedsecurity.sophos.com/2011/11/07/randomness-in-cryptography-the-devils-in-the-details/">explored</a> before on Naked Security, <a href="http://nakedsecurity.sophos.com/2013/01/23/crypto-critics-take-on-kim-dotcom-and-mega6/">good quality</a> random numbers are a <a href="http://nakedsecurity.sophos.com/2012/02/17/researchers-take-another-crack-at-ssl/">vital aspect</a> of modern computing.</p>
<p>In particular, cryptography requires random numbers that are not only random (meaning that there is no bias towards ones or zeros in the bits that appear), but also unpredictable (meaning that you can&#8217;t guess what comes next even if you have an extensive collection of previous output).</p>
<p>Modern Unix and Unix-like operating system kernels typically provide two commonly-used sources of randomness, named <tt>/dev/random</tt> and <tt>/dev/urandom</tt>.</p>
<p>Both mix in input that isn&#8217;t entirely dependent on software, such as mouse movements, disk latency measurements, network traffic, keyboard activity, and more. </p>
<p style='background-color:#e8e8e8;font-size:80%;padding:.71em;padding-left:2em;text-indent:-1.29em;'>&rarr; Mouse and keyboard movements are not a terribly good source of <em>entropy</em>, as &#8220;lack of order and predictability&#8221; is called in the field of random numbers. Indeed, user interaction never happens on headless servers. But mixing in at least some data extracted from the real-time behaviour of the underlying hardware, especially measurements that are affected by external factors such as temperature or load imposed by other devices on the network, helps to reduce the predictability of algorithmically generated output.</p>
<p>In practice, the difference between <tt>urandom</tt> and <tt>random</tt> is that the former continues unabated even if the external entropy feed runs dry, falling back on purely software-based output, while the latter stream of data may block, meaning that a program reading it will freeze until the entropy pool acquires some new input.</p>
<p>You can demonstrate this on a Unix-like system by running the command <tt>od -Ax -t x1 /dev/random</tt> and letting it run:</p>
<p><img loading="lazy" src="http://news-sophos.go-vip.net/wp-content/uploads/sites/2/2013/04/od-devrandom-490.png" width="490" height="96"></img></p>
<p>Every now and then, you should see the output pause for a while as the system&#8217;s hardware-derived entropy pool dries up; wait a while (or wiggle the mouse to provide some external input to the pool) and the flow of random bytes should resume.</p>
<p>So, part of the promise of <tt>/dev/random</tt> is that it tries really hard to be random.</p>
<p>In NetBSD, which uses an AES-128-based random number generator keyed independently for each process that uses <tt>/dev/random</tt>, fulfilling that &#8220;promise&#8221; was done with code in C similar to this:</p>
<p><img loading="lazy" src="http://news-sophos.go-vip.net/wp-content/uploads/sites/2/2013/04/netbsd-code-bad-4901.png" width="490" height="86"></img></p>
<p>Turned into pseudocode, this is supposed to achieve the following result (the variable <tt>key</tt> is an AES-128 cipher key, 128 bits or 16 bytes in length):</p>
<pre>
read up to 16 bytes of high-quality random data
if we got fewer that 16 bytes then:
    produce a warning about entropy
    top up the 16 bytes with lower-quality data
</pre>
<p>Even if there is a shortage of high-quality entropy data, your random number stream will nevertheless consist of AES output keyed by a full 16 bytes of at-worst-pseudorandom data that is unique to your use of <tt>/dev/random</tt>.</p>
<p>Except that the C code above doesn&#8217;t actually do what was intended. It was supposed to be:</p>
<p><img loading="lazy" src="http://news-sophos.go-vip.net/wp-content/uploads/sites/2/2013/04/netbsd-code-goo-490.png" width="490" height="86"></img></p>
<p>Notice the subtle-yet-critical difference between <tt>sizeof(key-r)</tt> and <tt>sizeof(key)-r</tt>.</p>
<p>Due to the pecadilloes of C, <tt>sizeof(key)</tt> works out to be the size of the memory buffer <tt>key</tt>, which is defined in the NetBSD code similarly to this:</p>
<pre>
unsigned char key[16];  /* 128-bit AES */
</pre>
<p>Since <tt>r</tt> is the number of high-entropy bytes read in so far, <tt>sizeof(key)-r</tt>, which is what the programmer meant to write, works out to be the number of bytes by which <tt>r</tt> fell short of 16.</p>
<p>So, topping up the original <tt>r</tt> bytes of random data with a further <tt>sizeof(key)-r</tt> bytes of pseudorandom data ensures that a full 16 bytes of random data (whether of <tt>GOOD</tt> or <tt>ANY</tt> quality) are always used to seed the random generator.</p>
<p>This is so because, perhaps rather obviously, <tt>r</tt> plus <tt>sizeof(key)-r</tt> is equal to <tt>sizeof(key)</tt>, i.e. 16.</p>
<p>But the programmer wrote <tt>sizeof(key-r)</tt> by mistake.</p>
<p>That doesn&#8217;t really make sense, at least to a human, since <tt>sizeof()</tt> in C usually produces a constant determined at compile time, while <tt>r</tt> is the variable amount of data read in at runtime. </p>
<p>Sadly for NetBSD, however, a fixed memory address (in this case, the address of <tt>key</tt>) plus or minus a variable integer (in this case, <tt>r</tt>) is considered by the C compiler to be an address with an offset: in other words, just another memory address. </p>
<p>And so <tt>sizeof(key-r)</tt>, computed at compile time, is equivalent to <tt>sizeof(the space needed to store any memory address</tt>), i.e. the size of a pointer variable.</p>
<p>That is <em>not</em> the same thing as <tt>sizeof(memory actually dedicated to the array variable key)</tt>.</p>
<p>Indeed, on a 64-bit system, <tt>sizeof(key-r)</tt> is 8; on a 32-bit system, with 32-bit memory addresses, it&#8217;s only 4.</p>
<p>So, in the worst case, the erroneous code might perform as follows:</p>
<pre>
read up to 16 bytes of high-quality random data
oh dear, no high-quality data at all, so:
    produce a warning about entropy
    rely on just 4 bytes of lower-quality data
</pre>
<p>The bug was <a href="http://ftp.netbsd.org/pub/NetBSD/security/advisories/NetBSD-SA2013-003.txt.asc">easily fixed</a>, although it has been <a href="http://cvsweb.netbsd.org/bsdweb.cgi/src/sys/kern/subr_cprng.c.diff?r1=1.14&amp;r2=1.16&amp;only_with_tag=MAIN&amp;f=h" rel="nofollow">fixed again</a> since The Register&#8217;s article last week, following a decision that the <a href="http://cvsweb.netbsd.org/bsdweb.cgi/src/sys/kern/subr_cprng.c.diff?r1=1.14&amp;r2=1.15&amp;only_with_tag=MAIN&amp;f=h" rel="nofollow">original fix</a> wasn&#8217;t entirely satisfactory:</p>
<p><img loading="lazy" src="http://news-sophos.go-vip.net/wp-content/uploads/sites/2/2013/04/fix-of-fix-490.png" width="490" height="190"></img></p>
<p>The good news is that in <a href="http://cvsweb.netbsd.org/bsdweb.cgi/src/sys/kern/subr_cprng.c.diff?r1=1.15&amp;r2=1.16&amp;only_with_tag=MAIN&amp;f=h" rel="nofollow">fixing the fix</a>, the coder reviewing the original error came to the conclusion that even an ineptly-keyed random stream would probably not be predictable.</p>
<p>That&#8217;s because the random generator continues mixing in additional input between the initial &#8220;keying&#8221; stage and the point at which the user starts getting data from it, adding entropy over and above the minimum four starting bytes.</p>
<p>Nevertheless, there are two lessons here that every C programmer needs to remember:</p>
<ul>
<li>Watch those brackets.</li>
<li>The <tt>sizeof()</tt> <a href="http://en.wikipedia.org/wiki/Sizeof" rel="nofollow">operator</a> isn&#8217;t a function.</li>
</ul>
<p style='padding-bottom:.8em;padding-top:.8em;'></p>
			</div> <!-- .entry-content -->
	<ul class="block social follow">
		<li>
			<svg style="height: 24px" viewBox="0 0 24 24" class="icon twitter"><use xlink:href="#twitter"></use></svg>
			<p>Follow <strong><a href="https://twitter.com/nakedsecurity">@NakedSecurity on Twitter</a></strong> for the latest computer security news.</p>
		</li>
		<li>
			<svg style="height: 24px" viewBox="0 0 24 24" class="icon instagram"><use xlink:href="#instagram"></use></svg>
			<p>Follow <strong><a href="https://www.instagram.com/nakedsecurity/">@NakedSecurity on Instagram</a></strong> for exclusive pics, gifs, vids and LOLs!</p>
		</li>
	</ul>
</article><!-- #post-## -->

		<div class="free-tools-block">
			<h2 class="block-title">Free tools</h2>

<div class="ns-free-tools">
	<div class="ns-free-tools__item ns-free-tools__item--sophos-home">
		<a class="ns-free-tools__link" href="https://home.sophos.com/en-us.aspx?cmp=701j0000001eLpnAAE">
			<img src="https://nakedsecurity.sophos.com/wp-content/themes/sophosnews-2015/img/free-tools/sophos-home@2x.png" alt="Sophos Home" class="ns-free-tools__image" width="166" height="100">
			<h4 class="ns-free-tools__title">
				Sophos Home			</h4>
			<div class="ns-free-tools__sub-title">
				Protect personal PCs and Macs			</div>
		</a>
	</div>
	<div class="ns-free-tools__item ns-free-tools__item--hitman-pro">
		<a class="ns-free-tools__link" href="https://www.hitmanpro.com/en-us/hmp.aspx">
			<img src="https://nakedsecurity.sophos.com/wp-content/themes/sophosnews-2015/img/free-tools/hitman-pro@2x.png" alt="Hitman Pro" class="ns-free-tools__image" width="154" height="100">
			<h4 class="ns-free-tools__title">
				Hitman Pro			</h4>
			<div class="ns-free-tools__sub-title">
				Find and remove malware			</div>
		</a>
	</div>
	<div class="ns-free-tools__item ns-free-tools__item--intercept-x">
		<a class="ns-free-tools__link" href="https://www.sophos.com/en-us/products/free-tools/sophos-mobile-security-free-edition.aspx">
			<img src="https://nakedsecurity.sophos.com/wp-content/themes/sophosnews-2015/img/free-tools/mobile-security-android@2x.png" alt="Sophos Intercept X for Mobile" class="ns-free-tools__image" width="96" height="110">
			<h4 class="ns-free-tools__title">
				Intercept X for Mobile			</h4>
			<div class="ns-free-tools__sub-title">
				Protect Android devices			</div>
		</a>
	</div>
</div>
		</div>

			<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>

		<div class="nav-links">
			<div class="nav-previous"><a href="https://nakedsecurity.sophos.com/2013/04/01/monday-review-the-hot-13-stories-of-the-week/" rel="prev"><span class="nav-label">Previous</span><span class="nav-seperator">:</span><span class="nav-title"> Monday review &#8211; the hot 13 stories of the week</span></a></div><div class="nav-next"><a href="https://nakedsecurity.sophos.com/2013/04/01/rude-password-login-denied-the-att-april-fool-that-wasnt/" rel="next"><span class="nav-label">Next</span><span class="nav-seperator">:</span><span class="nav-title"> &#8220;Rude password &#8211; login denied&#8221;: the AT&amp;T April Fool that wasn&#8217;t</span></a></div>		</div>
		<!-- .nav-links -->
	</nav><!-- .navigation -->
	
	
	</main><!-- #main -->

	</div> <!-- .panel-container -->
	</div> <!-- .container -->
	</section> <!-- .panel -->

	
	
	<section class="comments-panel">
	<div class="container">
	<div class="panel-content framed-content-area">

			
<div id="comments" class="comments-area">

			<h2 class="comments-title">
			23 comments on &ldquo;<span>Anatomy of a bug &#8211; misplaced parenthesis threatens NetBSD&#8217;s random numbers</span>&rdquo;		</h2>

		<ol class="comment-list">
					<li id="comment-157404" class="comment even thread-even depth-1 parent">
			<article id="div-comment-157404" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo avatar-default' height='50' width='50' loading='lazy'/>						<b class="fn">Mark</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157404"><time datetime="2013-04-01T17:59:00+01:00">April 1, 2013 at 5:59 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Is it me but are the two screenshots above the same. </p>
<p>Shouldn&#039;t one be  sizeof(key-r)? </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157404"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157404={"id":7238218,"unique_id":"wp-comment-157404","title":"Is%20it%20me%20but%20are%20the%20two%20screenshots%20above%20the%20same.%20%20Shouldn%26%23039%3Bt%20one%20be%20%20sizeof%28key-r%29%3F%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157404","item_id":"_comm_157404"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157404#respond' data-commentid="157404" data-postid="222609" data-belowelement="div-comment-157404" data-respondelement="respond" data-replyto="Reply to Mark" aria-label='Reply to Mark'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157473" class="comment odd alt depth-2">
			<article id="div-comment-157473" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157473"><time datetime="2013-04-01T19:38:06+01:00">April 1, 2013 at 7:38 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Ow. </p>
<p>(Fixed, I hope.) </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157473"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157473={"id":7238218,"unique_id":"wp-comment-157473","title":"Ow.%20%20%28Fixed%2C%20I%20hope.%29%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157473","item_id":"_comm_157473"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157473#respond' data-commentid="157473" data-postid="222609" data-belowelement="div-comment-157473" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157407" class="comment even thread-odd thread-alt depth-1">
			<article id="div-comment-157407" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/8c1fa200f83767af1590d2cf79ff6fde?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/8c1fa200f83767af1590d2cf79ff6fde?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Brad</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157407"><time datetime="2013-04-01T18:02:00+01:00">April 1, 2013 at 6:02 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Typo in the current png files?   </p>
<p>They both have the exact same content, even down to the MD5 signature.  üôÅ  </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157407"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157407={"id":7238218,"unique_id":"wp-comment-157407","title":"Typo%20in%20the%20current%20png%20files%3F%20%20%20%20%20They%20both%20have%20the%20exact%20same%20content%2C%20even%20down%20to%20the%20MD5%20signature.%20%20%3A%28%20%20%20%20%20%20%20%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157407","item_id":"_comm_157407"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157407#respond' data-commentid="157407" data-postid="222609" data-belowelement="div-comment-157407" data-respondelement="respond" data-replyto="Reply to Brad" aria-label='Reply to Brad'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157409" class="comment odd alt thread-even depth-1">
			<article id="div-comment-157409" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/244a855e8fab99c13cbdfcf661476457?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/244a855e8fab99c13cbdfcf661476457?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Chris</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157409"><time datetime="2013-04-01T18:05:07+01:00">April 1, 2013 at 6:05 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Thanks for the write-up. I hate to be pedantic, but your two PNG snippets of the C are identical: one should say sizeof(key-r) (bad) and the other sizeof(key)-r (good). </p>
<p>C. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157409"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157409={"id":7238218,"unique_id":"wp-comment-157409","title":"Thanks%20for%20the%20write-up.%20I%20hate%20to%20be%20pedantic%2C%20but%20your%20two%20PNG%20snippets%20of%20the%20C%20are%20identical%3A%20one%20should%20say%20sizeof%28key-r%29%20%28bad%29%20and%20the%20other%20sizeof%28key%29-r%20%28good%29.%20%20C.%20%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157409","item_id":"_comm_157409"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157409#respond' data-commentid="157409" data-postid="222609" data-belowelement="div-comment-157409" data-respondelement="respond" data-replyto="Reply to Chris" aria-label='Reply to Chris'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157415" class="comment even thread-odd thread-alt depth-1">
			<article id="div-comment-157415" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/d2ec0b35673ff8d6e6c6791bcd37e617?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/d2ec0b35673ff8d6e6c6791bcd37e617?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Ben</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157415"><time datetime="2013-04-01T18:10:59+01:00">April 1, 2013 at 6:10 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Great and interesting post.  Just wanted to point out that the example C code is identical (sizeof(key) &#8211; r) in both instances which makes it hard to follow. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157415"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157415={"id":7238218,"unique_id":"wp-comment-157415","title":"Great%20and%20interesting%20post.%20%20Just%20wanted%20to%20point%20out%20that%20the%20example%20C%20code%20is%20identical%20%28sizeof%28key%29%20-%20r%29%20in%20both%20instances%20which%20makes%20it%20hard%20to%20follow.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157415","item_id":"_comm_157415"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157415#respond' data-commentid="157415" data-postid="222609" data-belowelement="div-comment-157415" data-respondelement="respond" data-replyto="Reply to Ben" aria-label='Reply to Ben'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157419" class="comment odd alt thread-even depth-1">
			<article id="div-comment-157419" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/dc77d29b1ae3faa1842c20263c36f739?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/dc77d29b1ae3faa1842c20263c36f739?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Rafael Jacob Werlang</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157419"><time datetime="2013-04-01T18:15:39+01:00">April 1, 2013 at 6:15 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Looks like there was also a memory corruption vulnerability there.<br />
If the first rnd_extract_data function call returned 13, 14 or 15 bytes of data on a 32bit processor, or even 9 to 15 bytes on a 64bit processor, seems like data right after the memory allocated for the key would get corrupted. I couldn&#039;t take a look at the whole function yet but if it is the case, which it clearly seems to be, its more alarming than just a flaw with the pseudo-randomness there. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157419"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157419={"id":7238218,"unique_id":"wp-comment-157419","title":"Looks%20like%20there%20was%20also%20a%20memory%20corruption%20vulnerability%20there.%20If%20the%20first%20rnd_extract_data%20function%20call%20returned%2013%2C%2014%20or%2015%20bytes%20of%20data%20on%20a%2032bit%20processor%2C%20or%20even%209%20to%2015%20bytes%20on%20a%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157419","item_id":"_comm_157419"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157419#respond' data-commentid="157419" data-postid="222609" data-belowelement="div-comment-157419" data-respondelement="respond" data-replyto="Reply to Rafael Jacob Werlang" aria-label='Reply to Rafael Jacob Werlang'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157420" class="comment even thread-odd thread-alt depth-1">
			<article id="div-comment-157420" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo avatar-default' height='50' width='50' loading='lazy'/>						<b class="fn">Tom</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157420"><time datetime="2013-04-01T18:17:26+01:00">April 1, 2013 at 6:17 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Your screenshots are the same, there&#039;s no difference&#8230; </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157420"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157420={"id":7238218,"unique_id":"wp-comment-157420","title":"Your%20screenshots%20are%20the%20same%2C%20there%26%23039%3Bs%20no%20difference...%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157420","item_id":"_comm_157420"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157420#respond' data-commentid="157420" data-postid="222609" data-belowelement="div-comment-157420" data-respondelement="respond" data-replyto="Reply to Tom" aria-label='Reply to Tom'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157423" class="comment odd alt thread-even depth-1 parent">
			<article id="div-comment-157423" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/5b8b9f2150b4d0c3ea2eb8b49b37109e?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/5b8b9f2150b4d0c3ea2eb8b49b37109e?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">David Rinehart</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157423"><time datetime="2013-04-01T18:21:49+01:00">April 1, 2013 at 6:21 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Interesting article. It&#039;s hard enough making sure the parentheses are closed, although at least the compiler helps with that; to get them closed in the right place is where art and science meet&#8230; </p>
<p>Two notes: </p>
<p>&#8211; in first paragraph, The Bard&#039;s name is Shakespeare, not Shakepseare<br />
&#8211; the two graphics of the code appear to be identical; at least, the &quot;sizeof(key)-r&quot; is the same in both graphics. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157423"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157423={"id":7238218,"unique_id":"wp-comment-157423","title":"Interesting%20article.%20It%26%23039%3Bs%20hard%20enough%20making%20sure%20the%20parentheses%20are%20closed%2C%20although%20at%20least%20the%20compiler%20helps%20with%20that%3B%20to%20get%20them%20closed%20in%20the%20right%20place%20is%20where%20art%20and%20science%20m%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157423","item_id":"_comm_157423"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157423#respond' data-commentid="157423" data-postid="222609" data-belowelement="div-comment-157423" data-respondelement="respond" data-replyto="Reply to David Rinehart" aria-label='Reply to David Rinehart'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157474" class="comment even depth-2">
			<article id="div-comment-157474" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157474"><time datetime="2013-04-01T19:38:53+01:00">April 1, 2013 at 7:38 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Ow. Ow. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157474"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157474={"id":7238218,"unique_id":"wp-comment-157474","title":"Ow.%20Ow.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157474","item_id":"_comm_157474"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157474#respond' data-commentid="157474" data-postid="222609" data-belowelement="div-comment-157474" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157424" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-157424" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/7a1dc0dad4f4bcdb022dfa3976f50ed5?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/7a1dc0dad4f4bcdb022dfa3976f50ed5?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Polonius</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157424"><time datetime="2013-04-01T18:23:45+01:00">April 1, 2013 at 6:23 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Unfortunately, your first two images of C code, which are intended to show the difference between the actual and intended code, appear to be identical. Then again, the whole story&#039;s probably an April Fool! </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157424"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157424={"id":7238218,"unique_id":"wp-comment-157424","title":"Unfortunately%2C%20your%20first%20two%20images%20of%20C%20code%2C%20which%20are%20intended%20to%20show%20the%20difference%20between%20the%20actual%20and%20intended%20code%2C%20appear%20to%20be%20identical.%20Then%20again%2C%20the%20whole%20story%26%23039%3Bs%20probably%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157424","item_id":"_comm_157424"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157424#respond' data-commentid="157424" data-postid="222609" data-belowelement="div-comment-157424" data-respondelement="respond" data-replyto="Reply to Polonius" aria-label='Reply to Polonius'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157476" class="comment even depth-2">
			<article id="div-comment-157476" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157476"><time datetime="2013-04-01T19:39:41+01:00">April 1, 2013 at 7:39 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Ow. </p>
<p>(Nice excuse! Sadly, it was not an April Fool, but merely a case of the same file uploaded twice under different names üôÇ </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157476"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157476={"id":7238218,"unique_id":"wp-comment-157476","title":"Ow.%20%20%28Nice%20excuse%21%20Sadly%2C%20it%20was%20not%20an%20April%20Fool%2C%20but%20merely%20a%20case%20of%20the%20same%20file%20uploaded%20twice%20under%20different%20names%20%3A-%29%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157476","item_id":"_comm_157476"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157476#respond' data-commentid="157476" data-postid="222609" data-belowelement="div-comment-157476" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157436" class="comment odd alt thread-even depth-1 parent">
			<article id="div-comment-157436" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/247b5f0ad46cda4db053791c79dae0fe?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/247b5f0ad46cda4db053791c79dae0fe?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Guest Viewer</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157436"><time datetime="2013-04-01T18:39:44+01:00">April 1, 2013 at 6:39 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Unless I am missing something, your examples, in the two blue boxes, are 100% identical.  The critical piece &#8211; sizeof(key)-r &#8211; is the same in both examples, leading the reader to&#8230; confusion. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157436"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157436={"id":7238218,"unique_id":"wp-comment-157436","title":"Unless%20I%20am%20missing%20something%2C%20your%20examples%2C%20in%20the%20two%20blue%20boxes%2C%20are%20100%25%20identical.%20%20The%20critical%20piece%20-%20sizeof%28key%29-r%20-%20is%20the%20same%20in%20both%20examples%2C%20leading%20the%20reader%20to...%20confusion.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157436","item_id":"_comm_157436"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157436#respond' data-commentid="157436" data-postid="222609" data-belowelement="div-comment-157436" data-respondelement="respond" data-replyto="Reply to Guest Viewer" aria-label='Reply to Guest Viewer'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157477" class="comment even depth-2">
			<article id="div-comment-157477" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157477"><time datetime="2013-04-01T19:39:59+01:00">April 1, 2013 at 7:39 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>And the author to a sense of self-irony. Ow. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157477"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157477={"id":7238218,"unique_id":"wp-comment-157477","title":"And%20the%20author%20to%20a%20sense%20of%20self-irony.%20Ow.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157477","item_id":"_comm_157477"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157477#respond' data-commentid="157477" data-postid="222609" data-belowelement="div-comment-157477" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157437" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-157437" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/0fb668951291c2807ac36d0dadb49986?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/0fb668951291c2807ac36d0dadb49986?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Ash</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157437"><time datetime="2013-04-01T18:40:03+01:00">April 1, 2013 at 6:40 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>The &quot;actual&quot; and &quot;supposed to be&quot; images are identical. The text explaining the issue is right but the pictures don&#039;t match.  </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157437"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157437={"id":7238218,"unique_id":"wp-comment-157437","title":"The%20%26quot%3Bactual%26quot%3B%20and%20%26quot%3Bsupposed%20to%20be%26quot%3B%20images%20are%20identical.%20The%20text%20explaining%20the%20issue%20is%20right%20but%20the%20pictures%20don%26%23039%3Bt%20match.%20%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157437","item_id":"_comm_157437"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157437#respond' data-commentid="157437" data-postid="222609" data-belowelement="div-comment-157437" data-respondelement="respond" data-replyto="Reply to Ash" aria-label='Reply to Ash'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157480" class="comment even depth-2">
			<article id="div-comment-157480" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157480"><time datetime="2013-04-01T19:41:23+01:00">April 1, 2013 at 7:41 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Ow. Now it&#039;s hurting, folks. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157480"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157480={"id":7238218,"unique_id":"wp-comment-157480","title":"Ow.%20Now%20it%26%23039%3Bs%20hurting%2C%20folks.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157480","item_id":"_comm_157480"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157480#respond' data-commentid="157480" data-postid="222609" data-belowelement="div-comment-157480" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157462" class="comment odd alt thread-even depth-1 parent">
			<article id="div-comment-157462" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/83d06dcc84b0f9fc14800460c7d03eca?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/83d06dcc84b0f9fc14800460c7d03eca?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">John Baxter</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157462"><time datetime="2013-04-01T19:21:13+01:00">April 1, 2013 at 7:21 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Please recheck the first code snippet. (I think the &#8230;sizeof(key-r) got fixed in producing the post, or the wrong image was picked up.) Then feel free to drop this comment. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157462"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157462={"id":7238218,"unique_id":"wp-comment-157462","title":"Please%20recheck%20the%20first%20code%20snippet.%20%28I%20think%20the%20...sizeof%28key-r%29%20got%20fixed%20in%20producing%20the%20post%2C%20or%20the%20wrong%20image%20was%20picked%20up.%29%20Then%20feel%20free%20to%20drop%20this%20comment.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157462","item_id":"_comm_157462"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157462#respond' data-commentid="157462" data-postid="222609" data-belowelement="div-comment-157462" data-respondelement="respond" data-replyto="Reply to John Baxter" aria-label='Reply to John Baxter'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157484" class="comment even depth-2">
			<article id="div-comment-157484" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157484"><time datetime="2013-04-01T19:42:32+01:00">April 1, 2013 at 7:42 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Ow. </p>
<p>(I felt obliged to keep your comment since all the others made it through üôÇ </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157484"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157484={"id":7238218,"unique_id":"wp-comment-157484","title":"Ow.%20%20%28I%20felt%20obliged%20to%20keep%20your%20comment%20since%20all%20the%20others%20made%20it%20through%20%3A-%29%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157484","item_id":"_comm_157484"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157484#respond' data-commentid="157484" data-postid="222609" data-belowelement="div-comment-157484" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-157466" class="comment odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-157466" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/e35b4f5fb4a0608bae7341bb86cbedbe?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/e35b4f5fb4a0608bae7341bb86cbedbe?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Robert</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157466"><time datetime="2013-04-01T19:26:31+01:00">April 1, 2013 at 7:26 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I think you accidentally used the &quot;correct&quot; code for both images? both show &quot;sizeof(key)-r&quot; </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157466"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157466={"id":7238218,"unique_id":"wp-comment-157466","title":"I%20think%20you%20accidentally%20used%20the%20%26quot%3Bcorrect%26quot%3B%20code%20for%20both%20images%3F%20both%20show%20%26quot%3Bsizeof%28key%29-r%26quot%3B%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157466","item_id":"_comm_157466"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157466#respond' data-commentid="157466" data-postid="222609" data-belowelement="div-comment-157466" data-respondelement="respond" data-replyto="Reply to Robert" aria-label='Reply to Robert'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157454" class="comment even thread-even depth-1">
			<article id="div-comment-157454" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/d3274acc287c70b24f1f8a09fc96a2f8?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/d3274acc287c70b24f1f8a09fc96a2f8?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Shawn Ohagan</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157454"><time datetime="2013-04-01T19:27:58+01:00">April 1, 2013 at 7:27 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>in your example you properly placed the parentheses on both the before and after </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157454"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157454={"id":7238218,"unique_id":"wp-comment-157454","title":"in%20your%20example%20you%20properly%20placed%20the%20parentheses%20on%20both%20the%20before%20and%20after%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157454","item_id":"_comm_157454"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157454#respond' data-commentid="157454" data-postid="222609" data-belowelement="div-comment-157454" data-respondelement="respond" data-replyto="Reply to Shawn Ohagan" aria-label='Reply to Shawn Ohagan'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-157469" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-157469" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/8a100f10e7d055c33d8bfb2384063c58?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/8a100f10e7d055c33d8bfb2384063c58?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Random reader</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157469"><time datetime="2013-04-01T19:28:38+01:00">April 1, 2013 at 7:28 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>You can&#039;t notice the subtle-yet-critical difference between the blue boxes because they are exactly the same. </p>
<p>&quot;That doesn&#039;t really to make sense&#8230;&quot; doesn&#039;t make sense. How about a little proofreading to make the subtle-yet-critical difference between meaningful commentary and utter nonsense. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157469"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157469={"id":7238218,"unique_id":"wp-comment-157469","title":"You%20can%26%23039%3Bt%20notice%20the%20subtle-yet-critical%20difference%20between%20the%20blue%20boxes%20because%20they%20are%20exactly%20the%20same.%20%20%26quot%3BThat%20doesn%26%23039%3Bt%20really%20to%20make%20sense...%26quot%3B%20doesn%26%23039%3Bt%20make%20sense.%20%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157469","item_id":"_comm_157469"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157469#respond' data-commentid="157469" data-postid="222609" data-belowelement="div-comment-157469" data-respondelement="respond" data-replyto="Reply to Random reader" aria-label='Reply to Random reader'>Reply</a></div>			</article><!-- .comment-body -->
		<ul class="children">
		<li id="comment-157472" class="comment even depth-2">
			<article id="div-comment-157472" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/025c4bb891cbc5a1bb24a4854f823e48?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Paul Ducklin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-157472"><time datetime="2013-04-01T19:37:56+01:00">April 1, 2013 at 7:37 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Thanks for your correction.  </p>
<p>But try reading the (very many) previous comments to understand the subtle-yet-critical difference between making your point and overstating your case to the point of egregious rudeness üôÇ  </p>
<p>(I suggest that &quot;doesn&#039;t really to make sense&quot; is actually comprehensible to most readers of English, since natural language often provides enough semantic redundancy to allow decent error correction. And I think you meant &quot;how about *sufficient* proofreading&quot;, since &quot;a little proofreading&quot; is what I did and it clearly wasn&#039;t enough.) </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_157472"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_157472={"id":7238218,"unique_id":"wp-comment-157472","title":"Thanks%20for%20your%20correction.%20%20%20But%20try%20reading%20the%20%28very%20many%29%20previous%20comments%20to%20understand%20the%20subtle-yet-critical%20difference%20between%20making%20your%20point%20and%20overstating%20your%20case%20to%20the%20point%20o%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-157472","item_id":"_comm_157472"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=157472#respond' data-commentid="157472" data-postid="222609" data-belowelement="div-comment-157472" data-respondelement="respond" data-replyto="Reply to Paul Ducklin" aria-label='Reply to Paul Ducklin'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-158285" class="comment odd alt thread-even depth-1">
			<article id="div-comment-158285" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/dc77d29b1ae3faa1842c20263c36f739?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/dc77d29b1ae3faa1842c20263c36f739?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">Rafael Jacob Werlang</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-158285"><time datetime="2013-04-02T20:34:34+01:00">April 2, 2013 at 8:34 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I am glad I am the only one who did not say anything about the misplaced picture.<br />
And then I am glad again I was the only one who spotted the memory corruption vulnerability, which should be stated as the worst case scenario, not low entropy on prng. </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_158285"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_158285={"id":7238218,"unique_id":"wp-comment-158285","title":"I%20am%20glad%20I%20am%20the%20only%20one%20who%20did%20not%20say%20anything%20about%20the%20misplaced%20picture.%20And%20then%20I%20am%20glad%20again%20I%20was%20the%20only%20one%20who%20spotted%20the%20memory%20corruption%20vulnerability%2C%20which%20should%20be%20stat%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-158285","item_id":"_comm_158285"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=158285#respond' data-commentid="158285" data-postid="222609" data-belowelement="div-comment-158285" data-respondelement="respond" data-replyto="Reply to Rafael Jacob Werlang" aria-label='Reply to Rafael Jacob Werlang'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-158256" class="comment even thread-odd thread-alt depth-1">
			<article id="div-comment-158256" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/70a0ab43debb7e83b4c02231654b8325?s=50&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/70a0ab43debb7e83b4c02231654b8325?s=100&#038;d=mm&#038;r=g 2x' class='avatar avatar-50 photo' height='50' width='50' loading='lazy'/>						<b class="fn">FR</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#comment-158256"><time datetime="2013-04-02T20:41:39+01:00">April 2, 2013 at 8:41 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>The other irony is that sizeof is not an function, it&#8217;s an operator.  So you don&#8217;t even need the brackets. </p>
<p>Not that I&#8217;m a language lawyer, but a bit of parsimony sometimes goes a long way.. </p>
<p>Bernard Shaw said it right such a long time ago.</p>
<p>üôÇ </p>
<div class="cs-rating pd-rating" id="pd_rating_holder_7238218_comm_158256"></div>
<script type="text/javascript" charset="UTF-8"><!--//--><![CDATA[//><!--
PDRTJS_settings_7238218_comm_158256={"id":7238218,"unique_id":"wp-comment-158256","title":"The%20other%20irony%20is%20that%20sizeof%20is%20not%20an%20function%2C%20it%26%23039%3Bs%20an%20operator.%20%20So%20you%20don%26%23039%3Bt%20even%20need%20the%20brackets.%20%20%20Not%20that%20I%26%23039%3Bm%20a%20language%20lawyer%2C%20but%20a%20bit%20of%20parsimony%20sometimes%20goes%20a%20long%20way..%20%20%20B%E2%80%A6","permalink":"https:\/\/nakedsecurity.sophos.com\/2013\/04\/01\/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd\/#comment-158256","item_id":"_comm_158256"};
//--><!]]></script>
<script type="text/javascript" charset="UTF-8" src="https://polldaddy.com/js/rating/rating.js"></script>				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://nakedsecurity.sophos.com/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/?replytocom=158256#respond' data-commentid="158256" data-postid="222609" data-belowelement="div-comment-158256" data-respondelement="respond" data-replyto="Reply to FR" aria-label='Reply to FR'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">What do you think? <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2013/04/01/anatomy-of-a-bug-misplaced-parenthesis-in-netbsd/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://nakedsecurity.sophos.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='222609' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="808a7e34cc" /></p><input type="hidden" id="ak_js" name="ak_js" value="140"/><textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100" style="display: none !important;"></textarea></form>	</div><!-- #respond -->
	
</div><!-- #comments -->
		<div class="comments-widget-area">
					</div>
	
	</div> <!-- .panel-container -->
	</div> <!-- .container -->
	</section> <!-- .panel -->

	

	<section class="recommended-panel">
	<div class="container">
	<div class="panel-content ">

		<h3 class="block-title">Recommended reads</h3>
	<div class="blocks">
		<article id="post-544534" class="card-slide">
	<div class="card-image">
		<div class="image-pointer"></div>
		<a href="https://nakedsecurity.sophos.com/2021/01/14/europol-announces-bust-of-worlds-biggest-dark-web-marketplace/"><div class="dynamic-image-frame">
		<div class="dynamic-image" style="background-image: url(https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2021/01/dw-1200.jpg?w=412&#038;h=200&#038;crop=1);"></div>
	</div></a>
	</div>
	<div class="card-content">
		<div class="meta-box">
			<div class="date-box">
				<span class="month">Jan</span><span class="day">14</span>
			</div>
 			<div class="author-box">
			<span class="by">by</span>
		Paul Ducklin	
	</div>
			<div class="comment-box">
				<span class="count">11</span>
			</div>
		</div>
		<h3 class="card-title"><a href="https://nakedsecurity.sophos.com/2021/01/14/europol-announces-bust-of-worlds-biggest-dark-web-marketplace/" rel="bookmark">Europol announces bust of &#8220;world&#8217;s biggest&#8221; dark web marketplace</a></h3>	</div>
</article> <!-- .card-article -->
<article id="post-547371" class="card-slide">
	<div class="card-image">
		<div class="image-pointer"></div>
		<a href="https://nakedsecurity.sophos.com/2021/02/23/keybase-secure-messaging-fixes-photo-leaking-bug-patch-now/"><div class="dynamic-image-frame">
		<div class="dynamic-image" style="background-image: url(https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2021/02/kbase-1200.png?w=412&#038;h=200&#038;crop=1);"></div>
	</div></a>
	</div>
	<div class="card-content">
		<div class="meta-box">
			<div class="date-box">
				<span class="month">Feb</span><span class="day">23</span>
			</div>
 			<div class="author-box">
			<span class="by">by</span>
		Paul Ducklin	
	</div>
			<div class="comment-box">
				<span class="count">0</span>
			</div>
		</div>
		<h3 class="card-title"><a href="https://nakedsecurity.sophos.com/2021/02/23/keybase-secure-messaging-fixes-photo-leaking-bug-patch-now/" rel="bookmark">Keybase secure messaging fixes photo-leaking bug &#8211; patch now!</a></h3>	</div>
</article> <!-- .card-article -->
<article id="post-547467" class="card-slide">
	<div class="card-image">
		<div class="image-pointer"></div>
		<a href="https://nakedsecurity.sophos.com/2021/03/03/i-see-you-your-home-working-photos-reveal-more-than-you-think/"><div class="dynamic-image-frame">
		<div class="dynamic-image" style="background-image: url(https://nakedsecurity.sophos.com/wp-content/uploads/sites/2/2021/02/jason-1200.jpg?w=412&#038;h=200&#038;crop=1);"></div>
	</div></a>
	</div>
	<div class="card-content">
		<div class="meta-box">
			<div class="date-box">
				<span class="month">Mar</span><span class="day">03</span>
			</div>
 			<div class="author-box">
			<span class="by">by</span>
		Jason Nurse	
	</div>
			<div class="comment-box">
				<span class="count">14</span>
			</div>
		</div>
		<h3 class="card-title"><a href="https://nakedsecurity.sophos.com/2021/03/03/i-see-you-your-home-working-photos-reveal-more-than-you-think/" rel="bookmark">I see you: your home-working photos reveal more than you think!</a></h3>	</div>
</article> <!-- .card-article -->
	</div>

	</div> <!-- .panel-container -->
	</div> <!-- .container -->
	</section> <!-- .panel -->

	
	
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="footer-container">
			<a href="#" class="js-collapse-footer"><svg style="height: 20px" viewBox="0 0 132 24" class="block icon sophos"><use xlink:href="#sophos"></use></svg></a>
			<div id="collapseFooter" class="blocks">
				<div class="sophos block">
					<ul id="menu-footer-primary" class="primary menu"><li id="menu-item-306737" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-306737"><a href="https://nakedsecurity.sophos.com/about/">About Naked Security</a></li>
<li id="menu-item-306754" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-306754"><a href="https://www.sophos.com/en-us/company.aspx">About Sophos</a></li>
<li id="menu-item-306747" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-306747"><a href="https://nakedsecurity.sophos.com/send-us-a-tip/">Send us a tip</a></li>
<li id="menu-item-323171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-323171"><a href="/cookies-and-scripts/">Cookies</a></li>
<li id="menu-item-323170" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-323170"><a href="https://www.sophos.com/en-us/legal/sophos-group-privacy-policy.aspx">Privacy</a></li>
<li id="menu-item-323169" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-323169"><a href="https://www.sophos.com/en-us/legal.aspx">Legal</a></li>
</ul>				</div>
										<div class="news block">
							<ul id="menu-products-column-one" class="small menu"><li id="menu-item-306998" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-306998"><a href="https://www.sophos.com/en-us/products/intercept-x.aspx">Intercept X</a></li>
<li id="menu-item-440801" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440801"><a href="https://www.sophos.com/en-us/products/server-security.aspx">Intercept X for Server</a></li>
<li id="menu-item-440802" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440802"><a href="https://www.sophos.com/en-us/products/mobile-control.aspx">Intercept X for Mobile</a></li>
</ul>						</div>
											<div class="products block">
							<ul id="menu-products-column-two" class="small menu"><li id="menu-item-440803" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440803"><a href="https://www.sophos.com/en-us/products/next-gen-firewall.aspx">XG Firewall</a></li>
<li id="menu-item-440805" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440805"><a href="https://www.sophos.com/en-us/products/sophos-email.aspx">Sophos Email</a></li>
<li id="menu-item-440804" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440804"><a href="https://www.sophos.com/en-us/products/secure-wifi.aspx">Sophos Wireless</a></li>
</ul>						</div>
											<div class="threats block">
							<ul id="menu-server-protection" class="small menu"><li id="menu-item-440806" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440806"><a href="https://www.sophos.com/en-us/products/managed-threat-response.aspx">Managed Threat Response</a></li>
<li id="menu-item-448404" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-448404"><a href="https://www.sophos.com/en-us/products/cloud-optix.aspx">Cloud Optix</a></li>
<li id="menu-item-440807" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-440807"><a href="https://www.sophos.com/en-us/products/phish-threat.aspx">Phish Threat</a></li>
</ul>						</div>
								</div>
			<ul class="block social footer">
				<li class="twitter"><a rel="nofollow" href="https://twitter.com/NakedSecurity" title="Follow our team of security experts on Twitter"><svg style="height: 14px" viewBox="0 0 100 100" class="icon twitter"><use xlink:href="#twitter"></use></svg></a></li>
				<li class="facebook"><a rel="nofollow" href="https://www.facebook.com/SophosSecurity" title="Join over 250,000 people in our Facebook community"><svg style="height: 14px" viewBox="0 0 100 100" class="icon facebook"><use xlink:href="#facebook"></use></svg></a></li>
				<li class="instagram"><a rel="nofollow" href="https://www.instagram.com/nakedsecurity/" title="Follow Naked Security on Instagram"><svg style="height: 14px" viewBox="0 0 100 100" class="icon instagram"><use xlink:href="#instagram"></use></svg></a></li>
				<li class="linkedin"><a rel="nofollow" href="https://www.linkedin.com/company/5053/" title="Join the naked security discussion group on LinkedIn"><svg style="height: 14px" viewBox="0 0 100 100" class="icon linkedin"><use xlink:href="#linkedin"></use></svg></a></li>
				<li class="rss"><a rel="nofollow" href="/feed" title="Subscribe to our RSS feed"><svg style="height: 14px" viewBox="0 0 100 100" class="icon rss"><use xlink:href="#rss"></use></svg></a></li>
			</ul>

							<div class="vip-powered-wpcom">
					<span class="copyright">¬© 1997 - 2021 Sophos Ltd.</span>
					All rights reserved.
					Powered by <a href="https://wpvip.com/?utm_source=vip_powered_wpcom&#038;utm_medium=web&#038;utm_campaign=VIP%20Footer%20Credit&#038;utm_term=nakedsecurity.sophos.com" rel="generator nofollow" class="powered-by-wpcom">WordPress VIP</a>				</div>
					</div>
		<script type="text/javascript">
			window.cookieconsent_options = {
				"message":"This site uses cookies. By continuing to browse the site you are agreeing to our use of cookies.",
				"dismiss":"Got it!",
				"learnMore":"Learn More",
				"link":"/cookies-and-scripts",
				"theme":"https://nakedsecurity.sophos.com/wp-content/themes/sophosnews-2015/css/sophos.css"};
		</script>
	</footer><!-- #colophon -->
</div><!-- #page -->
<div id="survey-wrapper" class="mfp-hide"><div class="pd-embed" id="pd_1499706777" data-settings=""></div></div>
<script id='child-js-plugins-js-extra'>
var PG8Data = {"startPage":"1","maxPages":"0","nextLink":""};
</script>
<script id='child-js-core-js-extra'>
var Sophos = {"ajaxurl":"https:\/\/nakedsecurity.sophos.com\/wp-admin\/admin-ajax.php","nonce":"64f6810f0c"};
</script>
<script type='text/javascript' src='https://nakedsecurity.sophos.com/_static/??-eJyNjkEKwjAQRS9kOonYggvxKGLT0SZmJiGTULx9Q7HgwoXL+f89/sCSlI1ckAuUGQkFJKY5CuMi6qhND14ghfp0LJ2XA/wl2Jhxpx3bUKfGbTlRM1XGFN4dOf4FtRNpxOm73yepqs8zcH85ISxway48YqbGXuliBtOfBq3P2q8Rb09t'></script>
<script src='https://stats.wp.com/e-202112.js' defer></script>
<script>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:9.5.2',blog:'166161173',post:'222609',tz:'0',srv:'nakedsecurity.sophos.com'} ]);
	_stq.push([ 'clickTrackerInit', '166161173', '222609' ]);
</script>
</body>
</html>
